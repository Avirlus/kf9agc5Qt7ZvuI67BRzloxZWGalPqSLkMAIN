// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

var aa;"use strict";var x="undefined"!==typeof Float32Array?Float32Array:Array,ba=Math.random,ca=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var a=0,b=arguments.length;b--;)a+=arguments[b]*arguments[b];return Math.sqrt(a)});var da={__proto__:null,EPSILON:1E-6,get yZ(){return x},I2:ba,xZ:"zyx",z9:function(a){x=a},V9:function(a){return a*ca},Xc:function(a,b){return Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))}};
function ea(a,b,d){var c=b[0],e=b[1],f=b[2];b=b[3];var g=d[0],h=d[1],k=d[2];d=d[3];a[0]=c*g+f*h;a[1]=e*g+b*h;a[2]=c*k+f*d;a[3]=e*k+b*d;return a}function fa(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];return a}
var ha=Object.freeze({__proto__:null,create:function(){var a=new x(4);x!=Float32Array&&(a[1]=0,a[2]=0);a[0]=1;a[3]=1;return a},clone:function(a){var b=new x(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},ua:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a},Ux:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},Mf:function(a,b,d,c){var e=new x(4);e[0]=a;e[1]=b;e[2]=d;e[3]=c;return e},set:function(a,b,d,c,e){a[0]=b;a[1]=d;a[2]=c;a[3]=e;return a},vR:function(a,b){if(a===b){var d=b[1];
a[1]=b[2];a[2]=d}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},Mt:function(a,b){var d=b[0],c=b[1],e=b[2];b=b[3];var f=d*b-e*c;if(!f)return null;f=1/f;a[0]=b*f;a[1]=-c*f;a[2]=-e*f;a[3]=d*f;return a},qQ:function(a,b){var d=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=d;return a},FJ:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:ea,rotate:function(a,b,d){var c=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(d);d=Math.cos(d);a[0]=c*d+f*g;a[1]=e*d+b*g;a[2]=c*-g+f*d;a[3]=e*-g+b*d;return a},scale:function(a,
b,d){var c=b[1],e=b[2],f=b[3],g=d[0];d=d[1];a[0]=b[0]*g;a[1]=c*g;a[2]=e*d;a[3]=f*d;return a},aD:function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=-d;a[3]=b;return a},MJ:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];return a},wm:function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},LJ:function(a){return Math.hypot(a[0],a[1],a[2],a[3])},Q0:function(a,b,d,c){a[2]=c[2]/c[0];d[0]=c[0];d[1]=c[1];d[3]=c[3]-a[2]*d[1];return[a,b,d]},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+
d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];return a},xm:fa,Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},Xc:function(a,b){var d=a[0],c=a[1],e=a[2];a=a[3];var f=b[0],g=b[1],h=b[2];b=b[3];return Math.abs(d-f)<=1E-6*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(c-g)<=1E-6*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(e-h)<=1E-6*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},bK:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=
b[3]*d;return a},cK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;return a},um:ea,sub:fa});function ia(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var k=d[0],l=d[1],m=d[2],n=d[3],p=d[4];d=d[5];a[0]=c*k+f*l;a[1]=e*k+g*l;a[2]=c*m+f*n;a[3]=e*m+g*n;a[4]=c*p+f*d+h;a[5]=e*p+g*d+b;return a}function ja(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];return a}
var ma=Object.freeze({__proto__:null,create:function(){var a=new x(6);x!=Float32Array&&(a[1]=0,a[2]=0,a[4]=0,a[5]=0);a[0]=1;a[3]=1;return a},clone:function(a){var b=new x(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b},ua:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a},Ux:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},Mf:function(a,b,d,c,e,f){var g=new x(6);g[0]=a;g[1]=b;g[2]=d;g[3]=c;g[4]=e;g[5]=f;return g},set:function(a,
b,d,c,e,f,g){a[0]=b;a[1]=d;a[2]=c;a[3]=e;a[4]=f;a[5]=g;return a},Mt:function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],g=b[4];b=b[5];var h=d*f-c*e;if(!h)return null;h=1/h;a[0]=f*h;a[1]=-c*h;a[2]=-e*h;a[3]=d*h;a[4]=(e*b-f*g)*h;a[5]=(c*g-d*b)*h;return a},FJ:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:ia,rotate:function(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var k=Math.sin(d);d=Math.cos(d);a[0]=c*d+f*k;a[1]=e*d+g*k;a[2]=c*-k+f*d;a[3]=e*-k+g*d;a[4]=h;a[5]=b;return a},scale:function(a,b,
d){var c=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=d[0];d=d[1];a[0]=b[0]*k;a[1]=c*k;a[2]=e*d;a[3]=f*d;a[4]=g;a[5]=h;return a},translate:function(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var k=d[0];d=d[1];a[0]=c;a[1]=e;a[2]=f;a[3]=g;a[4]=c*k+f*d+h;a[5]=e*k+g*d+b;return a},aD:function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=-d;a[3]=b;a[4]=0;a[5]=0;return a},MJ:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];a[4]=0;a[5]=0;return a},NJ:function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=
b[0];a[5]=b[1];return a},wm:function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},LJ:function(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],1)},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];return a},xm:ja,bK:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;return a},cK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;a[4]=
b[4]+d[4]*c;a[5]=b[5]+d[5]*c;return a},Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]},Xc:function(a,b){var d=a[0],c=a[1],e=a[2],f=a[3],g=a[4];a=a[5];var h=b[0],k=b[1],l=b[2],m=b[3],n=b[4];b=b[5];return Math.abs(d-h)<=1E-6*Math.max(1,Math.abs(d),Math.abs(h))&&Math.abs(c-k)<=1E-6*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(e-l)<=1E-6*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))&&Math.abs(g-n)<=1E-6*
Math.max(1,Math.abs(g),Math.abs(n))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},um:ia,sub:ja});function na(){var a=new x(9);x!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0);a[0]=1;a[4]=1;a[8]=1;return a}
function oa(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=d[0],p=d[1],q=d[2],t=d[3],r=d[4],u=d[5],v=d[6],w=d[7];d=d[8];a[0]=n*c+p*g+q*l;a[1]=n*e+p*h+q*m;a[2]=n*f+p*k+q*b;a[3]=t*c+r*g+u*l;a[4]=t*e+r*h+u*m;a[5]=t*f+r*k+u*b;a[6]=v*c+w*g+d*l;a[7]=v*e+w*h+d*m;a[8]=v*f+w*k+d*b;return a}function pa(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];a[6]=b[6]-d[6];a[7]=b[7]-d[7];a[8]=b[8]-d[8];return a}
var qa=Object.freeze({__proto__:null,create:na,qY:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a},clone:function(a){var b=new x(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},ua:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},Mf:function(a,b,d,c,e,f,g,h,k){var l=new x(9);l[0]=a;l[1]=b;l[2]=d;l[3]=c;l[4]=e;l[5]=
f;l[6]=g;l[7]=h;l[8]=k;return l},set:function(a,b,d,c,e,f,g,h,k,l){a[0]=b;a[1]=d;a[2]=c;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=k;a[8]=l;return a},Ux:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},vR:function(a,b){if(a===b){var d=b[1],c=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=d;a[5]=b[7];a[6]=c;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},Mt:function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=
b[6],l=b[7];b=b[8];var m=b*g-h*l,n=-b*f+h*k,p=l*f-g*k,q=d*m+c*n+e*p;if(!q)return null;q=1/q;a[0]=m*q;a[1]=(-b*c+e*l)*q;a[2]=(h*c-e*g)*q;a[3]=n*q;a[4]=(b*d-e*k)*q;a[5]=(-h*d+e*f)*q;a[6]=p*q;a[7]=(-l*d+c*k)*q;a[8]=(g*d-c*f)*q;return a},qQ:function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7];b=b[8];a[0]=g*b-h*l;a[1]=e*l-c*b;a[2]=c*h-e*g;a[3]=h*k-f*b;a[4]=d*b-e*k;a[5]=e*f-d*h;a[6]=f*l-g*k;a[7]=c*k-d*l;a[8]=d*g-c*f;return a},FJ:function(a){var b=a[3],d=a[4],c=a[5],e=a[6],f=a[7],g=
a[8];return a[0]*(g*d-c*f)+a[1]*(-g*b+c*e)+a[2]*(f*b-d*e)},multiply:oa,translate:function(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=d[0];d=d[1];a[0]=c;a[1]=e;a[2]=f;a[3]=g;a[4]=h;a[5]=k;a[6]=n*c+d*g+l;a[7]=n*e+d*h+m;a[8]=n*f+d*k+b;return a},rotate:function(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=Math.sin(d);d=Math.cos(d);a[0]=d*c+n*g;a[1]=d*e+n*h;a[2]=d*f+n*k;a[3]=d*g-n*c;a[4]=d*h-n*e;a[5]=d*k-n*f;a[6]=l;a[7]=m;a[8]=b;return a},
scale:function(a,b,d){var c=d[0];d=d[1];a[0]=c*b[0];a[1]=c*b[1];a[2]=c*b[2];a[3]=d*b[3];a[4]=d*b[4];a[5]=d*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},NJ:function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a},aD:function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=0;a[3]=-d;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},MJ:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},f7:function(a,b){a[0]=b[0];a[1]=b[1];
a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a},rY:function(a,b){var d=b[0],c=b[1],e=b[2];b=b[3];var f=d+d,g=c+c,h=e+e;d*=f;var k=c*f;c*=g;var l=e*f,m=e*g;e*=h;f*=b;g*=b;b*=h;a[0]=1-c-e;a[3]=k-b;a[6]=l+g;a[1]=k+b;a[4]=1-d-e;a[7]=m-f;a[2]=l-g;a[5]=m+f;a[8]=1-d-c;return a},x8:function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],m=b[8],n=b[9],p=b[10],q=b[11],t=b[12],r=b[13],u=b[14];b=b[15];var v=d*h-c*g,w=d*k-e*g,y=d*l-f*g,C=c*k-e*h,F=c*l-f*h,O=e*l-f*k,ka=
m*r-n*t,la=m*u-p*t;m=m*b-q*t;var Y=n*u-p*r;n=n*b-q*r;p=p*b-q*u;q=v*p-w*n+y*Y+C*m-F*la+O*ka;if(!q)return null;q=1/q;a[0]=(h*p-k*n+l*Y)*q;a[1]=(k*m-g*p-l*la)*q;a[2]=(g*n-h*m+l*ka)*q;a[3]=(e*n-c*p-f*Y)*q;a[4]=(d*p-e*m+f*la)*q;a[5]=(c*m-d*n-f*ka)*q;a[6]=(r*O-u*F+b*C)*q;a[7]=(u*y-t*O-b*w)*q;a[8]=(t*F-r*y+b*v)*q;return a},cR:function(a,b,d){a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/d;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a},wm:function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+
a[6]+", "+a[7]+", "+a[8]+")"},LJ:function(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+d[6];a[7]=b[7]+d[7];a[8]=b[8]+d[8];return a},xm:pa,bK:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*d;return a},cK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*
c;a[4]=b[4]+d[4]*c;a[5]=b[5]+d[5]*c;a[6]=b[6]+d[6]*c;a[7]=b[7]+d[7]*c;a[8]=b[8]+d[8]*c;return a},Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]},Xc:function(a,b){var d=a[0],c=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6],l=a[7];a=a[8];var m=b[0],n=b[1],p=b[2],q=b[3],t=b[4],r=b[5],u=b[6],v=b[7];b=b[8];return Math.abs(d-m)<=1E-6*Math.max(1,Math.abs(d),Math.abs(m))&&Math.abs(c-n)<=1E-6*Math.max(1,Math.abs(c),Math.abs(n))&&
Math.abs(e-p)<=1E-6*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(f-q)<=1E-6*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(g-t)<=1E-6*Math.max(1,Math.abs(g),Math.abs(t))&&Math.abs(h-r)<=1E-6*Math.max(1,Math.abs(h),Math.abs(r))&&Math.abs(k-u)<=1E-6*Math.max(1,Math.abs(k),Math.abs(u))&&Math.abs(l-v)<=1E-6*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},um:oa,sub:pa});
function sa(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function ta(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],p=b[9],q=b[10],t=b[11],r=b[12],u=b[13],v=b[14];b=b[15];var w=d[0],y=d[1],C=d[2],F=d[3];a[0]=w*c+y*h+C*n+F*r;a[1]=w*e+y*k+C*p+F*u;a[2]=w*f+y*l+C*q+F*v;a[3]=w*g+y*m+C*t+F*b;w=d[4];y=d[5];C=d[6];F=d[7];a[4]=w*c+y*h+C*n+F*r;a[5]=w*e+y*k+C*p+F*u;a[6]=w*f+y*l+C*q+F*v;a[7]=w*g+y*m+C*t+F*b;w=d[8];y=d[9];C=d[10];F=d[11];a[8]=w*c+y*h+C*n+F*r;a[9]=w*e+y*k+C*p+F*u;a[10]=w*f+y*l+C*q+F*v;a[11]=w*g+y*m+C*t+F*b;w=d[12];y=d[13];
C=d[14];F=d[15];a[12]=w*c+y*h+C*n+F*r;a[13]=w*e+y*k+C*p+F*u;a[14]=w*f+y*l+C*q+F*v;a[15]=w*g+y*m+C*t+F*b;return a}function ua(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=c+c,k=e+e,l=f+f;b=c*h;var m=c*k;c*=l;var n=e*k;e*=l;f*=l;h*=g;k*=g;g*=l;a[0]=1-(n+f);a[1]=m+g;a[2]=c-k;a[3]=0;a[4]=m-g;a[5]=1-(b+f);a[6]=e+h;a[7]=0;a[8]=c+k;a[9]=e-h;a[10]=1-(b+n);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function va(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}
function wa(a,b){var d=b[4],c=b[5],e=b[6],f=b[8],g=b[9],h=b[10];a[0]=Math.hypot(b[0],b[1],b[2]);a[1]=Math.hypot(d,c,e);a[2]=Math.hypot(f,g,h);return a}
function xa(a,b){var d=new x(3);wa(d,b);var c=1/d[0],e=1/d[1],f=1/d[2],g=b[0]*c;d=b[1]*e;var h=b[2]*f,k=b[4]*c,l=b[5]*e,m=b[6]*f;c*=b[8];e*=b[9];b=b[10]*f;f=g+l+b;0<f?(g=2*Math.sqrt(f+1),a[3]=.25*g,a[0]=(m-e)/g,a[1]=(c-h)/g,a[2]=(d-k)/g):g>l&&g>b?(g=2*Math.sqrt(1+g-l-b),a[3]=(m-e)/g,a[0]=.25*g,a[1]=(d+k)/g,a[2]=(c+h)/g):l>b?(g=2*Math.sqrt(1+l-g-b),a[3]=(c-h)/g,a[0]=(d+k)/g,a[1]=.25*g,a[2]=(m+e)/g):(g=2*Math.sqrt(1+b-g-l),a[3]=(d-k)/g,a[0]=(c+h)/g,a[1]=(m+e)/g,a[2]=.25*g);return a}
function za(a,b,d,c,e){b=1/Math.tan(b/2);a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=e&&Infinity!==e?(d=1/(c-e),a[10]=(e+c)*d,a[14]=2*e*c*d):(a[10]=-1,a[14]=-2*c);return a}function Aa(a,b,d,c,e,f,g){var h=1/(b-d),k=1/(c-e),l=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*l;a[11]=0;a[12]=(b+d)*h;a[13]=(e+c)*k;a[14]=(g+f)*l;a[15]=1;return a}
function Ba(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];a[6]=b[6]-d[6];a[7]=b[7]-d[7];a[8]=b[8]-d[8];a[9]=b[9]-d[9];a[10]=b[10]-d[10];a[11]=b[11]-d[11];a[12]=b[12]-d[12];a[13]=b[13]-d[13];a[14]=b[14]-d[14];a[15]=b[15]-d[15];return a}
var Ca=Object.freeze({__proto__:null,create:function(){var a=new x(16);x!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0);a[0]=1;a[5]=1;a[10]=1;a[15]=1;return a},clone:function(a){var b=new x(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},ua:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];
a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},Mf:function(a,b,d,c,e,f,g,h,k,l,m,n,p,q,t,r){var u=new x(16);u[0]=a;u[1]=b;u[2]=d;u[3]=c;u[4]=e;u[5]=f;u[6]=g;u[7]=h;u[8]=k;u[9]=l;u[10]=m;u[11]=n;u[12]=p;u[13]=q;u[14]=t;u[15]=r;return u},set:function(a,b,d,c,e,f,g,h,k,l,m,n,p,q,t,r,u){a[0]=b;a[1]=d;a[2]=c;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=k;a[8]=l;a[9]=m;a[10]=n;a[11]=p;a[12]=q;a[13]=t;a[14]=r;a[15]=u;return a},Ux:sa,
vR:function(a,b){if(a===b){var d=b[1],c=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=d;a[6]=b[9];a[7]=b[13];a[8]=c;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},Mt:function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],m=b[8],n=b[9],p=b[10],q=b[11],t=b[12],r=b[13],u=b[14];
b=b[15];var v=d*h-c*g,w=d*k-e*g,y=d*l-f*g,C=c*k-e*h,F=c*l-f*h,O=e*l-f*k,ka=m*r-n*t,la=m*u-p*t,Y=m*b-q*t,ra=n*u-p*r,Na=n*b-q*r,bb=p*b-q*u,ya=v*bb-w*Na+y*ra+C*Y-F*la+O*ka;if(!ya)return null;ya=1/ya;a[0]=(h*bb-k*Na+l*ra)*ya;a[1]=(e*Na-c*bb-f*ra)*ya;a[2]=(r*O-u*F+b*C)*ya;a[3]=(p*F-n*O-q*C)*ya;a[4]=(k*Y-g*bb-l*la)*ya;a[5]=(d*bb-e*Y+f*la)*ya;a[6]=(u*y-t*O-b*w)*ya;a[7]=(m*O-p*y+q*w)*ya;a[8]=(g*Na-h*Y+l*ka)*ya;a[9]=(c*Y-d*Na-f*ka)*ya;a[10]=(t*F-r*y+b*v)*ya;a[11]=(n*y-m*F-q*v)*ya;a[12]=(h*la-g*ra-k*ka)*ya;
a[13]=(d*ra-c*la+e*ka)*ya;a[14]=(r*w-t*C-u*v)*ya;a[15]=(m*C-n*w+p*v)*ya;return a},qQ:function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],m=b[8],n=b[9],p=b[10],q=b[11],t=b[12],r=b[13],u=b[14];b=b[15];var v=d*h-c*g,w=d*k-e*g,y=d*l-f*g,C=c*k-e*h,F=c*l-f*h,O=e*l-f*k,ka=m*r-n*t,la=m*u-p*t,Y=m*b-q*t,ra=n*u-p*r,Na=n*b-q*r,bb=p*b-q*u;a[0]=h*bb-k*Na+l*ra;a[1]=e*Na-c*bb-f*ra;a[2]=r*O-u*F+b*C;a[3]=p*F-n*O-q*C;a[4]=k*Y-g*bb-l*la;a[5]=d*bb-e*Y+f*la;a[6]=u*y-t*O-b*w;a[7]=m*O-p*y+q*w;a[8]=
g*Na-h*Y+l*ka;a[9]=c*Y-d*Na-f*ka;a[10]=t*F-r*y+b*v;a[11]=n*y-m*F-q*v;a[12]=h*la-g*ra-k*ka;a[13]=d*ra-c*la+e*ka;a[14]=r*w-t*C-u*v;a[15]=m*C-n*w+p*v;return a},FJ:function(a){var b=a[0],d=a[1],c=a[2],e=a[4],f=a[5],g=a[6],h=a[8],k=a[9],l=a[10],m=a[12],n=a[13],p=a[14],q=b*f-d*e,t=b*g-c*e,r=d*g-c*f,u=h*n-k*m,v=h*p-l*m,w=k*p-l*n;return a[7]*(b*w-d*v+c*u)-a[3]*(e*w-f*v+g*u)+a[15]*(h*r-k*t+l*q)-a[11]*(m*r-n*t+p*q)},multiply:ta,translate:function(a,b,d){var c=d[0],e=d[1];d=d[2];if(b===a)a[12]=b[0]*c+b[4]*e+
b[8]*d+b[12],a[13]=b[1]*c+b[5]*e+b[9]*d+b[13],a[14]=b[2]*c+b[6]*e+b[10]*d+b[14],a[15]=b[3]*c+b[7]*e+b[11]*d+b[15];else{var f=b[0];var g=b[1];var h=b[2];var k=b[3];var l=b[4];var m=b[5];var n=b[6];var p=b[7];var q=b[8];var t=b[9];var r=b[10];var u=b[11];a[0]=f;a[1]=g;a[2]=h;a[3]=k;a[4]=l;a[5]=m;a[6]=n;a[7]=p;a[8]=q;a[9]=t;a[10]=r;a[11]=u;a[12]=f*c+l*e+q*d+b[12];a[13]=g*c+m*e+t*d+b[13];a[14]=h*c+n*e+r*d+b[14];a[15]=k*c+p*e+u*d+b[15]}return a},scale:function(a,b,d){var c=d[0],e=d[1];d=d[2];a[0]=b[0]*
c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},rotate:function(a,b,d,c){var e=c[0],f=c[1];c=c[2];var g=Math.hypot(e,f,c);if(1E-6>g)return null;g=1/g;e*=g;f*=g;c*=g;var h=Math.sin(d);var k=Math.cos(d);var l=1-k;d=b[0];g=b[1];var m=b[2];var n=b[3];var p=b[4];var q=b[5];var t=b[6];var r=b[7];var u=b[8];var v=b[9];var w=b[10];var y=b[11];var C=e*e*l+k;var F=
f*e*l+c*h;var O=c*e*l-f*h;var ka=e*f*l-c*h;var la=f*f*l+k;var Y=c*f*l+e*h;var ra=e*c*l+f*h;e=f*c*l-e*h;f=c*c*l+k;a[0]=d*C+p*F+u*O;a[1]=g*C+q*F+v*O;a[2]=m*C+t*F+w*O;a[3]=n*C+r*F+y*O;a[4]=d*ka+p*la+u*Y;a[5]=g*ka+q*la+v*Y;a[6]=m*ka+t*la+w*Y;a[7]=n*ka+r*la+y*Y;a[8]=d*ra+p*e+u*f;a[9]=g*ra+q*e+v*f;a[10]=m*ra+t*e+w*f;a[11]=n*ra+r*e+y*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a},rK:function(a,b,d){var c=Math.sin(d);d=Math.cos(d);var e=b[4],f=b[5],g=b[6],h=b[7],k=b[8],l=b[9],m=b[10],
n=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*d+k*c;a[5]=f*d+l*c;a[6]=g*d+m*c;a[7]=h*d+n*c;a[8]=k*d-e*c;a[9]=l*d-f*c;a[10]=m*d-g*c;a[11]=n*d-h*c;return a},sK:function(a,b,d){var c=Math.sin(d);d=Math.cos(d);var e=b[0],f=b[1],g=b[2],h=b[3],k=b[8],l=b[9],m=b[10],n=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*d-k*c;a[1]=f*d-l*c;a[2]=g*d-m*c;a[3]=h*d-n*c;a[8]=e*c+k*d;a[9]=
f*c+l*d;a[10]=g*c+m*d;a[11]=h*c+n*d;return a},tK:function(a,b,d){var c=Math.sin(d);d=Math.cos(d);var e=b[0],f=b[1],g=b[2],h=b[3],k=b[4],l=b[5],m=b[6],n=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*d+k*c;a[1]=f*d+l*c;a[2]=g*d+m*c;a[3]=h*d+n*c;a[4]=k*d-e*c;a[5]=l*d-f*c;a[6]=m*d-g*c;a[7]=n*d-h*c;return a},NJ:function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=
b[2];a[15]=1;return a},MJ:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},aD:function(a,b,d){var c=d[0],e=d[1];d=d[2];var f=Math.hypot(c,e,d);if(1E-6>f)return null;f=1/f;c*=f;e*=f;d*=f;f=Math.sin(b);b=Math.cos(b);var g=1-b;a[0]=c*c*g+b;a[1]=e*c*g+d*f;a[2]=d*c*g-e*f;a[3]=0;a[4]=c*e*g-d*f;a[5]=e*e*g+b;a[6]=d*e*g+c*f;a[7]=0;a[8]=c*d*g+e*f;a[9]=e*d*g-c*f;a[10]=d*d*g+b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;
a[15]=1;return a},l7:function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},m7:function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},n7:function(a,b){var d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;
a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},sY:ua,h7:function(a,b){var d=new x(3),c=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=c*c+e*e+f*f+g*g;0<n?(d[0]=2*(h*g+m*c+k*f-l*e)/n,d[1]=2*(k*g+m*e+l*c-h*f)/n,d[2]=2*(l*g+m*f+h*e-k*c)/n):(d[0]=2*(h*g+m*c+k*f-l*e),d[1]=2*(k*g+m*e+l*c-h*f),d[2]=2*(l*g+m*f+h*e-k*c));ua(a,b,d);return a},uY:va,y7:wa,x7:xa,K6:function(a,b,d,c){b[0]=c[12];b[1]=c[13];b[2]=c[14];var e=c[0],f=c[1],g=c[2],h=c[4],k=c[5],l=c[6],m=c[8];b=c[9];c=c[10];d[0]=Math.hypot(e,
f,g);d[1]=Math.hypot(h,k,l);d[2]=Math.hypot(m,b,c);var n=1/d[0],p=1/d[1],q=1/d[2];d=e*n;f*=p;g*=q;h*=n;k*=p;l*=q;m*=n;b*=p;c*=q;p=d+k+c;0<p?(c=2*Math.sqrt(p+1),a[3]=.25*c,a[0]=(l-b)/c,a[1]=(m-g)/c,a[2]=(f-h)/c):d>k&&d>c?(c=2*Math.sqrt(1+d-k-c),a[3]=(l-b)/c,a[0]=.25*c,a[1]=(f+h)/c,a[2]=(m+g)/c):k>c?(c=2*Math.sqrt(1+k-d-c),a[3]=(m-g)/c,a[0]=(f+h)/c,a[1]=.25*c,a[2]=(l+b)/c):(c=2*Math.sqrt(1+c-d-k),a[3]=(f-h)/c,a[0]=(m+g)/c,a[1]=(l+b)/c,a[2]=.25*c);return a},i7:function(a,b,d,c){var e=b[0],f=b[1],g=b[2],
h=b[3],k=e+e,l=f+f,m=g+g;b=e*k;var n=e*l;e*=m;var p=f*l;f*=m;g*=m;k*=h;l*=h;h*=m;m=c[0];var q=c[1];c=c[2];a[0]=(1-(p+g))*m;a[1]=(n+h)*m;a[2]=(e-l)*m;a[3]=0;a[4]=(n-h)*q;a[5]=(1-(b+g))*q;a[6]=(f+k)*q;a[7]=0;a[8]=(e+l)*c;a[9]=(f-k)*c;a[10]=(1-(b+p))*c;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a},j7:function(a,b,d,c,e){var f=b[0],g=b[1],h=b[2],k=b[3],l=f+f,m=g+g,n=h+h;b=f*l;var p=f*m,q=f*n;f=g*m;g*=n;var t=h*n;h=k*l;m*=k;var r=k*n,u=c[0],v=c[1];n=c[2];c=e[0];k=e[1];e=e[2];l=(1-(f+t))*u;
var w=(p+r)*u;u*=q-m;p=(p-r)*v;t=(1-(b+t))*v;v*=g+h;q=(q+m)*n;g=(g-h)*n;b=(1-(b+f))*n;a[0]=l;a[1]=w;a[2]=u;a[3]=0;a[4]=p;a[5]=t;a[6]=v;a[7]=0;a[8]=q;a[9]=g;a[10]=b;a[11]=0;a[12]=d[0]+c-(l*c+p*k+q*e);a[13]=d[1]+k-(w*c+t*k+g*e);a[14]=d[2]+e-(u*c+v*k+b*e);a[15]=1;return a},rY:function(a,b){var d=b[0],c=b[1],e=b[2];b=b[3];var f=d+d,g=c+c,h=e+e;d*=f;var k=c*f;c*=g;var l=e*f,m=e*g;e*=h;f*=b;g*=b;b*=h;a[0]=1-c-e;a[1]=k+b;a[2]=l-g;a[3]=0;a[4]=k-b;a[5]=1-d-e;a[6]=m+f;a[7]=0;a[8]=l+g;a[9]=m-f;a[10]=1-d-c;a[11]=
0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},tY:function(a,b,d,c,e,f,g){var h=1/(d-b),k=1/(e-c),l=1/(f-g);a[0]=2*f*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*k;a[6]=0;a[7]=0;a[8]=(d+b)*h;a[9]=(e+c)*k;a[10]=(g+f)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*l;a[15]=0;return a},I8:za,perspective:za,YY:function(a,b,d,c,e){b=1/Math.tan(b/2);a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=e&&Infinity!==e?(d=1/(c-e),a[10]=e*d,a[14]=e*c*d):(a[10]=-1,a[14]=
-c);return a},H8:function(a,b,d,c){var e=Math.tan(b.b$*Math.PI/180),f=Math.tan(b.Q6*Math.PI/180),g=Math.tan(b.k8*Math.PI/180);b=Math.tan(b.k9*Math.PI/180);var h=2/(g+b),k=2/(e+f);a[0]=h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=k;a[6]=0;a[7]=0;a[8]=-((g-b)*h*.5);a[9]=(e-f)*k*.5;a[10]=c/(d-c);a[11]=-1;a[12]=0;a[13]=0;a[14]=c*d/(d-c);a[15]=0;return a},G8:Aa,VY:Aa,WY:function(a,b,d,c,e,f,g){var h=1/(b-d),k=1/(c-e);g=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=g;a[11]=
0;a[12]=(b+d)*h;a[13]=(e+c)*k;a[14]=f*g;a[15]=1;return a},MY:function(a,b,d,c){var e=b[0],f=b[1];b=b[2];var g=c[0];var h=c[1];var k=c[2];var l=d[0];c=d[1];var m=d[2];if(1E-6>Math.abs(e-l)&&1E-6>Math.abs(f-c)&&1E-6>Math.abs(b-m))return sa(a);d=e-l;c=f-c;l=b-m;var n=1/Math.hypot(d,c,l);d*=n;c*=n;l*=n;m=h*l-k*c;k=k*d-g*l;g=g*c-h*d;(n=Math.hypot(m,k,g))?(n=1/n,m*=n,k*=n,g*=n):g=k=m=0;h=c*g-l*k;var p=l*m-d*g;var q=d*k-c*m;(n=Math.hypot(h,p,q))?(n=1/n,h*=n,p*=n,q*=n):q=p=h=0;a[0]=m;a[1]=h;a[2]=d;a[3]=0;
a[4]=k;a[5]=p;a[6]=c;a[7]=0;a[8]=g;a[9]=q;a[10]=l;a[11]=0;a[12]=-(m*e+k*f+g*b);a[13]=-(h*e+p*f+q*b);a[14]=-(d*e+c*f+l*b);a[15]=1;return a},O9:function(a,b,d,c){var e=b[0],f=b[1];b=b[2];var g=c[0],h=c[1],k=c[2];c=e-d[0];var l=f-d[1];d=b-d[2];var m=c*c+l*l+d*d;0<m&&(m=1/Math.sqrt(m),c*=m,l*=m,d*=m);var n=h*d-k*l;k=k*c-g*d;g=g*l-h*c;m=n*n+k*k+g*g;0<m&&(m=1/Math.sqrt(m),n*=m,k*=m,g*=m);a[0]=n;a[1]=k;a[2]=g;a[3]=0;a[4]=l*g-d*k;a[5]=d*n-c*g;a[6]=c*k-l*n;a[7]=0;a[8]=c;a[9]=l;a[10]=d;a[11]=0;a[12]=e;a[13]=
f;a[14]=b;a[15]=1;return a},wm:function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},LJ:function(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+d[6];a[7]=b[7]+d[7];a[8]=b[8]+d[8];a[9]=
b[9]+d[9];a[10]=b[10]+d[10];a[11]=b[11]+d[11];a[12]=b[12]+d[12];a[13]=b[13]+d[13];a[14]=b[14]+d[14];a[15]=b[15]+d[15];return a},xm:Ba,bK:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12]*d;a[13]=b[13]*d;a[14]=b[14]*d;a[15]=b[15]*d;return a},cK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;a[4]=b[4]+d[4]*c;a[5]=b[5]+d[5]*c;a[6]=b[6]+d[6]*
c;a[7]=b[7]+d[7]*c;a[8]=b[8]+d[8]*c;a[9]=b[9]+d[9]*c;a[10]=b[10]+d[10]*c;a[11]=b[11]+d[11]*c;a[12]=b[12]+d[12]*c;a[13]=b[13]+d[13]*c;a[14]=b[14]+d[14]*c;a[15]=b[15]+d[15]*c;return a},Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]},Xc:function(a,b){var d=a[0],c=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6],l=a[7],
m=a[8],n=a[9],p=a[10],q=a[11],t=a[12],r=a[13],u=a[14];a=a[15];var v=b[0],w=b[1],y=b[2],C=b[3],F=b[4],O=b[5],ka=b[6],la=b[7],Y=b[8],ra=b[9],Na=b[10],bb=b[11],ya=b[12],ee=b[13],fe=b[14];b=b[15];return Math.abs(d-v)<=1E-6*Math.max(1,Math.abs(d),Math.abs(v))&&Math.abs(c-w)<=1E-6*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(e-y)<=1E-6*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(f-C)<=1E-6*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(g-F)<=1E-6*Math.max(1,Math.abs(g),Math.abs(F))&&Math.abs(h-O)<=1E-6*
Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(k-ka)<=1E-6*Math.max(1,Math.abs(k),Math.abs(ka))&&Math.abs(l-la)<=1E-6*Math.max(1,Math.abs(l),Math.abs(la))&&Math.abs(m-Y)<=1E-6*Math.max(1,Math.abs(m),Math.abs(Y))&&Math.abs(n-ra)<=1E-6*Math.max(1,Math.abs(n),Math.abs(ra))&&Math.abs(p-Na)<=1E-6*Math.max(1,Math.abs(p),Math.abs(Na))&&Math.abs(q-bb)<=1E-6*Math.max(1,Math.abs(q),Math.abs(bb))&&Math.abs(t-ya)<=1E-6*Math.max(1,Math.abs(t),Math.abs(ya))&&Math.abs(r-ee)<=1E-6*Math.max(1,Math.abs(r),Math.abs(ee))&&
Math.abs(u-fe)<=1E-6*Math.max(1,Math.abs(u),Math.abs(fe))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},um:ta,sub:Ba});function Da(){var a=new x(3);x!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0);return a}function Ea(a){return Math.hypot(a[0],a[1],a[2])}function Fa(a,b,d){var c=new x(3);c[0]=a;c[1]=b;c[2]=d;return c}function Ga(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];return a}function Ha(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];a[2]=b[2]*d[2];return a}
function Ia(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];a[2]=b[2]/d[2];return a}function Ja(a,b){return Math.hypot(b[0]-a[0],b[1]-a[1],b[2]-a[2])}function Ka(a,b){var d=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return d*d+c*c+a*a}function La(a){var b=a[0],d=a[1];a=a[2];return b*b+d*d+a*a}function Ma(a,b){var d=b[0],c=b[1],e=b[2];d=d*d+c*c+e*e;0<d&&(d=1/Math.sqrt(d));a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;return a}function Oa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}
function Pa(a,b,d){var c=b[0],e=b[1];b=b[2];var f=d[0],g=d[1];d=d[2];a[0]=e*d-b*g;a[1]=b*f-c*d;a[2]=c*g-e*f;return a}
var Qa=function(){var a=Da();return function(b,d,c,e,f,g){d||(d=3);c||(c=0);for(e=e?Math.min(e*d+c,b.length):b.length;c<e;c+=d)a[0]=b[c],a[1]=b[c+1],a[2]=b[c+2],f(a,a,g),b[c]=a[0],b[c+1]=a[1],b[c+2]=a[2];return b}}(),Ra=Object.freeze({__proto__:null,create:Da,clone:function(a){var b=new x(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},length:Ea,Mf:Fa,ua:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,d,c){a[0]=b;a[1]=d;a[2]=c;return a},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+
d[1];a[2]=b[2]+d[2];return a},xm:Ga,multiply:Ha,qm:Ia,ceil:function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a},floor:function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a},min:function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);a[2]=Math.min(b[2],d[2]);return a},max:function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);a[2]=Math.max(b[2],d[2]);return a},round:function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);
a[2]=Math.round(b[2]);return a},scale:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;return a},uK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=b[1]+d[1]*c;a[2]=b[2]+d[2]*c;return a},hd:Ja,kR:Ka,pD:La,YQ:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a},inverse:function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a},normalize:Ma,rm:Oa,EJ:Pa,Nf:function(a,b,d,c){var e=b[0],f=b[1];b=b[2];a[0]=e+c*(d[0]-e);a[1]=f+c*(d[1]-f);a[2]=b+c*(d[2]-b);return a},eZ:function(a,b,d,c){var e=Math.acos(Math.min(Math.max(Oa(b,
d),-1),1)),f=Math.sin(e),g=Math.sin((1-c)*e)/f;c=Math.sin(c*e)/f;a[0]=g*b[0]+c*d[0];a[1]=g*b[1]+c*d[1];a[2]=g*b[2]+c*d[2];return a},C7:function(a,b,d,c,e,f){var g=f*f,h=g*(2*f-3)+1,k=g*(f-2)+f,l=g*(f-1);f=g*(3-2*f);a[0]=b[0]*h+d[0]*k+c[0]*l+e[0]*f;a[1]=b[1]*h+d[1]*k+c[1]*l+e[1]*f;a[2]=b[2]*h+d[2]*k+c[2]*l+e[2]*f;return a},o6:function(a,b,d,c,e,f){var g=1-f,h=g*g,k=f*f,l=h*g;h*=3*f;g*=3*k;f*=k;a[0]=b[0]*l+d[0]*h+c[0]*g+e[0]*f;a[1]=b[1]*l+d[1]*h+c[1]*g+e[1]*f;a[2]=b[2]*l+d[2]*h+c[2]*g+e[2]*f;return a},
random:function(a,b){b=b||1;var d=2*ba()*Math.PI,c=2*ba()-1,e=Math.sqrt(1-c*c)*b;a[0]=Math.cos(d)*e;a[1]=Math.sin(d)*e;a[2]=c*b;return a},EK:function(a,b,d){var c=b[0],e=b[1];b=b[2];var f=d[3]*c+d[7]*e+d[11]*b+d[15];f=f||1;a[0]=(d[0]*c+d[4]*e+d[8]*b+d[12])/f;a[1]=(d[1]*c+d[5]*e+d[9]*b+d[13])/f;a[2]=(d[2]*c+d[6]*e+d[10]*b+d[14])/f;return a},nZ:function(a,b,d){var c=b[0],e=b[1];b=b[2];a[0]=c*d[0]+e*d[3]+b*d[6];a[1]=c*d[1]+e*d[4]+b*d[7];a[2]=c*d[2]+e*d[5]+b*d[8];return a},oZ:function(a,b,d){var c=d[0],
e=d[1],f=d[2],g=b[0],h=b[1];b=b[2];var k=e*b-f*h,l=f*g-c*b,m=c*h-e*g;d=2*d[3];a[0]=g+k*d+2*(e*m-f*l);a[1]=h+l*d+2*(f*k-c*m);a[2]=b+m*d+2*(c*l-e*k);return a},rK:function(a,b,d,c){var e=[],f=[];e[0]=b[0]-d[0];e[1]=b[1]-d[1];e[2]=b[2]-d[2];f[0]=e[0];f[1]=e[1]*Math.cos(c)-e[2]*Math.sin(c);f[2]=e[1]*Math.sin(c)+e[2]*Math.cos(c);a[0]=f[0]+d[0];a[1]=f[1]+d[1];a[2]=f[2]+d[2];return a},sK:function(a,b,d,c){var e=[],f=[];e[0]=b[0]-d[0];e[1]=b[1]-d[1];e[2]=b[2]-d[2];f[0]=e[2]*Math.sin(c)+e[0]*Math.cos(c);f[1]=
e[1];f[2]=e[2]*Math.cos(c)-e[0]*Math.sin(c);a[0]=f[0]+d[0];a[1]=f[1]+d[1];a[2]=f[2]+d[2];return a},tK:function(a,b,d,c){var e=[],f=[];e[0]=b[0]-d[0];e[1]=b[1]-d[1];e[2]=b[2]-d[2];f[0]=e[0]*Math.cos(c)-e[1]*Math.sin(c);f[1]=e[0]*Math.sin(c)+e[1]*Math.cos(c);f[2]=e[2];a[0]=f[0]+d[0];a[1]=f[1]+d[1];a[2]=f[2]+d[2];return a},angle:function(a,b){var d=a[0],c=a[1],e=a[2],f=b[0],g=b[1],h=b[2];d=Math.sqrt((d*d+c*c+e*e)*(f*f+g*g+h*h));return Math.acos(Math.min(Math.max(d&&Oa(a,b)/d,-1),1))},HR:function(a){a[0]=
0;a[1]=0;a[2]=0;return a},wm:function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},Xc:function(a,b){var d=a[0],c=a[1];a=a[2];var e=b[0],f=b[1];b=b[2];return Math.abs(d-e)<=1E-6*Math.max(1,Math.abs(d),Math.abs(e))&&Math.abs(c-f)<=1E-6*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},sub:Ga,um:Ha,BQ:Ia,zQ:Ja,jR:Ka,$x:Ea,oD:La,forEach:Qa});
function Sa(){var a=new x(4);x!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0);return a}function Ta(a){var b=new x(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}function Ua(a,b,d,c){var e=new x(4);e[0]=a;e[1]=b;e[2]=d;e[3]=c;return e}function Va(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function Wa(a,b,d,c,e){a[0]=b;a[1]=d;a[2]=c;a[3]=e;return a}function Xa(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];return a}
function Ya(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];return a}function Za(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];a[2]=b[2]*d[2];a[3]=b[3]*d[3];return a}function $a(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];a[2]=b[2]/d[2];a[3]=b[3]/d[3];return a}function ab(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;return a}function cb(a,b){return Math.hypot(b[0]-a[0],b[1]-a[1],b[2]-a[2],b[3]-a[3])}
function db(a,b){var d=b[0]-a[0],c=b[1]-a[1],e=b[2]-a[2];a=b[3]-a[3];return d*d+c*c+e*e+a*a}function eb(a){return Math.hypot(a[0],a[1],a[2],a[3])}function fb(a){var b=a[0],d=a[1],c=a[2];a=a[3];return b*b+d*d+c*c+a*a}function gb(a,b){var d=b[0],c=b[1],e=b[2];b=b[3];var f=d*d+c*c+e*e+b*b;0<f&&(f=1/Math.sqrt(f));a[0]=d*f;a[1]=c*f;a[2]=e*f;a[3]=b*f;return a}function hb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}
function ib(a,b,d,c){var e=b[0],f=b[1],g=b[2];b=b[3];a[0]=e+c*(d[0]-e);a[1]=f+c*(d[1]-f);a[2]=g+c*(d[2]-g);a[3]=b+c*(d[3]-b);return a}function jb(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}
var kb=function(){var a=Sa();return function(b,d,c,e,f,g){d||(d=4);c||(c=0);for(e=e?Math.min(e*d+c,b.length):b.length;c<e;c+=d)a[0]=b[c],a[1]=b[c+1],a[2]=b[c+2],a[3]=b[c+3],f(a,a,g),b[c]=a[0],b[c+1]=a[1],b[c+2]=a[2],b[c+3]=a[3];return b}}(),lb=Object.freeze({__proto__:null,create:Sa,clone:Ta,Mf:Ua,ua:Va,set:Wa,add:Xa,xm:Ya,multiply:Za,qm:$a,ceil:function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a},floor:function(a,b){a[0]=Math.floor(b[0]);a[1]=
Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a},min:function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);a[2]=Math.min(b[2],d[2]);a[3]=Math.min(b[3],d[3]);return a},max:function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);a[2]=Math.max(b[2],d[2]);a[3]=Math.max(b[3],d[3]);return a},round:function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a},scale:ab,uK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=
b[1]+d[1]*c;a[2]=b[2]+d[2]*c;a[3]=b[3]+d[3]*c;return a},hd:cb,kR:db,length:eb,pD:fb,YQ:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a},inverse:function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a},normalize:gb,rm:hb,EJ:function(a,b,d,c){var e=d[0]*c[1]-d[1]*c[0],f=d[0]*c[2]-d[2]*c[0],g=d[0]*c[3]-d[3]*c[0],h=d[1]*c[2]-d[2]*c[1],k=d[1]*c[3]-d[3]*c[1];d=d[2]*c[3]-d[3]*c[2];c=b[0];var l=b[1],m=b[2];b=b[3];a[0]=l*d-m*k+b*h;a[1]=-(c*d)+m*g-b*f;a[2]=c*k-l*g+b*e;a[3]=
-(c*h)+l*f-m*e;return a},Nf:ib,random:function(a,b){b=b||1;do{var d=2*ba()-1;var c=2*ba()-1;var e=d*d+c*c}while(1<=e);do{var f=2*ba()-1;var g=2*ba()-1;var h=f*f+g*g}while(1<=h);e=Math.sqrt((1-e)/h);a[0]=b*d;a[1]=b*c;a[2]=b*f*e;a[3]=b*g*e;return a},EK:function(a,b,d){var c=b[0],e=b[1],f=b[2];b=b[3];a[0]=d[0]*c+d[4]*e+d[8]*f+d[12]*b;a[1]=d[1]*c+d[5]*e+d[9]*f+d[13]*b;a[2]=d[2]*c+d[6]*e+d[10]*f+d[14]*b;a[3]=d[3]*c+d[7]*e+d[11]*f+d[15]*b;return a},oZ:function(a,b,d){var c=b[0],e=b[1],f=b[2],g=d[0],h=d[1],
k=d[2];d=d[3];var l=d*c+h*f-k*e,m=d*e+k*c-g*f,n=d*f+g*e-h*c;c=-g*c-h*e-k*f;a[0]=l*d+c*-g+m*-k-n*-h;a[1]=m*d+c*-h+n*-g-l*-k;a[2]=n*d+c*-k+l*-h-m*-g;a[3]=b[3];return a},HR:function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},wm:function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},Ih:jb,Xc:function(a,b){var d=a[0],c=a[1],e=a[2];a=a[3];var f=b[0],g=b[1],h=b[2];b=b[3];return Math.abs(d-f)<=1E-6*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(c-g)<=1E-6*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(e-
h)<=1E-6*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},sub:Ya,um:Za,BQ:$a,zQ:cb,jR:db,$x:eb,oD:fb,forEach:kb});function mb(){var a=new x(4);x!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0);a[3]=1;return a}function nb(a,b,d){d*=.5;var c=Math.sin(d);a[0]=c*b[0];a[1]=c*b[1];a[2]=c*b[2];a[3]=Math.cos(d);return a}
function ob(a,b,d){var c=b[0],e=b[1],f=b[2];b=b[3];var g=d[0],h=d[1],k=d[2];d=d[3];a[0]=c*d+b*g+e*k-f*h;a[1]=e*d+b*h+f*g-c*k;a[2]=f*d+b*k+c*h-e*g;a[3]=b*d-c*g-e*h-f*k;return a}function pb(a,b,d){d*=.5;var c=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(d);d=Math.cos(d);a[0]=c*d+b*g;a[1]=e*d+f*g;a[2]=f*d-e*g;a[3]=b*d-c*g;return a}function qb(a,b,d){d*=.5;var c=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(d);d=Math.cos(d);a[0]=c*d-f*g;a[1]=e*d+b*g;a[2]=f*d+c*g;a[3]=b*d-e*g;return a}
function rb(a,b,d){d*=.5;var c=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(d);d=Math.cos(d);a[0]=c*d+e*g;a[1]=e*d-c*g;a[2]=f*d+b*g;a[3]=b*d-f*g;return a}function sb(a,b){var d=b[0],c=b[1],e=b[2],f=Math.sqrt(d*d+c*c+e*e);b=Math.exp(b[3]);var g=0<f?b*Math.sin(f)/f:0;a[0]=d*g;a[1]=c*g;a[2]=e*g;a[3]=b*Math.cos(f);return a}function tb(a,b){var d=b[0],c=b[1],e=b[2];b=b[3];var f=Math.sqrt(d*d+c*c+e*e);f=0<f?Math.atan2(f,b)/f:0;a[0]=d*f;a[1]=c*f;a[2]=e*f;a[3]=.5*Math.log(d*d+c*c+e*e+b*b);return a}
function ub(a,b,d,c){var e=b[0],f=b[1],g=b[2];b=b[3];var h=d[0],k=d[1],l=d[2];d=d[3];var m=e*h+f*k+g*l+b*d;0>m&&(m=-m,h=-h,k=-k,l=-l,d=-d);if(1E-6<1-m){var n=Math.acos(m);var p=Math.sin(n);m=Math.sin((1-c)*n)/p;c=Math.sin(c*n)/p}else m=1-c;a[0]=m*e+c*h;a[1]=m*f+c*k;a[2]=m*g+c*l;a[3]=m*b+c*d;return a}
function vb(a,b){var d=b[0]+b[4]+b[8];if(0<d)d=Math.sqrt(d+1),a[3]=.5*d,d=.5/d,a[0]=(b[5]-b[7])*d,a[1]=(b[6]-b[2])*d,a[2]=(b[1]-b[3])*d;else{var c=0;b[4]>b[0]&&(c=1);b[8]>b[3*c+c]&&(c=2);var e=(c+1)%3,f=(c+2)%3;d=Math.sqrt(b[3*c+c]-b[3*e+e]-b[3*f+f]+1);a[c]=.5*d;d=.5/d;a[3]=(b[3*e+f]-b[3*f+e])*d;a[e]=(b[3*e+c]+b[3*c+e])*d;a[f]=(b[3*f+c]+b[3*c+f])*d}return a}
var wb=function(){var a=Da(),b=Fa(1,0,0),d=Fa(0,1,0);return function(c,e,f){var g=Oa(e,f);if(-.999999>g)return Pa(a,b,e),1E-6>Ea(a)&&Pa(a,d,e),Ma(a,a),nb(c,a,Math.PI),c;if(.999999<g)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;Pa(a,e,f);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=1+g;return gb(c,c)}}(),xb=function(){var a=mb(),b=mb();return function(d,c,e,f,g,h){ub(a,c,g,h);ub(b,e,f,h);ub(d,a,b,2*h*(1-h));return d}}(),yb=function(){var a=na();return function(b,d,c,e){a[0]=c[0];a[3]=c[1];a[6]=c[2];a[1]=e[0];a[4]=e[1];
a[7]=e[2];a[2]=-d[0];a[5]=-d[1];a[8]=-d[2];return gb(b,vb(b,a))}}(),zb=Object.freeze({__proto__:null,create:mb,Ux:function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a},x9:nb,s7:function(a,b){var d=2*Math.acos(b[3]),c=Math.sin(d/2);1E-6<c?(a[0]=b[0]/c,a[1]=b[1]/c,a[2]=b[2]/c):(a[0]=1,a[1]=0,a[2]=0);return d},q7:function(a,b){a=hb(a,b);return Math.acos(2*a*a-1)},multiply:ob,rK:pb,sK:qb,tK:rb,q6:function(a,b){var d=b[0],c=b[1];b=b[2];a[0]=d;a[1]=c;a[2]=b;a[3]=Math.sqrt(Math.abs(1-d*d-c*c-b*b));return a},
exp:sb,LY:tb,pow:function(a,b,d){tb(a,b);ab(a,a,d);sb(a,a);return a},eZ:ub,random:function(a){var b=ba(),d=ba(),c=ba(),e=Math.sqrt(1-b);b=Math.sqrt(b);a[0]=e*Math.sin(2*Math.PI*d);a[1]=e*Math.cos(2*Math.PI*d);a[2]=b*Math.sin(2*Math.PI*c);a[3]=b*Math.cos(2*Math.PI*c);return a},Mt:function(a,b){var d=b[0],c=b[1],e=b[2];b=b[3];var f=d*d+c*c+e*e+b*b;f=f?1/f:0;a[0]=-d*f;a[1]=-c*f;a[2]=-e*f;a[3]=b*f;return a},cY:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a},g7:vb,e7:function(a,b,d,
c){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",f=Math.PI/360;b*=f;c*=f;d*=f;f=Math.sin(b);var g=Math.cos(b),h=Math.sin(d),k=Math.cos(d),l=Math.sin(c),m=Math.cos(c);switch(e){case "xyz":a[0]=f*k*m+g*h*l;a[1]=g*h*m-f*k*l;a[2]=g*k*l+f*h*m;a[3]=g*k*m-f*h*l;break;case "xzy":a[0]=f*k*m-g*h*l;a[1]=g*h*m-f*k*l;a[2]=g*k*l+f*h*m;a[3]=g*k*m+f*h*l;break;case "yxz":a[0]=f*k*m+g*h*l;a[1]=g*h*m-f*k*l;a[2]=g*k*l-f*h*m;a[3]=g*k*m+f*h*l;break;case "yzx":a[0]=f*k*m+g*h*l;a[1]=g*h*m+f*k*l;a[2]=
g*k*l-f*h*m;a[3]=g*k*m-f*h*l;break;case "zxy":a[0]=f*k*m-g*h*l;a[1]=g*h*m+f*k*l;a[2]=g*k*l+f*h*m;a[3]=g*k*m-f*h*l;break;case "zyx":a[0]=f*k*m-g*h*l;a[1]=g*h*m+f*k*l;a[2]=g*k*l-f*h*m;a[3]=g*k*m+f*h*l;break;default:throw Error("Unknown angle order "+e);}return a},wm:function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},clone:Ta,Mf:Ua,ua:Va,set:Wa,add:Xa,um:ob,scale:ab,rm:hb,Nf:ib,length:eb,$x:eb,pD:fb,oD:fb,normalize:gb,Ih:jb,Xc:function(a,b){return.999999<=Math.abs(hb(a,b))},o9:wb,D9:xb,
w9:yb});function Ab(a,b,d){var c=.5*d[0],e=.5*d[1];d=.5*d[2];var f=b[0],g=b[1],h=b[2];b=b[3];a[0]=f;a[1]=g;a[2]=h;a[3]=b;a[4]=c*b+e*h-d*g;a[5]=e*b+d*f-c*h;a[6]=d*b+c*g-e*f;a[7]=-c*f-e*g-d*h;return a}function Bb(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];return a}
function Cb(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=d[4],k=d[5],l=d[6],m=d[7],n=b[4],p=b[5],q=b[6];b=b[7];var t=d[0],r=d[1],u=d[2];d=d[3];a[0]=c*d+g*t+e*u-f*r;a[1]=e*d+g*r+f*t-c*u;a[2]=f*d+g*u+c*r-e*t;a[3]=g*d-c*t-e*r-f*u;a[4]=c*m+g*h+e*l-f*k+n*d+b*t+p*u-q*r;a[5]=e*m+g*k+f*h-c*l+p*d+b*r+q*t-n*u;a[6]=f*m+g*l+c*k-e*h+q*d+b*u+n*r-p*t;a[7]=g*m-c*h-e*k-f*l+b*d-n*t-p*r-q*u;return a}
var Db=Object.freeze({__proto__:null,create:function(){var a=new x(8);x!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[4]=0,a[5]=0,a[6]=0,a[7]=0);a[3]=1;return a},clone:function(a){var b=new x(8);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];return b},Mf:function(a,b,d,c,e,f,g,h){var k=new x(8);k[0]=a;k[1]=b;k[2]=d;k[3]=c;k[4]=e;k[5]=f;k[6]=g;k[7]=h;return k},k7:function(a,b,d,c,e,f,g){var h=new x(8);h[0]=a;h[1]=b;h[2]=d;h[3]=c;e*=.5;f*=.5;g*=.5;h[4]=e*c+f*d-g*b;h[5]=f*c+
g*a-e*d;h[6]=g*c+e*b-f*a;h[7]=-e*a-f*b-g*d;return h},sY:Ab,NJ:function(a,b){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=.5*b[0];a[5]=.5*b[1];a[6]=.5*b[2];a[7]=0;return a},aD:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a},qY:function(a,b){var d=mb();xa(d,b);var c=new x(3);va(c,b);Ab(a,d,c);return a},ua:Bb,Ux:function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a},set:function(a,b,d,c,e,f,g,h,k){a[0]=b;a[1]=d;a[2]=c;a[3]=e;a[4]=f;a[5]=g;a[6]=h;
a[7]=k;return a},w7:Va,t7:function(a,b){a[0]=b[4];a[1]=b[5];a[2]=b[6];a[3]=b[7];return a},A9:Va,y9:function(a,b){a[4]=b[0];a[5]=b[1];a[6]=b[2];a[7]=b[3];return a},uY:function(a,b){var d=b[4],c=b[5],e=b[6],f=b[7],g=-b[0],h=-b[1],k=-b[2];b=b[3];a[0]=2*(d*b+f*g+c*k-e*h);a[1]=2*(c*b+f*h+e*g-d*k);a[2]=2*(e*b+f*k+d*h-c*g);return a},translate:function(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=.5*d[0],k=.5*d[1];d=.5*d[2];var l=b[4],m=b[5],n=b[6];b=b[7];a[0]=c;a[1]=e;a[2]=f;a[3]=g;a[4]=g*h+e*d-f*k+l;a[5]=g*
k+f*h-c*d+m;a[6]=g*d+c*k-e*h+n;a[7]=-c*h-e*k-f*d+b;return a},rK:function(a,b,d){var c=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=h*g+m*c+k*f-l*e,p=k*g+m*e+l*c-h*f,q=l*g+m*f+h*e-k*c;h=m*g-h*c-k*e-l*f;pb(a,b,d);c=a[0];e=a[1];f=a[2];g=a[3];a[4]=n*g+h*c+p*f-q*e;a[5]=p*g+h*e+q*c-n*f;a[6]=q*g+h*f+n*e-p*c;a[7]=h*g-n*c-p*e-q*f;return a},sK:function(a,b,d){var c=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=h*g+m*c+k*f-l*e,p=k*g+m*e+l*c-h*f,q=l*g+m*f+h*e-k*c;h=m*g-h*c-k*e-l*f;
qb(a,b,d);c=a[0];e=a[1];f=a[2];g=a[3];a[4]=n*g+h*c+p*f-q*e;a[5]=p*g+h*e+q*c-n*f;a[6]=q*g+h*f+n*e-p*c;a[7]=h*g-n*c-p*e-q*f;return a},tK:function(a,b,d){var c=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=h*g+m*c+k*f-l*e,p=k*g+m*e+l*c-h*f,q=l*g+m*f+h*e-k*c;h=m*g-h*c-k*e-l*f;rb(a,b,d);c=a[0];e=a[1];f=a[2];g=a[3];a[4]=n*g+h*c+p*f-q*e;a[5]=p*g+h*e+q*c-n*f;a[6]=q*g+h*f+n*e-p*c;a[7]=h*g-n*c-p*e-q*f;return a},m9:function(a,b,d){var c=d[0],e=d[1],f=d[2];d=d[3];var g=b[0],h=b[1],k=b[2],l=b[3];
a[0]=g*d+l*c+h*f-k*e;a[1]=h*d+l*e+k*c-g*f;a[2]=k*d+l*f+g*e-h*c;a[3]=l*d-g*c-h*e-k*f;g=b[4];h=b[5];k=b[6];l=b[7];a[4]=g*d+l*c+h*f-k*e;a[5]=h*d+l*e+k*c-g*f;a[6]=k*d+l*f+g*e-h*c;a[7]=l*d-g*c-h*e-k*f;return a},n9:function(a,b,d){var c=b[0],e=b[1],f=b[2];b=b[3];var g=d[0],h=d[1],k=d[2],l=d[3];a[0]=c*l+b*g+e*k-f*h;a[1]=e*l+b*h+f*g-c*k;a[2]=f*l+b*k+c*h-e*g;a[3]=b*l-c*g-e*h-f*k;g=d[4];h=d[5];k=d[6];l=d[7];a[4]=c*l+b*g+e*k-f*h;a[5]=e*l+b*h+f*g-c*k;a[6]=f*l+b*k+c*h-e*g;a[7]=b*l-c*g-e*h-f*k;return a},l9:function(a,
b,d,c){if(1E-6>Math.abs(c))return Bb(a,b);var e=Math.hypot(d[0],d[1],d[2]);c*=.5;var f=Math.sin(c),g=f*d[0]/e,h=f*d[1]/e;d=f*d[2]/e;c=Math.cos(c);e=b[0];f=b[1];var k=b[2],l=b[3];a[0]=e*c+l*g+f*d-k*h;a[1]=f*c+l*h+k*g-e*d;a[2]=k*c+l*d+e*h-f*g;a[3]=l*c-e*g-f*h-k*d;e=b[4];f=b[5];k=b[6];b=b[7];a[4]=e*c+b*g+f*d-k*h;a[5]=f*c+b*h+k*g-e*d;a[6]=k*c+b*d+e*h-f*g;a[7]=b*c-e*g-f*h-k*d;return a},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+
d[6];a[7]=b[7]+d[7];return a},multiply:Cb,um:Cb,scale:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;return a},rm:hb,Nf:function(a,b,d,c){var e=1-c;0>hb(b,d)&&(c=-c);a[0]=b[0]*e+d[0]*c;a[1]=b[1]*e+d[1]*c;a[2]=b[2]*e+d[2]*c;a[3]=b[3]*e+d[3]*c;a[4]=b[4]*e+d[4]*c;a[5]=b[5]*e+d[5]*c;a[6]=b[6]*e+d[6]*c;a[7]=b[7]*e+d[7]*c;return a},Mt:function(a,b){var d=fb(b);a[0]=-b[0]/d;a[1]=-b[1]/d;a[2]=-b[2]/d;a[3]=b[3]/d;a[4]=-b[4]/d;a[5]=-b[5]/d;a[6]=
-b[6]/d;a[7]=b[7]/d;return a},cY:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];a[4]=-b[4];a[5]=-b[5];a[6]=-b[6];a[7]=b[7];return a},length:eb,$x:eb,pD:fb,oD:fb,normalize:function(a,b){var d=fb(b);if(0<d){d=Math.sqrt(d);var c=b[0]/d,e=b[1]/d,f=b[2]/d,g=b[3]/d,h=b[4],k=b[5],l=b[6];b=b[7];var m=c*h+e*k+f*l+g*b;a[0]=c;a[1]=e;a[2]=f;a[3]=g;a[4]=(h-c*m)/d;a[5]=(k-e*m)/d;a[6]=(l-f*m)/d;a[7]=(b-g*m)/d}return a},wm:function(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+
", "+a[6]+", "+a[7]+")"},Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]},Xc:function(a,b){var d=a[0],c=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6];a=a[7];var l=b[0],m=b[1],n=b[2],p=b[3],q=b[4],t=b[5],r=b[6];b=b[7];return Math.abs(d-l)<=1E-6*Math.max(1,Math.abs(d),Math.abs(l))&&Math.abs(c-m)<=1E-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(e-n)<=1E-6*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(f-p)<=1E-6*Math.max(1,Math.abs(f),
Math.abs(p))&&Math.abs(g-q)<=1E-6*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(h-t)<=1E-6*Math.max(1,Math.abs(h),Math.abs(t))&&Math.abs(k-r)<=1E-6*Math.max(1,Math.abs(k),Math.abs(r))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))}});function Eb(){var a=new x(2);x!=Float32Array&&(a[0]=0,a[1]=0);return a}function Fb(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];return a}function Gb(a,b,d){a[0]=b[0]*d[0];a[1]=b[1]*d[1];return a}function Hb(a,b,d){a[0]=b[0]/d[0];a[1]=b[1]/d[1];return a}
function Ib(a,b){return Math.hypot(b[0]-a[0],b[1]-a[1])}function Jb(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a}function Kb(a){return Math.hypot(a[0],a[1])}function Lb(a){var b=a[0];a=a[1];return b*b+a*a}
var Mb=function(){var a=Eb();return function(b,d,c,e,f,g){d||(d=2);c||(c=0);for(e=e?Math.min(e*d+c,b.length):b.length;c<e;c+=d)a[0]=b[c],a[1]=b[c+1],f(a,a,g),b[c]=a[0],b[c+1]=a[1];return b}}(),Nb=Object.freeze({__proto__:null,create:Eb,clone:function(a){var b=new x(2);b[0]=a[0];b[1]=a[1];return b},Mf:function(a,b){var d=new x(2);d[0]=a;d[1]=b;return d},ua:function(a,b){a[0]=b[0];a[1]=b[1];return a},set:function(a,b,d){a[0]=b;a[1]=d;return a},add:function(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];return a},
xm:Fb,multiply:Gb,qm:Hb,ceil:function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a},floor:function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a},min:function(a,b,d){a[0]=Math.min(b[0],d[0]);a[1]=Math.min(b[1],d[1]);return a},max:function(a,b,d){a[0]=Math.max(b[0],d[0]);a[1]=Math.max(b[1],d[1]);return a},round:function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a},scale:function(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;return a},uK:function(a,b,d,c){a[0]=b[0]+d[0]*c;a[1]=
b[1]+d[1]*c;return a},hd:Ib,kR:Jb,length:Kb,pD:Lb,YQ:function(a,b){a[0]=-b[0];a[1]=-b[1];return a},inverse:function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a},normalize:function(a,b){var d=b[0],c=b[1];d=d*d+c*c;0<d&&(d=1/Math.sqrt(d));a[0]=b[0]*d;a[1]=b[1]*d;return a},rm:function(a,b){return a[0]*b[0]+a[1]*b[1]},EJ:function(a,b,d){b=b[0]*d[1]-b[1]*d[0];a[0]=a[1]=0;a[2]=b;return a},Nf:function(a,b,d,c){var e=b[0];b=b[1];a[0]=e+c*(d[0]-e);a[1]=b+c*(d[1]-b);return a},random:function(a,b){b=b||1;var d=2*
ba()*Math.PI;a[0]=Math.cos(d)*b;a[1]=Math.sin(d)*b;return a},X9:function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[2]*b;a[1]=d[1]*c+d[3]*b;return a},Y9:function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[2]*b+d[4];a[1]=d[1]*c+d[3]*b+d[5];return a},nZ:function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[3]*b+d[6];a[1]=d[1]*c+d[4]*b+d[7];return a},EK:function(a,b,d){var c=b[0];b=b[1];a[0]=d[0]*c+d[4]*b+d[12];a[1]=d[1]*c+d[5]*b+d[13];return a},rotate:function(a,b,d,c){var e=b[0]-d[0];b=b[1]-d[1];var f=Math.sin(c);
c=Math.cos(c);a[0]=e*c-b*f+d[0];a[1]=e*f+b*c+d[1];return a},angle:function(a,b){var d=a[0];a=a[1];var c=b[0];b=b[1];var e=Math.sqrt((d*d+a*a)*(c*c+b*b));return Math.acos(Math.min(Math.max(e&&(d*c+a*b)/e,-1),1))},HR:function(a){a[0]=0;a[1]=0;return a},wm:function(a){return"vec2("+a[0]+", "+a[1]+")"},Ih:function(a,b){return a[0]===b[0]&&a[1]===b[1]},Xc:function(a,b){var d=a[0];a=a[1];var c=b[0];b=b[1];return Math.abs(d-c)<=1E-6*Math.max(1,Math.abs(d),Math.abs(c))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),
Math.abs(b))},$x:Kb,sub:Fb,um:Gb,BQ:Hb,zQ:Ib,jR:Jb,oD:Lb,forEach:Mb});globalThis.Dd=da;globalThis.Dd.o8=ha;globalThis.Dd.p8=ma;globalThis.Dd.q8=qa;globalThis.Dd.Rj=Ca;globalThis.Dd.T8=zb;globalThis.Dd.U8=Db;globalThis.Dd.j$=Nb;globalThis.Dd.sD=Ra;globalThis.Dd.my=lb;
self.dT=function(){function a(c,e){void 0===e&&(e=0);var f=c.charCodeAt(e);if(55296<=f&&56319>=f&&e<c.length-1){var g=f;c=c.charCodeAt(e+1);return 56320<=c&&57343>=c?1024*(g-55296)+(c-56320)+65536:g}return 56320<=f&&57343>=f&&1<=e?(g=c.charCodeAt(e-1),c=f,55296<=g&&56319>=g?1024*(g-55296)+(c-56320)+65536:c):f}function b(c,e,f){var g=[c].concat(e).concat([f]),h=g[g.length-2],k=g.lastIndexOf(14);if(1<k&&g.slice(1,k).every(function(l){return 3==l})&&-1==[3,13,17].indexOf(c))return 2;c=g.lastIndexOf(4);
if(0<c&&g.slice(1,c).every(function(l){return 4==l})&&-1==[12,4].indexOf(h))return 1==g.filter(function(l){return 4==l}).length%2?3:4;if(0==h&&1==f)return 0;if(2==h||0==h||1==h)return 14==f&&e.every(function(l){return 3==l})?2:1;if(2==f||0==f||1==f)return 1;if(6!=h||6!=f&&7!=f&&9!=f&&10!=f)if(9!=h&&7!=h||7!=f&&8!=f)if(10!=h&&8!=h||8!=f){if(3==f||15==f||5==f||12==h)return 0}else return 0;else return 0;else return 0;c=-1!=g.indexOf(3)?g.lastIndexOf(3)-1:g.length-2;return-1!=[13,17].indexOf(g[c])&&g.slice(c+
1,-1).every(function(l){return 3==l})&&14==f||15==h&&-1!=[16,17].indexOf(f)?0:-1!=e.indexOf(4)?2:4==h&&4==f?0:1}function d(c){return 1536<=c&&1541>=c||1757==c||1807==c||2274==c||3406==c||69821==c||70082<=c&&70083>=c||72250==c||72326<=c&&72329>=c||73030==c?12:13==c?0:10==c?1:0<=c&&9>=c||11<=c&&12>=c||14<=c&&31>=c||127<=c&&159>=c||173==c||1564==c||6158==c||8203==c||8206<=c&&8207>=c||8232==c||8233==c||8234<=c&&8238>=c||8288<=c&&8292>=c||8293==c||8294<=c&&8303>=c||55296<=c&&57343>=c||65279==c||65520<=
c&&65528>=c||65529<=c&&65531>=c||113824<=c&&113827>=c||119155<=c&&119162>=c||917504==c||917505==c||917506<=c&&917535>=c||917632<=c&&917759>=c||918E3<=c&&921599>=c?2:768<=c&&879>=c||1155<=c&&1159>=c||1160<=c&&1161>=c||1425<=c&&1469>=c||1471==c||1473<=c&&1474>=c||1476<=c&&1477>=c||1479==c||1552<=c&&1562>=c||1611<=c&&1631>=c||1648==c||1750<=c&&1756>=c||1759<=c&&1764>=c||1767<=c&&1768>=c||1770<=c&&1773>=c||1809==c||1840<=c&&1866>=c||1958<=c&&1968>=c||2027<=c&&2035>=c||2070<=c&&2073>=c||2075<=c&&2083>=
c||2085<=c&&2087>=c||2089<=c&&2093>=c||2137<=c&&2139>=c||2260<=c&&2273>=c||2275<=c&&2306>=c||2362==c||2364==c||2369<=c&&2376>=c||2381==c||2385<=c&&2391>=c||2402<=c&&2403>=c||2433==c||2492==c||2494==c||2497<=c&&2500>=c||2509==c||2519==c||2530<=c&&2531>=c||2561<=c&&2562>=c||2620==c||2625<=c&&2626>=c||2631<=c&&2632>=c||2635<=c&&2637>=c||2641==c||2672<=c&&2673>=c||2677==c||2689<=c&&2690>=c||2748==c||2753<=c&&2757>=c||2759<=c&&2760>=c||2765==c||2786<=c&&2787>=c||2810<=c&&2815>=c||2817==c||2876==c||2878==
c||2879==c||2881<=c&&2884>=c||2893==c||2902==c||2903==c||2914<=c&&2915>=c||2946==c||3006==c||3008==c||3021==c||3031==c||3072==c||3134<=c&&3136>=c||3142<=c&&3144>=c||3146<=c&&3149>=c||3157<=c&&3158>=c||3170<=c&&3171>=c||3201==c||3260==c||3263==c||3266==c||3270==c||3276<=c&&3277>=c||3285<=c&&3286>=c||3298<=c&&3299>=c||3328<=c&&3329>=c||3387<=c&&3388>=c||3390==c||3393<=c&&3396>=c||3405==c||3415==c||3426<=c&&3427>=c||3530==c||3535==c||3538<=c&&3540>=c||3542==c||3551==c||3633==c||3636<=c&&3642>=c||3655<=
c&&3662>=c||3761==c||3764<=c&&3769>=c||3771<=c&&3772>=c||3784<=c&&3789>=c||3864<=c&&3865>=c||3893==c||3895==c||3897==c||3953<=c&&3966>=c||3968<=c&&3972>=c||3974<=c&&3975>=c||3981<=c&&3991>=c||3993<=c&&4028>=c||4038==c||4141<=c&&4144>=c||4146<=c&&4151>=c||4153<=c&&4154>=c||4157<=c&&4158>=c||4184<=c&&4185>=c||4190<=c&&4192>=c||4209<=c&&4212>=c||4226==c||4229<=c&&4230>=c||4237==c||4253==c||4957<=c&&4959>=c||5906<=c&&5908>=c||5938<=c&&5940>=c||5970<=c&&5971>=c||6002<=c&&6003>=c||6068<=c&&6069>=c||6071<=
c&&6077>=c||6086==c||6089<=c&&6099>=c||6109==c||6155<=c&&6157>=c||6277<=c&&6278>=c||6313==c||6432<=c&&6434>=c||6439<=c&&6440>=c||6450==c||6457<=c&&6459>=c||6679<=c&&6680>=c||6683==c||6742==c||6744<=c&&6750>=c||6752==c||6754==c||6757<=c&&6764>=c||6771<=c&&6780>=c||6783==c||6832<=c&&6845>=c||6846==c||6912<=c&&6915>=c||6964==c||6966<=c&&6970>=c||6972==c||6978==c||7019<=c&&7027>=c||7040<=c&&7041>=c||7074<=c&&7077>=c||7080<=c&&7081>=c||7083<=c&&7085>=c||7142==c||7144<=c&&7145>=c||7149==c||7151<=c&&7153>=
c||7212<=c&&7219>=c||7222<=c&&7223>=c||7376<=c&&7378>=c||7380<=c&&7392>=c||7394<=c&&7400>=c||7405==c||7412==c||7416<=c&&7417>=c||7616<=c&&7673>=c||7675<=c&&7679>=c||8204==c||8400<=c&&8412>=c||8413<=c&&8416>=c||8417==c||8418<=c&&8420>=c||8421<=c&&8432>=c||11503<=c&&11505>=c||11647==c||11744<=c&&11775>=c||12330<=c&&12333>=c||12334<=c&&12335>=c||12441<=c&&12442>=c||42607==c||42608<=c&&42610>=c||42612<=c&&42621>=c||42654<=c&&42655>=c||42736<=c&&42737>=c||43010==c||43014==c||43019==c||43045<=c&&43046>=
c||43204<=c&&43205>=c||43232<=c&&43249>=c||43302<=c&&43309>=c||43335<=c&&43345>=c||43392<=c&&43394>=c||43443==c||43446<=c&&43449>=c||43452==c||43493==c||43561<=c&&43566>=c||43569<=c&&43570>=c||43573<=c&&43574>=c||43587==c||43596==c||43644==c||43696==c||43698<=c&&43700>=c||43703<=c&&43704>=c||43710<=c&&43711>=c||43713==c||43756<=c&&43757>=c||43766==c||44005==c||44008==c||44013==c||64286==c||65024<=c&&65039>=c||65056<=c&&65071>=c||65438<=c&&65439>=c||66045==c||66272==c||66422<=c&&66426>=c||68097<=c&&
68099>=c||68101<=c&&68102>=c||68108<=c&&68111>=c||68152<=c&&68154>=c||68159==c||68325<=c&&68326>=c||69633==c||69688<=c&&69702>=c||69759<=c&&69761>=c||69811<=c&&69814>=c||69817<=c&&69818>=c||69888<=c&&69890>=c||69927<=c&&69931>=c||69933<=c&&69940>=c||70003==c||70016<=c&&70017>=c||70070<=c&&70078>=c||70090<=c&&70092>=c||70191<=c&&70193>=c||70196==c||70198<=c&&70199>=c||70206==c||70367==c||70371<=c&&70378>=c||70400<=c&&70401>=c||70460==c||70462==c||70464==c||70487==c||70502<=c&&70508>=c||70512<=c&&70516>=
c||70712<=c&&70719>=c||70722<=c&&70724>=c||70726==c||70832==c||70835<=c&&70840>=c||70842==c||70845==c||70847<=c&&70848>=c||70850<=c&&70851>=c||71087==c||71090<=c&&71093>=c||71100<=c&&71101>=c||71103<=c&&71104>=c||71132<=c&&71133>=c||71219<=c&&71226>=c||71229==c||71231<=c&&71232>=c||71339==c||71341==c||71344<=c&&71349>=c||71351==c||71453<=c&&71455>=c||71458<=c&&71461>=c||71463<=c&&71467>=c||72193<=c&&72198>=c||72201<=c&&72202>=c||72243<=c&&72248>=c||72251<=c&&72254>=c||72263==c||72273<=c&&72278>=c||
72281<=c&&72283>=c||72330<=c&&72342>=c||72344<=c&&72345>=c||72752<=c&&72758>=c||72760<=c&&72765>=c||72767==c||72850<=c&&72871>=c||72874<=c&&72880>=c||72882<=c&&72883>=c||72885<=c&&72886>=c||73009<=c&&73014>=c||73018==c||73020<=c&&73021>=c||73023<=c&&73029>=c||73031==c||92912<=c&&92916>=c||92976<=c&&92982>=c||94095<=c&&94098>=c||113821<=c&&113822>=c||119141==c||119143<=c&&119145>=c||119150<=c&&119154>=c||119163<=c&&119170>=c||119173<=c&&119179>=c||119210<=c&&119213>=c||119362<=c&&119364>=c||121344<=
c&&121398>=c||121403<=c&&121452>=c||121461==c||121476==c||121499<=c&&121503>=c||121505<=c&&121519>=c||122880<=c&&122886>=c||122888<=c&&122904>=c||122907<=c&&122913>=c||122915<=c&&122916>=c||122918<=c&&122922>=c||125136<=c&&125142>=c||125252<=c&&125258>=c||917536<=c&&917631>=c||917760<=c&&917999>=c?3:127462<=c&&127487>=c?4:2307==c||2363==c||2366<=c&&2368>=c||2377<=c&&2380>=c||2382<=c&&2383>=c||2434<=c&&2435>=c||2495<=c&&2496>=c||2503<=c&&2504>=c||2507<=c&&2508>=c||2563==c||2622<=c&&2624>=c||2691==
c||2750<=c&&2752>=c||2761==c||2763<=c&&2764>=c||2818<=c&&2819>=c||2880==c||2887<=c&&2888>=c||2891<=c&&2892>=c||3007==c||3009<=c&&3010>=c||3014<=c&&3016>=c||3018<=c&&3020>=c||3073<=c&&3075>=c||3137<=c&&3140>=c||3202<=c&&3203>=c||3262==c||3264<=c&&3265>=c||3267<=c&&3268>=c||3271<=c&&3272>=c||3274<=c&&3275>=c||3330<=c&&3331>=c||3391<=c&&3392>=c||3398<=c&&3400>=c||3402<=c&&3404>=c||3458<=c&&3459>=c||3536<=c&&3537>=c||3544<=c&&3550>=c||3570<=c&&3571>=c||3635==c||3763==c||3902<=c&&3903>=c||3967==c||4145==
c||4155<=c&&4156>=c||4182<=c&&4183>=c||4228==c||6070==c||6078<=c&&6085>=c||6087<=c&&6088>=c||6435<=c&&6438>=c||6441<=c&&6443>=c||6448<=c&&6449>=c||6451<=c&&6456>=c||6681<=c&&6682>=c||6741==c||6743==c||6765<=c&&6770>=c||6916==c||6965==c||6971==c||6973<=c&&6977>=c||6979<=c&&6980>=c||7042==c||7073==c||7078<=c&&7079>=c||7082==c||7143==c||7146<=c&&7148>=c||7150==c||7154<=c&&7155>=c||7204<=c&&7211>=c||7220<=c&&7221>=c||7393==c||7410<=c&&7411>=c||7415==c||43043<=c&&43044>=c||43047==c||43136<=c&&43137>=c||
43188<=c&&43203>=c||43346<=c&&43347>=c||43395==c||43444<=c&&43445>=c||43450<=c&&43451>=c||43453<=c&&43456>=c||43567<=c&&43568>=c||43571<=c&&43572>=c||43597==c||43755==c||43758<=c&&43759>=c||43765==c||44003<=c&&44004>=c||44006<=c&&44007>=c||44009<=c&&44010>=c||44012==c||69632==c||69634==c||69762==c||69808<=c&&69810>=c||69815<=c&&69816>=c||69932==c||70018==c||70067<=c&&70069>=c||70079<=c&&70080>=c||70188<=c&&70190>=c||70194<=c&&70195>=c||70197==c||70368<=c&&70370>=c||70402<=c&&70403>=c||70463==c||70465<=
c&&70468>=c||70471<=c&&70472>=c||70475<=c&&70477>=c||70498<=c&&70499>=c||70709<=c&&70711>=c||70720<=c&&70721>=c||70725==c||70833<=c&&70834>=c||70841==c||70843<=c&&70844>=c||70846==c||70849==c||71088<=c&&71089>=c||71096<=c&&71099>=c||71102==c||71216<=c&&71218>=c||71227<=c&&71228>=c||71230==c||71340==c||71342<=c&&71343>=c||71350==c||71456<=c&&71457>=c||71462==c||72199<=c&&72200>=c||72249==c||72279<=c&&72280>=c||72343==c||72751==c||72766==c||72873==c||72881==c||72884==c||94033<=c&&94078>=c||119142==
c||119149==c?5:4352<=c&&4447>=c||43360<=c&&43388>=c?6:4448<=c&&4519>=c||55216<=c&&55238>=c?7:4520<=c&&4607>=c||55243<=c&&55291>=c?8:44032==c||44060==c||44088==c||44116==c||44144==c||44172==c||44200==c||44228==c||44256==c||44284==c||44312==c||44340==c||44368==c||44396==c||44424==c||44452==c||44480==c||44508==c||44536==c||44564==c||44592==c||44620==c||44648==c||44676==c||44704==c||44732==c||44760==c||44788==c||44816==c||44844==c||44872==c||44900==c||44928==c||44956==c||44984==c||45012==c||45040==c||
45068==c||45096==c||45124==c||45152==c||45180==c||45208==c||45236==c||45264==c||45292==c||45320==c||45348==c||45376==c||45404==c||45432==c||45460==c||45488==c||45516==c||45544==c||45572==c||45600==c||45628==c||45656==c||45684==c||45712==c||45740==c||45768==c||45796==c||45824==c||45852==c||45880==c||45908==c||45936==c||45964==c||45992==c||46020==c||46048==c||46076==c||46104==c||46132==c||46160==c||46188==c||46216==c||46244==c||46272==c||46300==c||46328==c||46356==c||46384==c||46412==c||46440==c||46468==
c||46496==c||46524==c||46552==c||46580==c||46608==c||46636==c||46664==c||46692==c||46720==c||46748==c||46776==c||46804==c||46832==c||46860==c||46888==c||46916==c||46944==c||46972==c||47E3==c||47028==c||47056==c||47084==c||47112==c||47140==c||47168==c||47196==c||47224==c||47252==c||47280==c||47308==c||47336==c||47364==c||47392==c||47420==c||47448==c||47476==c||47504==c||47532==c||47560==c||47588==c||47616==c||47644==c||47672==c||47700==c||47728==c||47756==c||47784==c||47812==c||47840==c||47868==c||
47896==c||47924==c||47952==c||47980==c||48008==c||48036==c||48064==c||48092==c||48120==c||48148==c||48176==c||48204==c||48232==c||48260==c||48288==c||48316==c||48344==c||48372==c||48400==c||48428==c||48456==c||48484==c||48512==c||48540==c||48568==c||48596==c||48624==c||48652==c||48680==c||48708==c||48736==c||48764==c||48792==c||48820==c||48848==c||48876==c||48904==c||48932==c||48960==c||48988==c||49016==c||49044==c||49072==c||49100==c||49128==c||49156==c||49184==c||49212==c||49240==c||49268==c||49296==
c||49324==c||49352==c||49380==c||49408==c||49436==c||49464==c||49492==c||49520==c||49548==c||49576==c||49604==c||49632==c||49660==c||49688==c||49716==c||49744==c||49772==c||49800==c||49828==c||49856==c||49884==c||49912==c||49940==c||49968==c||49996==c||50024==c||50052==c||50080==c||50108==c||50136==c||50164==c||50192==c||50220==c||50248==c||50276==c||50304==c||50332==c||50360==c||50388==c||50416==c||50444==c||50472==c||50500==c||50528==c||50556==c||50584==c||50612==c||50640==c||50668==c||50696==c||
50724==c||50752==c||50780==c||50808==c||50836==c||50864==c||50892==c||50920==c||50948==c||50976==c||51004==c||51032==c||51060==c||51088==c||51116==c||51144==c||51172==c||51200==c||51228==c||51256==c||51284==c||51312==c||51340==c||51368==c||51396==c||51424==c||51452==c||51480==c||51508==c||51536==c||51564==c||51592==c||51620==c||51648==c||51676==c||51704==c||51732==c||51760==c||51788==c||51816==c||51844==c||51872==c||51900==c||51928==c||51956==c||51984==c||52012==c||52040==c||52068==c||52096==c||52124==
c||52152==c||52180==c||52208==c||52236==c||52264==c||52292==c||52320==c||52348==c||52376==c||52404==c||52432==c||52460==c||52488==c||52516==c||52544==c||52572==c||52600==c||52628==c||52656==c||52684==c||52712==c||52740==c||52768==c||52796==c||52824==c||52852==c||52880==c||52908==c||52936==c||52964==c||52992==c||53020==c||53048==c||53076==c||53104==c||53132==c||53160==c||53188==c||53216==c||53244==c||53272==c||53300==c||53328==c||53356==c||53384==c||53412==c||53440==c||53468==c||53496==c||53524==c||
53552==c||53580==c||53608==c||53636==c||53664==c||53692==c||53720==c||53748==c||53776==c||53804==c||53832==c||53860==c||53888==c||53916==c||53944==c||53972==c||54E3==c||54028==c||54056==c||54084==c||54112==c||54140==c||54168==c||54196==c||54224==c||54252==c||54280==c||54308==c||54336==c||54364==c||54392==c||54420==c||54448==c||54476==c||54504==c||54532==c||54560==c||54588==c||54616==c||54644==c||54672==c||54700==c||54728==c||54756==c||54784==c||54812==c||54840==c||54868==c||54896==c||54924==c||54952==
c||54980==c||55008==c||55036==c||55064==c||55092==c||55120==c||55148==c||55176==c?9:44033<=c&&44059>=c||44061<=c&&44087>=c||44089<=c&&44115>=c||44117<=c&&44143>=c||44145<=c&&44171>=c||44173<=c&&44199>=c||44201<=c&&44227>=c||44229<=c&&44255>=c||44257<=c&&44283>=c||44285<=c&&44311>=c||44313<=c&&44339>=c||44341<=c&&44367>=c||44369<=c&&44395>=c||44397<=c&&44423>=c||44425<=c&&44451>=c||44453<=c&&44479>=c||44481<=c&&44507>=c||44509<=c&&44535>=c||44537<=c&&44563>=c||44565<=c&&44591>=c||44593<=c&&44619>=
c||44621<=c&&44647>=c||44649<=c&&44675>=c||44677<=c&&44703>=c||44705<=c&&44731>=c||44733<=c&&44759>=c||44761<=c&&44787>=c||44789<=c&&44815>=c||44817<=c&&44843>=c||44845<=c&&44871>=c||44873<=c&&44899>=c||44901<=c&&44927>=c||44929<=c&&44955>=c||44957<=c&&44983>=c||44985<=c&&45011>=c||45013<=c&&45039>=c||45041<=c&&45067>=c||45069<=c&&45095>=c||45097<=c&&45123>=c||45125<=c&&45151>=c||45153<=c&&45179>=c||45181<=c&&45207>=c||45209<=c&&45235>=c||45237<=c&&45263>=c||45265<=c&&45291>=c||45293<=c&&45319>=c||
45321<=c&&45347>=c||45349<=c&&45375>=c||45377<=c&&45403>=c||45405<=c&&45431>=c||45433<=c&&45459>=c||45461<=c&&45487>=c||45489<=c&&45515>=c||45517<=c&&45543>=c||45545<=c&&45571>=c||45573<=c&&45599>=c||45601<=c&&45627>=c||45629<=c&&45655>=c||45657<=c&&45683>=c||45685<=c&&45711>=c||45713<=c&&45739>=c||45741<=c&&45767>=c||45769<=c&&45795>=c||45797<=c&&45823>=c||45825<=c&&45851>=c||45853<=c&&45879>=c||45881<=c&&45907>=c||45909<=c&&45935>=c||45937<=c&&45963>=c||45965<=c&&45991>=c||45993<=c&&46019>=c||46021<=
c&&46047>=c||46049<=c&&46075>=c||46077<=c&&46103>=c||46105<=c&&46131>=c||46133<=c&&46159>=c||46161<=c&&46187>=c||46189<=c&&46215>=c||46217<=c&&46243>=c||46245<=c&&46271>=c||46273<=c&&46299>=c||46301<=c&&46327>=c||46329<=c&&46355>=c||46357<=c&&46383>=c||46385<=c&&46411>=c||46413<=c&&46439>=c||46441<=c&&46467>=c||46469<=c&&46495>=c||46497<=c&&46523>=c||46525<=c&&46551>=c||46553<=c&&46579>=c||46581<=c&&46607>=c||46609<=c&&46635>=c||46637<=c&&46663>=c||46665<=c&&46691>=c||46693<=c&&46719>=c||46721<=c&&
46747>=c||46749<=c&&46775>=c||46777<=c&&46803>=c||46805<=c&&46831>=c||46833<=c&&46859>=c||46861<=c&&46887>=c||46889<=c&&46915>=c||46917<=c&&46943>=c||46945<=c&&46971>=c||46973<=c&&46999>=c||47001<=c&&47027>=c||47029<=c&&47055>=c||47057<=c&&47083>=c||47085<=c&&47111>=c||47113<=c&&47139>=c||47141<=c&&47167>=c||47169<=c&&47195>=c||47197<=c&&47223>=c||47225<=c&&47251>=c||47253<=c&&47279>=c||47281<=c&&47307>=c||47309<=c&&47335>=c||47337<=c&&47363>=c||47365<=c&&47391>=c||47393<=c&&47419>=c||47421<=c&&47447>=
c||47449<=c&&47475>=c||47477<=c&&47503>=c||47505<=c&&47531>=c||47533<=c&&47559>=c||47561<=c&&47587>=c||47589<=c&&47615>=c||47617<=c&&47643>=c||47645<=c&&47671>=c||47673<=c&&47699>=c||47701<=c&&47727>=c||47729<=c&&47755>=c||47757<=c&&47783>=c||47785<=c&&47811>=c||47813<=c&&47839>=c||47841<=c&&47867>=c||47869<=c&&47895>=c||47897<=c&&47923>=c||47925<=c&&47951>=c||47953<=c&&47979>=c||47981<=c&&48007>=c||48009<=c&&48035>=c||48037<=c&&48063>=c||48065<=c&&48091>=c||48093<=c&&48119>=c||48121<=c&&48147>=c||
48149<=c&&48175>=c||48177<=c&&48203>=c||48205<=c&&48231>=c||48233<=c&&48259>=c||48261<=c&&48287>=c||48289<=c&&48315>=c||48317<=c&&48343>=c||48345<=c&&48371>=c||48373<=c&&48399>=c||48401<=c&&48427>=c||48429<=c&&48455>=c||48457<=c&&48483>=c||48485<=c&&48511>=c||48513<=c&&48539>=c||48541<=c&&48567>=c||48569<=c&&48595>=c||48597<=c&&48623>=c||48625<=c&&48651>=c||48653<=c&&48679>=c||48681<=c&&48707>=c||48709<=c&&48735>=c||48737<=c&&48763>=c||48765<=c&&48791>=c||48793<=c&&48819>=c||48821<=c&&48847>=c||48849<=
c&&48875>=c||48877<=c&&48903>=c||48905<=c&&48931>=c||48933<=c&&48959>=c||48961<=c&&48987>=c||48989<=c&&49015>=c||49017<=c&&49043>=c||49045<=c&&49071>=c||49073<=c&&49099>=c||49101<=c&&49127>=c||49129<=c&&49155>=c||49157<=c&&49183>=c||49185<=c&&49211>=c||49213<=c&&49239>=c||49241<=c&&49267>=c||49269<=c&&49295>=c||49297<=c&&49323>=c||49325<=c&&49351>=c||49353<=c&&49379>=c||49381<=c&&49407>=c||49409<=c&&49435>=c||49437<=c&&49463>=c||49465<=c&&49491>=c||49493<=c&&49519>=c||49521<=c&&49547>=c||49549<=c&&
49575>=c||49577<=c&&49603>=c||49605<=c&&49631>=c||49633<=c&&49659>=c||49661<=c&&49687>=c||49689<=c&&49715>=c||49717<=c&&49743>=c||49745<=c&&49771>=c||49773<=c&&49799>=c||49801<=c&&49827>=c||49829<=c&&49855>=c||49857<=c&&49883>=c||49885<=c&&49911>=c||49913<=c&&49939>=c||49941<=c&&49967>=c||49969<=c&&49995>=c||49997<=c&&50023>=c||50025<=c&&50051>=c||50053<=c&&50079>=c||50081<=c&&50107>=c||50109<=c&&50135>=c||50137<=c&&50163>=c||50165<=c&&50191>=c||50193<=c&&50219>=c||50221<=c&&50247>=c||50249<=c&&50275>=
c||50277<=c&&50303>=c||50305<=c&&50331>=c||50333<=c&&50359>=c||50361<=c&&50387>=c||50389<=c&&50415>=c||50417<=c&&50443>=c||50445<=c&&50471>=c||50473<=c&&50499>=c||50501<=c&&50527>=c||50529<=c&&50555>=c||50557<=c&&50583>=c||50585<=c&&50611>=c||50613<=c&&50639>=c||50641<=c&&50667>=c||50669<=c&&50695>=c||50697<=c&&50723>=c||50725<=c&&50751>=c||50753<=c&&50779>=c||50781<=c&&50807>=c||50809<=c&&50835>=c||50837<=c&&50863>=c||50865<=c&&50891>=c||50893<=c&&50919>=c||50921<=c&&50947>=c||50949<=c&&50975>=c||
50977<=c&&51003>=c||51005<=c&&51031>=c||51033<=c&&51059>=c||51061<=c&&51087>=c||51089<=c&&51115>=c||51117<=c&&51143>=c||51145<=c&&51171>=c||51173<=c&&51199>=c||51201<=c&&51227>=c||51229<=c&&51255>=c||51257<=c&&51283>=c||51285<=c&&51311>=c||51313<=c&&51339>=c||51341<=c&&51367>=c||51369<=c&&51395>=c||51397<=c&&51423>=c||51425<=c&&51451>=c||51453<=c&&51479>=c||51481<=c&&51507>=c||51509<=c&&51535>=c||51537<=c&&51563>=c||51565<=c&&51591>=c||51593<=c&&51619>=c||51621<=c&&51647>=c||51649<=c&&51675>=c||51677<=
c&&51703>=c||51705<=c&&51731>=c||51733<=c&&51759>=c||51761<=c&&51787>=c||51789<=c&&51815>=c||51817<=c&&51843>=c||51845<=c&&51871>=c||51873<=c&&51899>=c||51901<=c&&51927>=c||51929<=c&&51955>=c||51957<=c&&51983>=c||51985<=c&&52011>=c||52013<=c&&52039>=c||52041<=c&&52067>=c||52069<=c&&52095>=c||52097<=c&&52123>=c||52125<=c&&52151>=c||52153<=c&&52179>=c||52181<=c&&52207>=c||52209<=c&&52235>=c||52237<=c&&52263>=c||52265<=c&&52291>=c||52293<=c&&52319>=c||52321<=c&&52347>=c||52349<=c&&52375>=c||52377<=c&&
52403>=c||52405<=c&&52431>=c||52433<=c&&52459>=c||52461<=c&&52487>=c||52489<=c&&52515>=c||52517<=c&&52543>=c||52545<=c&&52571>=c||52573<=c&&52599>=c||52601<=c&&52627>=c||52629<=c&&52655>=c||52657<=c&&52683>=c||52685<=c&&52711>=c||52713<=c&&52739>=c||52741<=c&&52767>=c||52769<=c&&52795>=c||52797<=c&&52823>=c||52825<=c&&52851>=c||52853<=c&&52879>=c||52881<=c&&52907>=c||52909<=c&&52935>=c||52937<=c&&52963>=c||52965<=c&&52991>=c||52993<=c&&53019>=c||53021<=c&&53047>=c||53049<=c&&53075>=c||53077<=c&&53103>=
c||53105<=c&&53131>=c||53133<=c&&53159>=c||53161<=c&&53187>=c||53189<=c&&53215>=c||53217<=c&&53243>=c||53245<=c&&53271>=c||53273<=c&&53299>=c||53301<=c&&53327>=c||53329<=c&&53355>=c||53357<=c&&53383>=c||53385<=c&&53411>=c||53413<=c&&53439>=c||53441<=c&&53467>=c||53469<=c&&53495>=c||53497<=c&&53523>=c||53525<=c&&53551>=c||53553<=c&&53579>=c||53581<=c&&53607>=c||53609<=c&&53635>=c||53637<=c&&53663>=c||53665<=c&&53691>=c||53693<=c&&53719>=c||53721<=c&&53747>=c||53749<=c&&53775>=c||53777<=c&&53803>=c||
53805<=c&&53831>=c||53833<=c&&53859>=c||53861<=c&&53887>=c||53889<=c&&53915>=c||53917<=c&&53943>=c||53945<=c&&53971>=c||53973<=c&&53999>=c||54001<=c&&54027>=c||54029<=c&&54055>=c||54057<=c&&54083>=c||54085<=c&&54111>=c||54113<=c&&54139>=c||54141<=c&&54167>=c||54169<=c&&54195>=c||54197<=c&&54223>=c||54225<=c&&54251>=c||54253<=c&&54279>=c||54281<=c&&54307>=c||54309<=c&&54335>=c||54337<=c&&54363>=c||54365<=c&&54391>=c||54393<=c&&54419>=c||54421<=c&&54447>=c||54449<=c&&54475>=c||54477<=c&&54503>=c||54505<=
c&&54531>=c||54533<=c&&54559>=c||54561<=c&&54587>=c||54589<=c&&54615>=c||54617<=c&&54643>=c||54645<=c&&54671>=c||54673<=c&&54699>=c||54701<=c&&54727>=c||54729<=c&&54755>=c||54757<=c&&54783>=c||54785<=c&&54811>=c||54813<=c&&54839>=c||54841<=c&&54867>=c||54869<=c&&54895>=c||54897<=c&&54923>=c||54925<=c&&54951>=c||54953<=c&&54979>=c||54981<=c&&55007>=c||55009<=c&&55035>=c||55037<=c&&55063>=c||55065<=c&&55091>=c||55093<=c&&55119>=c||55121<=c&&55147>=c||55149<=c&&55175>=c||55177<=c&&55203>=c?10:9757==
c||9977==c||9994<=c&&9997>=c||127877==c||127938<=c&&127940>=c||127943==c||127946<=c&&127948>=c||128066<=c&&128067>=c||128070<=c&&128080>=c||128110==c||128112<=c&&128120>=c||128124==c||128129<=c&&128131>=c||128133<=c&&128135>=c||128170==c||128372<=c&&128373>=c||128378==c||128400==c||128405<=c&&128406>=c||128581<=c&&128583>=c||128587<=c&&128591>=c||128675==c||128692<=c&&128694>=c||128704==c||128716==c||129304<=c&&129308>=c||129310<=c&&129311>=c||129318==c||129328<=c&&129337>=c||129341<=c&&129342>=c||
129489<=c&&129501>=c?13:127995<=c&&127999>=c?14:8205==c?15:9792==c||9794==c||9877<=c&&9878>=c||9992==c||10084==c||127752==c||127806==c||127859==c||127891==c||127908==c||127912==c||127979==c||127981==c||128139==c||128187<=c&&128188>=c||128295==c||128300==c||128488==c||128640==c||128658==c?16:128102<=c&&128105>=c?17:11}this.eK=function(c,e){void 0===e&&(e=0);if(0>e)return 0;if(e>=c.length-1)return c.length;var f=d(a(c,e)),g=[];for(e+=1;e<c.length;e++){var h=c,k=e-1;if(!(55296<=h.charCodeAt(k)&&56319>=
h.charCodeAt(k)&&56320<=h.charCodeAt(k+1)&&57343>=h.charCodeAt(k+1))){h=d(a(c,e));if(b(f,g,h))return e;g.push(h)}}return c.length};this.hZ=function(c){for(var e=[],f=0,g;(g=this.eK(c,f))<c.length;)e.push(c.slice(f,g)),f=g;f<c.length&&e.push(c.slice(f));return e};this.IY=function(c){var e=0,f={next:function(){var g;if((g=this.eK(c,e))<c.length){var h=c.slice(e,g);e=g;return{value:h,done:!1}}return e<c.length?(h=c.slice(e),e=c.length,{value:h,done:!1}):{value:void 0,done:!0}}.bind(this)};"undefined"!==
typeof Symbol&&Symbol.iterator&&(f[Symbol.iterator]=function(){return f});return f};this.dY=function(c){for(var e=0,f=0,g;(g=this.eK(c,f))<c.length;)f=g,e++;f<c.length&&e++;return e};return this};"use strict";function Ob(a,b,d,c){var e=b[0]-a[0];b=b[1]-a[1];var f=c[0]-d[0],g=c[1]-d[1];if(0===f*b-g*e)return!1;c=(e*(d[1]-a[1])+b*(a[0]-d[0]))/(f*b-g*e);a=(f*(a[1]-d[1])+g*(d[0]-a[0]))/(g*e-f*b);return 0<=c&&1>=c&&0<=a&&1>=a}function Pb(a,b,d){return(b[0]-a[0])*(d[1]-a[1])-(d[0]-a[0])*(b[1]-a[1])}
var Qb=[],Rb=[];function Sb(a,b){var d=b[0]-a[0];a=b[1]-a[1];return d*d+a*a}function z(a,b){var d=a.length;return a[0>b?b%d+d:b%d]}function Tb(a,b,d,c){for(;d<c;d++)a.push(b[d])}var Ub=[],Vb=[];function Wb(a,b,d,c){c=c||[];c.length=0;if(b<d)for(var e=b;e<=d;e++)c.push(a[e]);else{for(e=0;e<=d;e++)c.push(a[e]);for(e=b;e<a.length;e++)c.push(a[e])}return c}
function Xb(a){for(var b=[],d,c,e=[],f=Number.MAX_VALUE,g=0;g<a.length;++g)if(0>Pb(z(a,g-1),z(a,g),z(a,g+1)))for(var h=0;h<a.length;++h){a:{c=a;var k=g,l=h;if(0<=Pb(z(c,k+1),z(c,k),z(c,l))&&0>=Pb(z(c,k-1),z(c,k),z(c,l)))d=!1;else{d=Sb(z(c,k),z(c,l));for(var m=0;m!==c.length;++m)if((m+1)%c.length!==k&&m!==k&&0<=Pb(z(c,k),z(c,l),z(c,m+1))&&0>=Pb(z(c,k),z(c,l),z(c,m))){Ub[0]=z(c,k);Ub[1]=z(c,l);Vb[0]=z(c,m);Vb[1]=z(c,m+1);var n=Ub;var p=Vb;var q=[0,0];var t=n[1][1]-n[0][1];var r=n[0][0]-n[1][0];var u=
t*n[0][0]+r*n[0][1];var v=p[1][1]-p[0][1];n=p[0][0]-p[1][0];var w=v*p[0][0]+n*p[0][1];p=t*n-v*r;0>=Math.abs(p-0)||(q[0]=(n*u-r*w)/p,q[1]=(t*w-v*u)/p);r=q;if(Sb(z(c,k),r)<d){d=!1;break a}}d=!0}}if(d){d=Xb(Wb(a,g,h,e));c=Xb(Wb(a,h,g,e));for(k=0;k<c.length;k++)d.push(c[k]);d.length<f&&(b=d,f=d.length,b.push([z(a,g),z(a,h)]))}}return b}
function Yb(a,b){if(0===b.length)return[a];if(b instanceof Array&&b.length&&b[0]instanceof Array&&2===b[0].length&&b[0][0]instanceof Array){a=[a];for(var d=0;d<b.length;d++)for(var c=b[d],e=0;e<a.length;e++){var f=Yb(a[e],c);if(f){a.splice(e,1);a.push(f[0],f[1]);break}}return a}c=b;d=a.indexOf(c[0]);e=a.indexOf(c[1]);return-1!==d&&-1!==e?[Wb(a,d,e),Wb(a,e,d)]:!1}
function Zb(a,b,d,c){var e=b[1]-a[1];b=a[0]-b[0];a=e*a[0]+b*a[1];var f=c[1]-d[1];c=d[0]-c[0];d=f*d[0]+c*d[1];var g=e*c-f*b;return 0>=Math.abs(g-0)?[0,0]:[(c*a-b*d)/g,(e*d-f*a)/g]}
function $b(a,b,d,c,e,f,g){f=f||100;g=g||0;e=e||25;b="undefined"!==typeof b?b:[];d=d||[];c=c||[];var h=[0,0],k=[0,0],l=[0,0],m,n=0,p=0,q=0,t=[],r=[];if(3>a.length)return b;g++;if(g>f)return console.warn("quickDecomp: max level ("+f+") reached."),b;for(var u=0;u<a.length;++u)if(0>Pb(z(a,u-1),z(a,u),z(a,u+1))){d.push(a[u]);var v=m=Number.MAX_VALUE;for(var w=0;w<a.length;++w){if(0<Pb(z(a,u-1),z(a,u),z(a,w))&&0>=Pb(z(a,u-1),z(a,u),z(a,w-1))&&(l=Zb(z(a,u-1),z(a,u),z(a,w),z(a,w-1)),0>Pb(z(a,u+1),z(a,u),
l))){var y=Sb(a[u],l);y<m&&(m=y,k=l,p=w)}0<Pb(z(a,u+1),z(a,u),z(a,w+1))&&0>=Pb(z(a,u+1),z(a,u),z(a,w))&&(l=Zb(z(a,u+1),z(a,u),z(a,w),z(a,w+1)),0<Pb(z(a,u-1),z(a,u),l)&&(y=Sb(a[u],l),y<v&&(v=y,h=l,n=w)))}if(p===(n+1)%a.length)l[0]=(k[0]+h[0])/2,l[1]=(k[1]+h[1])/2,c.push(l),u<n?(Tb(t,a,u,n+1),t.push(l),r.push(l),0!==p&&Tb(r,a,p,a.length),Tb(r,a,0,u+1)):(0!==u&&Tb(t,a,u,a.length),Tb(t,a,0,n+1),t.push(l),r.push(l),Tb(r,a,p,u+1));else{p>n&&(n+=a.length);h=Number.MAX_VALUE;if(n<p)return b;for(w=p;w<=n;++w)if(0<=
Pb(z(a,u-1),z(a,u),z(a,w))&&0>=Pb(z(a,u+1),z(a,u),z(a,w))){y=Sb(z(a,u),z(a,w));if(p=y<h)a:{for(p=0;p!==a.length;++p)if(p!==u&&p!==w&&(p+1)%a.length!==u&&(p+1)%a.length!==w&&Ob(z(a,u),z(a,w),z(a,p),z(a,p+1))){p=!1;break a}p=!0}p&&(h=y,q=w%a.length)}u<q?(Tb(t,a,u,q+1),0!==q&&Tb(r,a,q,a.length),Tb(r,a,0,u+1)):(0!==u&&Tb(t,a,u,a.length),Tb(t,a,0,q+1),Tb(r,a,q,u+1))}t.length<r.length?($b(t,b,d,c,e,f,g),$b(r,b,d,c,e,f,g)):($b(r,b,d,c,e,f,g),$b(t,b,d,c,e,f,g));return b}b.push(a);return b}
self.N8={J6:function(a){var b=Xb(a);return 0<b.length?Yb(a,b):[a]},V8:$b,M7:function(a){var b;for(b=0;b<a.length-1;b++)for(var d=0;d<b-1;d++)if(Ob(a[b],a[b+1],a[d],a[d+1]))return!1;for(b=1;b<a.length-2;b++)if(Ob(a[0],a[a.length-1],a[b],a[b+1]))return!1;return!0},b9:function(a,b){for(var d=0,c=a.length-1;3<a.length&&0<=c;--c){var e=z(a,c-1);var f=z(a,c),g=z(a,c+1),h=b;h?(Qb[0]=f[0]-e[0],Qb[1]=f[1]-e[1],Rb[0]=g[0]-f[0],Rb[1]=g[1]-f[1],e=Math.acos((Qb[0]*Rb[0]+Qb[1]*Rb[1])/(Math.sqrt(Qb[0]*Qb[0]+Qb[1]*
Qb[1])*Math.sqrt(Rb[0]*Rb[0]+Rb[1]*Rb[1])))<h):e=0===Pb(e,f,g);e&&(a.splice(c%a.length,1),d++)}return d},c9:function(a,b){for(var d=a.length-1;1<=d;--d)for(var c=a[d],e=d-1;0<=e;--e){var f=c,g=a[e];Math.abs(f[0]-g[0])<=(b||0)&&Math.abs(f[1]-g[1])<=(b||0)&&a.splice(d,1)}},n8:function(a){for(var b=0,d=1;d<a.length;++d)if(a[d][1]<a[b][1]||a[d][1]===a[b][1]&&a[d][0]>a[b][0])b=d;if(0<Pb(z(a,b-1),z(a,b),z(a,b+1)))return!1;b=[];d=a.length;for(var c=0;c!==d;c++)b.push(a.pop());for(c=0;c!==d;c++)a[c]=b[c];
return!0}};"use strict";const ac=Symbol("Construct internal API token");let bc=14;function cc(){if(0>=bc)throw Error("cannot obtain internal API token");--bc;return ac}const dc=self.A=class{constructor(){throw TypeError("static class can't be instantiated");}};dc.Wx=!1;dc.RJ=!1;dc.hardwareConcurrency=navigator.hardwareConcurrency||2;self.nf={};"use strict";const ec=self.A;
ec.dM=class{constructor(a){this.yX=a;this.ta=new Map;a=this.yX;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const d of a)if(d)if(d.includes("=")){var b=d.indexOf("=");a=decodeURIComponent(d.substring(0,b));b=decodeURIComponent(d.substring(b+1));this.ta.set(a,b)}else this.ta.set(d,null)}uu(a){return this.ta.has(a)}W(a){a=this.ta.get(a);return"undefined"===typeof a?null:a}};ec.wE=new ec.dM(location.search);ec.d1=new ec.dM(location.hash);ec.wE.uu("perf")&&(ec.TJ=!0);ec.wE.W("mode");
"use strict";const B=self.A;B.U={od:"(unknown)",nr:"(unknown)",mf:"(unknown)",sg:"(unknown)",NK:NaN,Of:"(unknown)",Qk:"browser",gE:!0,No:!1,AT:!1,ET:!1,OS:async()=>{}};const fc=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]);function gc(a){const b=parseFloat(a),d=fc.get(b);return d?d:13<=b?"11":"NT "+a}const hc=navigator.userAgent,ic=navigator.userAgentData;
if(ic&&0<ic.brands.length){B.U.od=ic.platform;B.U.No=ic.mobile;B.U.gE=!B.U.No;const a=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),b=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);function d(e){let f="",g="",h="",k="";for(const l of e)e=a.get(l.brand),!f&&e&&(f=e,g=l.version),e=b.get(l.brand),!h&&e&&(h=e,k=l.version);f||"Chromium"!==h||(B.U.mf=
"Chromium",B.U.sg=k);B.U.mf=f||"(unknown)";B.U.sg=g||"(unknown)";B.U.Of=h||"(unknown)"}d(ic.brands);let c=!1;B.U.OS=async()=>{if(!c)try{const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);d(e.fullVersionList);B.U.nr="Windows"===B.U.od?gc(e.platformVersion):e.platformVersion;c=!0}catch(e){console.warn("Failed to get detailed user agent information: ",e)}}}else{function a(l,m){l=Array.isArray(l)?l:[l];for(const n of l)if(l=n.exec(hc)){m(l);break}}a(/windows\s+nt\s+([\d\.]+)/i,
l=>{B.U.od="Windows";B.U.nr=gc(l[1])});a(/mac\s+os\s+x\s+([\d\._]+)/i,l=>{B.U.od="macOS";B.U.nr=l[1].replace(/_/g,".")});a(/CrOS/,()=>{B.U.od="Chrome OS"});a(/linux|openbsd|freebsd|netbsd/i,()=>{B.U.od="Linux"});a(/android/i,()=>{B.U.od="Android"});a(/android\s+([\d\.]+)/i,l=>{B.U.od="Android";B.U.nr=l[1]});"(unknown)"===B.U.od&&(a(/(iphone|ipod|ipad)/i,()=>{B.U.od="iOS"}),a([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],l=>{B.U.od="iOS";B.U.nr=l[1].replace(/_/g,".")}));const b=/chrome\//i.test(hc),
d=/chromium\//i.test(hc),c=/edg\//i.test(hc),e=/OPR\//.test(hc),f=/nwjs/i.test(hc),g=/safari\//i.test(hc),h=/webkit/i.test(hc);c||e||a(/chrome\/([\d\.]+)/i,l=>{B.U.mf="Chrome";B.U.sg=l[1];B.U.Of="Chromium"});a(/edg\/([\d\.]+)/i,l=>{B.U.mf="Edge";B.U.sg=l[1];B.U.Of="Chromium"});a(/OPR\/([\d\.]+)/,l=>{B.U.mf="Opera";B.U.sg=l[1];B.U.Of="Chromium"});a(/chromium\/([\d\.]+)/i,l=>{B.U.mf="Chromium";B.U.sg=l[1];B.U.Of="Chromium"});a(/nwjs\/[0-9.]+/i,l=>{B.U.mf="NW.js";B.U.sg=l[1];B.U.Of="Chromium";B.U.Qk=
"nwjs"});a(/firefox\/([\d\.]+)/i,l=>{B.U.mf="Firefox";B.U.sg=l[1];B.U.Of="Gecko"});!g||b||d||c||e||f||(B.U.mf="Safari",B.U.Of="WebKit",a(/version\/([\d\.]+)/i,l=>{B.U.sg=l[1]}),a(/crios\/([\d\.]+)/i,l=>{B.U.mf="Chrome for iOS";B.U.sg=l[1]}),a(/fxios\/([\d\.]+)/i,l=>{B.U.mf="Firefox for iOS";B.U.sg=l[1]}),a(/edgios\/([\d\.]+)/i,l=>{B.U.mf="Edge for iOS";B.U.sg=l[1]}));"(unknown)"===B.U.Of&&h&&(B.U.Of="WebKit");"Android"===B.U.od&&"Safari"===B.U.mf&&(B.U.mf="Stock");const k=(new Set(["Windows","macOS",
"Linux","Chrome OS"])).has(B.U.od)||"nwjs"===B.U.Qk;B.U.gE=k;B.U.No=!k}"Chrome"===B.U.mf&&"browser"===B.U.Qk&&/wv\)/.test(hc)&&(B.U.Qk="webview");"nwjs"!==B.U.Qk&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(B.U.Qk="webapp");B.U.NK=parseFloat(B.U.sg);"macOS"===B.U.od&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&(B.U.od="iOS",B.U.nr=B.U.sg,B.U.gE=!1,B.U.No=!0,B.U.ET=!0);B.U.AT="macOS"===B.U.od||"iOS"===B.U.od;
"use strict";const jc=new Map,kc="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,lc="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function mc(a){return new Promise((b,d)=>{a.onsuccess=()=>b(a.result);a.onerror=()=>d(a.error)})}function nc(a){return new Promise((b,d)=>{a.oncomplete=()=>b();a.onerror=()=>d(a.error);a.onabort=()=>d(a.error)})}function oc(a,b){return pc(a,b)}function qc(a,b){return pc(a,b,!0)}
async function pc(a,b,d=!1,c=!0){const e=await rc(a);try{const f=e.transaction(["keyvaluepairs"],d?"readwrite":"readonly");return b(f)}catch(f){if(c&&"InvalidStateError"===f.name)return jc.delete(a),pc(a,b,d,!1);throw f;}}function rc(a){sc(a);let b=jc.get(a);b instanceof Promise||(b=tc(a),jc.set(a,b),b.catch(()=>jc.delete(a)));return b}
async function tc(a){sc(a);const b=indexedDB.open(a,2);b.addEventListener("upgradeneeded",d=>{try{d.target.result.createObjectStore("keyvaluepairs")}catch(c){console.error(`Failed to create objectstore for database ${a}`,c)}});return mc(b)}function sc(a){if("string"!==typeof a)throw new TypeError("expected string");}
function uc(a,b){const d=a.objectStore("keyvaluepairs").openCursor();return new Promise(c=>{const e=[];d.onsuccess=f=>{if(f=f.target.result){switch(b){case "entries":e.push([f.key,f.value]);break;case "keys":e.push(f.key);break;case "values":e.push(f.value)}f.continue()}else c(e)}})}
class vc{constructor(a){sc(a);this.name=a}async ready(){await rc(this.name)}set(a,b){sc(a);return qc(this.name,async d=>{var c=d.objectStore("keyvaluepairs").put(b,a);c=mc(c);d=nc(d);await Promise.all([d,c])})}get(a){sc(a);return oc(this.name,async b=>{var d=b.objectStore("keyvaluepairs").get(a);d=mc(d);b=nc(b);[,b]=await Promise.all([b,d]);return b})}delete(a){sc(a);return qc(this.name,async b=>{var d=b.objectStore("keyvaluepairs").delete(a);d=mc(d);b=nc(b);await Promise.all([b,d])})}clear(){return qc(this.name,
async a=>{var b=a.objectStore("keyvaluepairs").clear();b=mc(b);a=nc(a);await Promise.all([a,b])})}keys(){return oc(this.name,async a=>{if(lc){var b=a.objectStore("keyvaluepairs").getAllKeys();b=mc(b)}else b=uc(a,"keys");a=nc(a);[,a]=await Promise.all([a,b]);return a})}values(){return oc(this.name,async a=>{if(kc){var b=a.objectStore("keyvaluepairs").getAll();b=mc(b)}else b=uc(a,"values");a=nc(a);[,a]=await Promise.all([a,b]);return a})}entries(){return oc(this.name,async a=>{var b=uc(a,"entries");
a=nc(a);[,b]=await Promise.all([a,b]);return b})}}self.LT=vc;"use strict";const wc=self.LT,xc=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],yc=new WeakMap;let zc=!1;"undefined"===typeof indexedDB&&(zc=!0,console.warn("Unable to use local storage because indexedDB is not defined"));
function Ac(a){throw Error(`"${a}" is not implemented`);}function Bc(a){if("function"===typeof a)throw Error("localforage callback API is not implemented; please use the promise API instead");}function Cc(a){return"object"===typeof a?new Promise(b=>{const {port1:d,port2:c}=new MessageChannel;c.onmessage=e=>b(e.data);d.postMessage(a)}):Promise.resolve(a)}
function Dc(a){if(!zc)for(const b of xc)if(a&&b.test(a.message)){console.error("Unable to use local storage, reverting to in-memory store: ",a,a.message);zc=!0;break}}async function Ec(a,b){a=yc.get(a).get(b);a=await Cc(a);return"undefined"===typeof a?null:a}async function Fc(a,b,d){d=await Cc(d);yc.get(a).set(b,d)}
class Gc{constructor(a){this.Ja=a;yc.set(this,new Map)}async getItem(a,b){Bc(b);if(zc)return await Ec(this,a);let d;try{d=await this.Ja.get(a)}catch(c){Dc(c);if(zc)return await Ec(this,a);console.error(`Error reading '${a}' from storage, returning null: `,c);return null}return"undefined"===typeof d?null:d}async setItem(a,b,d){Bc(d);"undefined"===typeof b&&(b=null);if(zc)await Fc(this,a,b);else try{await this.Ja.set(a,b)}catch(c){if(Dc(c),zc)await Fc(this,a,b);else throw c;}}async removeItem(a,b){Bc(b);
if(zc)yc.get(this).delete(a);else try{await this.Ja.delete(a)}catch(d){Dc(d),zc?yc.get(this).delete(a):console.error(`Error removing '${a}' from storage: `,d)}}async clear(a){Bc(a);if(zc)yc.get(this).clear();else try{await this.Ja.clear()}catch(b){Dc(b),zc?yc.get(this).clear():console.error("Error clearing storage: ",b)}}async keys(a){Bc(a);if(zc)return Array.from(yc.get(this).keys());a=[];try{a=await this.Ja.keys()}catch(b){Dc(b);if(zc)return Array.from(yc.get(this).keys());console.error("Error getting storage keys: ",
b)}return a}ready(a){Bc(a);return zc?Promise.resolve(!0):this.Ja.ready()}DJ(a){if("object"!==typeof a)throw new TypeError("invalid options object");a=a.name;if("string"!==typeof a)throw new TypeError("invalid store name");a=new wc(a);return new Gc(a)}length(){Ac("localforage.length()")}key(){Ac("localforage.key()")}iterate(){Ac("localforage.iterate()")}config(){Ac("localforage.config()")}supports(){Ac("localforage.supports()")}dropInstance(){Ac("localforage.dropInstance()")}}self.localforage=new Gc(new wc("localforage"));
"use strict";const Hc=self.A;Hc.cb={};Hc.cb.U5=(()=>{try{if("undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();Hc.cb.A_="undefined"!==typeof HTMLDialogElement;Hc.cb.R2=!!self.requestIdleCallback;Hc.cb.ImageBitmap=!!self.createImageBitmap;Hc.cb.ImageBitmapOptions=!1;Hc.cb.Xy=!1;
if(Hc.cb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{Hc.cb.ImageBitmapOptions=!0}).catch(()=>{Hc.cb.ImageBitmapOptions=!1})}catch(a){Hc.cb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{Hc.cb.Xy=10===a.width&&10===a.height}).catch(()=>{Hc.cb.Xy=!1})}catch(a){Hc.cb.Xy=!1}}Hc.cb.b_=!(!navigator.clipboard||!navigator.clipboard.readText);Hc.cb.vU=!(!navigator.permissions||!navigator.permissions.query);
Hc.cb.RK=!1;Hc.cb.vU&&navigator.permissions.query({name:"clipboard-read"}).then(()=>{Hc.cb.RK=!0}).catch(()=>{Hc.cb.RK=!1});Hc.cb.KZ=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem);Hc.cb.bM="undefined"!==typeof Proxy;Hc.cb.B_="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;Hc.cb.J_="function"===typeof fetch;Hc.cb.a2=!!(self.isSecureContext&&"Opera"!==Hc.U.mf&&navigator.storage&&navigator.storage.persist);
Hc.cb.m5=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Ic;if("undefined"===typeof document||"iOS"===Hc.U.od)Ic=!1;else{var Jc=document.documentElement;Ic=!!(Jc.requestFullscreen||Jc.msRequestFullscreen||Jc.mozRequestFullScreen||Jc.webkitRequestFullscreen)}Hc.cb.U_=Ic;Hc.cb.n0="undefined"!==typeof self.ImageDecoder;Hc.cb.V5=!!self.VideoEncoder;Hc.cb.s1=!!self.showOpenFilePicker;Hc.cb.H2=!!self.queryLocalFonts;Hc.cb.UserActivation=!!navigator.userActivation;Hc.cb.QK=!1;
(async()=>{let a;"undefined"===typeof document?a=new OffscreenCanvas(32,32):(a=document.createElement("canvas"),a.width=32,a.height=32);var b=a.getContext("2d");b.fillStyle="blue";b.fillRect(0,0,32,32);b=null;try{a.convertToBlob?b=await a.convertToBlob({type:"image/webp",quality:1}):a.toBlob&&(b=await new Promise(d=>a.toBlob(d,"image/webp",1))),Hc.cb.QK=b&&"image/webp"===b.type}catch(d){Hc.cb.QK=!1}})();"use strict";const Kc=self.A;
if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,"")}}
String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(Kc.Ut(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,d){return b.reduce((c,e)=>{0<d&&Array.isArray(e)?Array.prototype.push.apply(c,a(e,d-1)):c.push(e);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}
Array.prototype.at||(Array.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});String.prototype.at||(String.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});
Set.prototype.YJ||(Set.prototype.YJ=function(a){if(!(a instanceof Set))throw new TypeError("argument must be a Set");for(const b of this)if(!a.has(b))return!1;return!0});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,c)=>a({usage:d,quota:c}),b))});
"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self);"use strict";const Lc=self.A;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+Lc.Iy())};"use strict";const D=self.A,Mc=self.nf;D.Hm=function(a){return"number"===typeof a};D.Ub=function(a){return D.Hm(a)&&isFinite(a)};D.xg=function(a){if(!D.Hm(a))throw new TypeError("expected number");};D.lM=function(){};
D.o3=function(a,b,d){if(!D.Hm(a)||isNaN(a)||b>a||d<a)throw new RangeError("number outside of range");};D.Y2=function(...a){for(let b of a);};D.xf=function(a){if(!D.Ub(a))throw new TypeError("expected finite number");};D.iM=function(){};D.V2=function(...a){for(let b of a);};D.Ph=function(a){return"string"===typeof a};D.ad=function(a){if(!D.Ph(a))throw new TypeError("expected string");};D.nM=function(){};D.a3=function(...a){for(let b of a);};
D.ML=function(a){return"object"!==typeof a||null===a?!1:(a=Object.getPrototypeOf(a))?a.constructor===Object:null===a};D.D3=function(a){if(!D.ML(a))throw new TypeError("expected simple object");};D.A3=function(a){if(!D.pe(a)&&!D.ML(a))throw new TypeError("expected simple object");};D.LL=function(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)};D.gM=function(a){if(!D.LL(a))throw new TypeError("expected object");};D.mM=function(){};D.Z2=function(...a){for(let b of a);};
D.hE=function(a){return D.RE(a,Blob)&&"string"===typeof a.name};D.m3=function(a){if(!D.hE(a))throw new TypeError("expected file");};D.y3=function(){};D.$k=function(a){return Array.isArray(a)};D.kz=function(a){if(!D.$k(a))throw new TypeError("expected array");};D.hM=function(){};D.U2=function(...a){for(let b of a);};D.zT=function(a){return D.$k(a)?a.length?D.$k(a[0])?!0:!1:!0:!1};
D.T2=function(a){if(!D.zT(a))throw new TypeError("expected 2d array");for(let b of a)if(!D.$k(b))throw new TypeError("expected 2d array");};D.q3=function(){};D.iE=function(a){return"function"===typeof a};D.fk=function(a,b){if(!D.iE(a))throw new TypeError("expected function");if(!D.pe(b)&&a!==b)throw new TypeError("expected same function reference");};D.jM=function(){};D.W2=function(...a){for(let b of a);};
D.d3=function(a,...b){if(!D.iE(a))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let d of b)if(!D.pe(d)&&a===d)return;throw new TypeError("expected same function reference");};D.r3=function(...a){if(!D.pe(a))for(let b of a);};D.Lo=function(a,b){return a instanceof b};D.KL=function(a,...b){for(let d of b)if(D.Lo(a,d))return!0;return!1};D.lz=function(a,b){if(!D.Lo(a,b))throw new TypeError("unexpected type");};D.kM=function(){};
D.X2=function(a,...b){for(let d of b);};D.e3=function(a,...b){if(!D.KL(a,...b))throw new TypeError("unexpected type");};D.f3=function(a,...b){if(!D.pe(a)&&!D.KL(a,...b))throw new TypeError("unexpected type");};D.t0=function(a,b){for(let d of a)if(!D.Lo(d,b))return!1;return!0};D.u0=function(a){for(let b of a)if(!D.Ub(b))return!1;return!0};D.g3=function(a){for(let b of a);};D.s3=function(a){if(!D.pe(a))for(let b of a);};D.u3=function(a){if(!D.pe(a))for(let b of a);};
D.h3=function(a){for(let b of a);};D.t3=function(a){if(!D.pe(a))for(let b of a);};D.x0=function(a,b){return D.pe(a)||!D.Ph(a.nodeName)?!1:!b||D.Qj(a.nodeName,b)};D.i3=function(a,b){if(D.pe(a)||!D.Ph(a.nodeName))throw new TypeError("expected DOM node");if(b&&!D.Qj(a.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);};D.v3=function(){};D.jE=function(a,b){return D.pe(a)||!D.Ph(a.tagName)?!1:!b||D.Qj(a.tagName,b)};
D.n3=function(a,b){if(D.pe(a)||!D.Ph(a.tagName))throw new TypeError("expected HTML element");if(b&&!D.Qj(a.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};D.z3=function(){};D.IL=function(a){return D.jE(a,"img")||D.jE(a,"canvas")||D.jE(a,"video")||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap};D.j3=function(a){if(!D.IL(a))throw new TypeError("expected drawable");};D.w3=function(){};
D.JL=function(a){return a instanceof ImageData?!0:D.IL(a)};D.l3=function(a){if(!D.JL(a))throw new TypeError("expected drawable or image data");};D.x3=function(a){if(!D.pe(a)&&!D.JL(a))throw new TypeError("expected drawable or image data");};D.IT=function(a){return"string"===typeof a||D.Wy&&a instanceof D.Wy||a instanceof D.Uq};D.E3=function(a){if(!D.IT(a))throw new TypeError("expected string-like");};D.B3=function(){};D.b3=function(...a){for(let b of a);};
D.C3=function(){throw Error("must be overridden");};D.u1=function(){throw Error("not yet implemented");};D.z0=function(a,...b){if("undefined"===typeof a)return!1;for(let d of b){if("undefined"===typeof a[d])return!1;a=a[d]}return!0};D.pe=function(a){return"undefined"===typeof a||null===a};D.IZ=function(a){let b=a[0].constructor;for(let d of a)if(d.constructor!==b)return!1;return b};D.JZ=function(a,b){for(let d of a)if(!(d instanceof b))return!1;return!0};const Nc=Object.getPrototypeOf(Uint8Array);
D.N0=function(a){return D.Lo(a,Nc)};D.F3=function(){};D.T5=function(a){D.qV(a)};D.S5=function(a,...b){if(!D.pV(a,...b))throw new TypeError("unexpected type");};D.pV=function(a,...b){for(const d of b)if(D.RE(a,d))return!0;return!1};D.qV=function(a){if(!D.RE(a,Nc))throw new TypeError("unexpected type");};D.RE=function(a,b){for(;a=Object.getPrototypeOf(a);)if(a.constructor.name===b.name)return!0;return!1};Mc.xg=D.xg;Mc.lM=D.lM;Mc.xf=D.xf;Mc.iM=D.iM;Mc.ad=D.ad;Mc.nM=D.nM;Mc.gM=D.gM;Mc.mM=D.mM;Mc.kz=D.kz;
Mc.hM=D.hM;Mc.fk=D.fk;Mc.jM=D.jM;Mc.lz=D.lz;Mc.kM=D.kM;Mc.pe=D.pe;"use strict";const E=self.A,Oc=new Map;E.c_=function(a,b){console.log(`%c${a}`,`font-weight: bold; color:${b}`)};E.J2=function(a,...b){Oc.has(a)||Oc.set(a,-1);-1===Oc.get(a)&&Oc.set(a,requestAnimationFrame(()=>{console.log(`%c${a}`,"font-weight: bold",...b);Oc.set(a,-1)}))};let Pc;E.j5=function(a){performance.mark(a);Pc||(Pc=new Map);Pc.has(a)||Pc.set(a,{current:0,total:0,sQ:0,xJ:1,toString:function(){return`${a} :: current => ${this.current.toPrecision(3)} :: average => ${this.sQ.toPrecision(3)} :: calls => ${this.xJ}`}})};
E.D_=function(a){performance.measure(`measure-${a}`,a);const b=performance.getEntriesByName(`measure-${a}`)[0],d=Pc.get(a);d.current=b.duration;d.total+=d.current;d.sQ=d.total/d.xJ;console.log(d.toString());d.xJ++;performance.clearMarks(a);performance.clearMeasures(`measure-${a}`)};E.Iy=function(){return Error().stack};E.y_=function(){debugger};E.v6=function(a,b){return a&&a instanceof b?a:null};
E.Pk=function(a){return"undefined"===typeof a?"undefined":null===a?"null":"boolean"===typeof a?"<boolean>":E.Hm(a)?"<number>":E.Ph(a)?"<string>":E.$k(a)?"<array>":"symbol"===typeof a?"<"+a.toString()+">":E.iE(a)?a.name&&"Function"!==a.name?a.name:"<anonymous function>":"object"===typeof a?a.constructor&&a.constructor.name&&"Object"!==a.constructor.name?a.constructor.name:"<anonymous object>":"<unknown>"};E.getType=function(a){return null===a?"null":Array.isArray(a)?"array":typeof a};
E.range=function*(a,b){if(!isFinite(Math.abs(a-b)))throw Error("Invalid parameters");if(a>b)for(--a;a>=b;a--)yield a;else for(;a<b;a++)yield a};let Qc=new Map,Rc=new Map,Sc=new WeakMap,Tc=new WeakMap;E.Xq={};const Uc=new Set(["then","splice"]);function Vc(a){console.warn("[Defence] "+a+" @",E.Iy())}
E.Xq.get=function(a,b){b in a||"symbol"===typeof b||Uc.has(b)||Vc(`Accessed missing property '${b}' from defended object '${E.Pk(a)}', returning undefined`);Tc.has(a)&&"symbol"!==typeof b&&!Uc.has(b)&&Vc(`Accessed property '${b}' on a released object '${E.Pk(a)}'\nObject was originally released at: ${Tc.get(a)})\nCall stack at access: `);return a[b]};
E.Xq.set=function(a,b,d){b in a||Qc.has(a)||Vc(`Set non-existent property '${b}' to '${d}' on defended object '${E.Pk(a)}'`);let c=E.getType(a[b]),e=E.getType(d);"null"===c||"null"===e||("undefined"===c||"undefined"===e?0:c===e)||Qc.has(a)||Vc(`Set '${E.getType(a[b])}' property '${b}' to type '${E.getType(d)}' on defended object '${E.Pk(a)}'`);Tc.has(a)&&Vc(`Set property '${b}' on a released object '${E.Pk(a)}'\nObject was originally released at: ${Tc.get(a)})\nCall stack at access: `);a[b]=d;return!0};
E.Xq.deleteProperty=function(a,b){throw new ReferenceError(`Cannot delete property '${b}' from defended object '${E.Pk(a)}'`);};E.Xq.defineProperty=function(a,b){throw new ReferenceError(`Cannot define property '${b}' on defended object '${E.Pk(a)}'`);};E.Xq.U6=function(a){throw new ReferenceError(`Cannot enumerate defended object '${E.Pk(a)}'`);};let Wc=-1;
function Xc(){Wc=-1;if(0<Qc.size||0<Rc.size){let a=[...(new Set([...Qc.keys()].map(b=>E.Pk(b))))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${a}`);Qc.clear();Rc.clear()}}
E.pa=class{constructor(){if(E.RJ&&E.cb.bM){var a=new.target;a=Object.create(a.prototype);var b=new Proxy(a,E.Xq);Qc.set(a,b);Rc.set(b,a);Sc.set(b,a);-1===Wc&&(Wc=requestAnimationFrame(Xc));return b}}};E.fY=function(a){if(E.RJ&&E.cb.bM&&a instanceof E.pa){if(!Rc.has(a))return a;let b=Rc.get(a);Rc.delete(a);Qc.delete(b);return a}return E.Wx?Object.seal(a):a};
E.j=function(a,...b){let d;try{d=new a(...b)}catch(f){throw Rc.clear(),Qc.clear(),f;}if(E.RJ){b=d;var c=new Set;for(e in b)c.add(e);var e=c;if(b=Yc.get(a)){c=[];for(let f of b.values())e.has(f)?e.delete(f):c.push(f);E.om(c,[...e]);c.length&&console.warn(`[Defence] '${E.Pk(a)}' constructor creates inconsistent properties: ${c.join(", ")}`)}else Yc.set(a,e)}return E.fY(d)};E.m=function(a){(a=Sc.get(a))&&Tc.set(a,E.Iy())};E.Ar=function(){let a=Sc.get(void 0);return a?!!Tc.get(a):!1};let Yc=new Map;
E.Y1=class{constructor(a){this.Ca="";a&&this.start(a)}start(a){E.TJ&&(this.Ca=a,performance.mark(this.Ca+"-Start"))}end(){E.TJ&&(performance.mark(this.Ca+"-End"),performance.measure(this.Ca,this.Ca+"-Start",this.Ca+"-End"))}next(a){E.TJ&&(this.end(),this.Ca=a,performance.mark(this.Ca+"-Start"))}};"use strict";const G=self.A,Zc=2*Math.PI,$c=Math.PI/180,ad=180/Math.PI;
G.wrap=function(a,b,d){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);const c=d-b;return 0===c?d:a<b?(a=d-(b-a)%c,a===d?0:a):b+(a-b)%c};G.OY=function(a,b,d,c){d-=b;return 0===d?a:(a-b)*(c-0)/d};G.normalize=function(a,b,d){return 0===b-d?1:(a-b)/(d-b)};G.ia=function(a,b,d){return a<b?b:a>d?d:a};G.Cd=function(a){a%=Zc;0>a&&(a+=Zc);return a};G.Bb=function(a){return a*$c};G.Ei=function(a){return a*ad};G.jY=function(a,b,d,c){return Math.hypot(d-a,c-b)};
G.AQ=function(a,b,d,c){a=d-a;b=c-b;return a*a+b*b};G.wJ=function(a,b,d,c){return Math.atan2(c-b,d-a)};G.Gq=function(a,b){if(a===b)return 0;a=Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b);return 1<=a?0:-1>=a?Math.PI:Math.acos(a)};G.vJ=function(a,b,d){let c=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(c*f+e*g)>d?0<e*f-c*g?G.Cd(a+d):G.Cd(a-d):G.Cd(b)};G.Lf=function(a,b){return 0>=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)};
G.uJ=function(a,b,d,c=0){let e=G.Gq(a,b);c*=Zc;return G.Lf(b,a)?G.Cd(a+(e+c)*d):G.Cd(a-(e+c)*d)};G.TX=function(a,b,d,c=0){const e=G.Gq(a,b);c*=Zc;return G.Lf(b,a)?G.Cd(a+(e+c)*d):G.Cd(a+(Zc-e+c)*d)};G.SX=function(a,b,d,c=0){const e=G.Gq(a,b);c*=Zc;return G.Lf(b,a)?G.Cd(a-(-Zc+e-c)*d):G.Cd(a-(e+c)*d)};G.rQ=function(a,b){const d=G.Gq(a,b);return G.Lf(a,b)?G.Cd(b-d):G.Cd(b+d)};G.Nf=function(a,b,d){return a+d*(b-a)};G.rD=function(a,b,d){return a===b?0:(d-a)/(b-a)};
G.a9=function(a,b,d,c,e){return G.Nf(c,e,G.rD(a,b,d))};G.jD=function(a,b,d,c){return G.Nf(G.Nf(a,b,c),G.Nf(b,d,c),c)};G.yQ=function(a,b,d,c,e){return G.Nf(G.jD(a,b,d,e),G.jD(b,d,c,e),e)};G.wQ=function(a,b,d){return(a+b+(a-b)*Math.cos(d*Math.PI))/2};G.Ci=function(a){return 0<a&&0===(a-1&a)};G.Jq=function(a){--a;for(let b=1;32>b;b<<=1)a|=a>>b;return a+1};G.p9=function(a,b){return Math.round(a*b)/b};G.c7=function(a,b){return Math.floor(a*b)/b};
G.iR=function(a){var b=Math.max(Math.floor(6),0);b=Math.pow(10,b);return Math.round(a*b)/b};G.z6=function(a){return Math.floor(a)!==a?a.toString().split(".")[1].length||0:0};G.toFixed=function(a,b){a=a.toFixed(b);for(b=a.length-1;0<=b&&"0"===a.charAt(b);--b);0<=b&&"."===a.charAt(b)&&--b;return 0>b?a:a.substr(0,b+1)};G.uU=function(a,b,d){return G.ia(a,0,255)|G.ia(b,0,255)<<8|G.ia(d,0,255)<<16};
G.fz=function(a,b,d,c){a=G.ia(Math.floor(1024*a),-8192,8191);b=G.ia(Math.floor(1024*b),-8192,8191);d=G.ia(Math.floor(1024*d),-8192,8191);c=G.ia(Math.floor(1023*c),0,1023);0>a&&(a+=16384);0>b&&(b+=16384);0>d&&(d+=16384);return-(274877906944*a+16777216*b+1024*d+c)};G.ZL=function(a,b,d){return G.fz(a,b,d,1)};G.UD=function(a){if(0<=a)return(a&255)/255;a=Math.floor(-a/274877906944);8191<a&&(a-=16384);return a/1024};
G.PD=function(a){if(0<=a)return((a&65280)>>8)/255;a=Math.floor(-a%274877906944/16777216);8191<a&&(a-=16384);return a/1024};G.JD=function(a){if(0<=a)return((a&16711680)>>16)/255;a=Math.floor(-a%16777216/1024);8191<a&&(a-=16384);return a/1024};G.JS=function(a){return 0===a&&0>1/a?0:0<=a?1:Math.floor(-a%1024)/1023};G.zY=function(a,b){a=Math.floor(a);for(b=Math.floor(b);0!==b;){let d=b;b=a%b;a=d}return a};const bd=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];
G.r7=function(a,b){a=Math.floor(a);b=Math.floor(b);if(a===b)return[1,1];for(var d of bd){let c=a/d[0]*d[1];if(1>Math.abs(b-c))return d.slice(0);c=a/d[1]*d[0];if(1>Math.abs(b-c))return[d[1],d[0]]}d=G.zY(a,b);return[a/d,b/d]};
G.v9=function(a,b,d,c,e,f,g,h){var k=Math.min(a,d),l=Math.max(e,g);if(Math.max(a,d)<Math.min(e,g)||k>l)return!1;k=Math.min(b,c);l=Math.max(f,h);if(Math.max(b,c)<Math.min(f,h)||k>l)return!1;k=e-a+g-d;l=f-b+h-c;a=d-a;b=c-b;e=g-e;f=h-f;h=Math.abs(b*e-f*a);return Math.abs(e*l-f*k)>h?!1:Math.abs(a*l-b*k)<=h};
G.vm=function(a,b,d,c,e,f,g,h,k,l,m,n){const p=Math.max(k,m);if(f<Math.min(k,m)||e>p)return!1;e=Math.max(l,n);if(h<Math.min(l,n)||g>e)return!1;g=k-a+m-d;h=l-b+n-c;a=d-a;b=c-b;k=m-k;l=n-l;n=Math.abs(b*k-l*a);return Math.abs(k*h-l*g)>n?!1:Math.abs(a*h-b*g)<=n};
G.mD=function(a,b,d,c,e){const f=Math.min(a,d),g=Math.max(a,d),h=Math.min(b,c),k=Math.max(b,c),l=e.$b,m=e.ac,n=e.Jc,p=e.Kc,q=e.Ac,t=e.Bc,r=e.yc;e=e.zc;return G.vm(a,b,d,c,f,g,h,k,l,m,n,p)||G.vm(a,b,d,c,f,g,h,k,n,p,q,t)||G.vm(a,b,d,c,f,g,h,k,q,t,r,e)||G.vm(a,b,d,c,f,g,h,k,r,e,l,m)};
G.u9=function(a,b,d,c,e){const f=Math.min(a,d),g=Math.max(a,d),h=Math.min(b,c),k=Math.max(b,c);let l=0;for(let m=e.length-4;l<=m;l+=2)if(G.vm(a,b,d,c,f,g,h,k,e[l],e[l+1],e[l+2],e[l+3]))return!0;return G.vm(a,b,d,c,f,g,h,k,e[l],e[l+1],e[0],e[1])};G.bZ=function(a,b,d,c,e,f,g,h){d-=a;f=h-f;const k=d*f-(c-b)*(g-e);if(0===k)return 2;c=((b-c)*(g-a)+d*(h-b))/k;return 0<c&&1.000001>c?(f*(g-a)+(e-g)*(h-b))/k:2};G.iy=function(a,b,d,c,e,f,g,h,k){const l=(g-e)*k;k*=h-f;return G.bZ(a,b,d,c,e-l,f-k,g+l,h+k)};
G.FY=function(a,b,d,c,e,f,g,h){e-=d;f-=c;g-=d;h-=c;a-=d;d=b-c;b=e*e+f*f;c=e*g+f*h;e=e*a+f*d;f=g*g+h*h;g=g*a+h*d;h=1/(b*f-c*c);f=(f*e-c*g)*h;e=(b*g-c*e)*h;return 0<=f&&0<=e&&1>=f+e};G.rZ=function(a,b,d,c,e,f,g,h){e-=d;f-=c;g-=d;h-=c;a-=d;const k=b-c;b=e*e+f*f;c=e*g+f*h;d=g*g+h*h;e=a*e+k*f;f=a*g+k*h;g=b*d-c*c;h=(d*e-c*f)/g;e=(b*f-c*e)/g;return[1-h-e,h,e]};G.qZ=function(a,b,d,c,e,f,g,h,k,l,m,n){return[a*c+b*g+d*l,a*e+b*h+d*m,a*f+b*k+d*n]};"use strict";const H=self.A;let cd=null,dd="";
if("undefined"!==typeof document){cd=document;const a=document.querySelector("base");if(dd=a&&a.hasAttribute("href")?a.getAttribute("href"):"")dd.startsWith("/")&&(dd=dd.substr(1)),dd.endsWith("/")||(dd+="/")}H.W_=function(){return dd};H.X_=function(){if(!cd)return"";const a=cd.location;return H.ZS(a.origin+a.pathname)+dd};H.ZS=function(a){if(!a.length||a.endsWith("/")||a.endsWith("\\"))return a;const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?"":a.substr(0,b+1)};
H.a0=function(a){if(!a.length)return a;if(a.endsWith("/")||a.endsWith("\\"))return"";const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?a:a.substr(b+1)};H.TS=function(a){let b=a.lastIndexOf(".");return 1>b?"":a.substr(b)};H.n4=function(a,b){const d=a.lastIndexOf(".");return-1===d?a+"."+b:a.substr(0,d+1)+b};H.My=function(a){let b=a.lastIndexOf(".");return 1>b?a:a.substr(0,b)};H.YT=function(a){return a.replace(/\\/g,"/")};H.B0=function(a,b){return b===(a?H.TS(a).slice(1):"")};
H.K_=function(a,b){let d,c;H.hE(a)&&(d=H.My(a.name));H.Ph(a)&&(d=H.My(a));H.hE(b)&&(c=H.My(b.name));H.Ph(b)&&(c=H.My(b));return d===c};
H.X1=function(a){a=H.YT(a);let b=/^\w:\//.exec(a);b?(b=b[0],a=a.slice(3),"/"!==a[0]&&(a="/"+a)):b="";a=a.replace(/\/{2,}/g,"/");1<a.length&&"/"===a.slice(-1)&&(a=a.slice(0,-1));var d=a.lastIndexOf("/")+1;let c="",e=a,f="";0<d&&(c=a.slice(0,d),e=a.slice(d));a=e;d=e.lastIndexOf(".");0<d&&(f=e.slice(d),a=e.slice(0,-f.length));return{dir:c,m6:e,name:a,root:b,ext:f,o7:b+c+e}};H.MM=function(a,b){return new Promise(d=>{self.setTimeout(d,a,b)})};
H.N9=function(a){try{a()}catch(b){H.Wx&&console.warn("Swallowed exception: ",b)}};H.w8=function(){};H.Qj=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()};H.V6=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b?!0:a.normalize()===b.normalize()};
H.sZ=function(a,b){var d=0;a[d++]=b[0];a[d++]=b[1];a[d++]=b[2];a[d++]=b[3];a[d++]=b[4];a[d++]=b[5];a[d++]=b[6];a[d++]=b[7];a[d++]=b[8];a[d++]=b[9];a[d++]=b[10];a[d++]=b[11];a[d++]=b[12];a[d++]=b[13];a[d++]=b[14];a[d]=b[15]};H.lf=function(a,b){a.length=b};H.D=function(a){a&&0!==a.length&&H.lf(a,0)};H.ZX=function(a){if(a){for(let b=0;b<a.length;b++)H.lf(a[b],0);H.lf(a,0)}};H.$C=function(a,b,d){b|=0;var c=a.length;if(!(b<=c))for(;c<b;++c)a.push(d)};
H.hR=function(a){var b=4;const d=a.length;b<d?H.lf(a,b):b>d&&H.$C(a,b,"0")};H.Yc=function(a,b){H.D(a);H.om(a,b)};H.om=function(a,b){if(1E4>b.length)a.push(...b);else for(let d=0,c=b.length;d<c;++d)a.push(b[d])};H.WX=function(a,b){b=Math.floor(b);if(!(0>b||b>=a.length)){for(var d=a.length-1;b<d;++b)a[b]=a[b+1];H.lf(a,d)}};H.Nk=function(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1)};H.l6=function(a,b){let d=a.length;if(b.length!==d)return!1;for(let c=0;c<d;++c)if(a[c]!==b[c])return!1;return!0};
H.VX=function(a,b){let d=[],c=0;for(let e=0,f=a.length;e<f;++e){let g=a[e];b(g)?d.push(g):(a[c]=g,++c)}H.lf(a,c);return d};H.Vg=function(a,b){const d=a.length;let c=0;for(let e=0,f=a.length;e<f;++e){let g=a[e];b.has(g)||(a[c++]=g)}H.lf(a,c);return d-c};H.BY=function(a,b){return a!==Math.floor(a)?!1:0<=a&&a<b.length};H.g$=function(a,b){if(!H.BY(a,b))throw new RangeError("array index out of bounds");};H.BJ=function(a){return a.slice()};
H.gY=function(a,b){let d=[];for(let c of a)if(H.LL(c)){a=b(c);if(!a)throw Error("missing clone");if(a.constructor!==c.constructor)throw Error("object is not a clone");d.push(a)}else H.$k(c)?d.push(H.gY(c,b)):d.push(c);return d};H.x6=function(a){let b=[];for(let d of a)b.push(d.slice());return b};H.CK=function(a){return a?a.split(" ").map(b=>b.trim()).filter(b=>!!b):[]};H.Z6=function(a,b,d){const c=new Set;for(const e of a.values())b(e)&&(d?c.add(d(e)):c.add(e));return c};
H.r8=function(a,b){return a.union?a.union(b):new Set([...a,...b])};H.s8=function(a,b){for(const d of b)a.add(d);return a};H.first=function(a){for(let b of a)return b;return null};H.xor=function(a,b){return!a!==!b};H.compare=function(a,b,d){switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}};H.B7=function(a){for(let b in a)if(a.hasOwnProperty(b))return!0;return!1};
H.CU=function(a,b){return a.length?new Promise((d,c)=>{const e=[];let f=0,g=!1;for(let h=0,k=a.length;h<k;++h)e.push(void 0),a[h].then(l=>{g||(e[h]=l,++f,f===a.length?d(e):b(f,a.length))}).catch(l=>{g=!0;c(l)})}):Promise.resolve([])};let ed=[];H.CZ=function(a){ed.push(a)};H.Z_=function(){let a=0;for(let b of ed){let d=b();a+=d}return Math.floor(a)};let fd=1;const gd=new Map,hd=new MessageChannel;hd.port2.onmessage=function(a){a=a.data;const b=gd.get(a);gd.delete(a);b&&b(performance.now())};
H.CE=function(a){const b=fd++;gd.set(b,a);hd.port1.postMessage(b);return b};H.fS=function(a){gd.delete(a)};H.AU=H.CE;H.oV=function(){return new Promise(a=>H.AU(a))};const id=new Set;H.S2=function(a){const b=self.requestAnimationFrame(async d=>{await H.oV();id.has(b)&&(id.delete(b),a(d))});id.add(b);return b};H.ZZ=function(a){id.has(a)&&(self.cancelAnimationFrame(a),id.delete(a))};"use strict";const I=self.A;
I.EL=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};I.Zy=function(a){return!I.EL(a)};I.cV=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};I.Gy=function(a){return fetch(a,void 0).then(b=>{I.cV(b);return b})};I.Xt=function(a){return I.Gy(a).then(b=>b.text())};I.bL=function(a){return I.Gy(a).then(b=>b.json())};I.Rk=function(a){return I.Gy(a).then(b=>b.blob())};
I.Wt=function(a){return I.Gy(a).then(b=>b.arrayBuffer())};I.zS=function(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>b(c);c.onerror=e=>d(e);c.src=a})};I.aS=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(a)})};
I.MK=function(a){return"function"===typeof a.text?a.text():new Promise((b,d)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>d(c.error);c.readAsText(a)})};I.SZ=function(a){return I.MK(a).then(b=>JSON.parse(b))};I.LK=async function(a){a=URL.createObjectURL(a);try{const b=await I.zS(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};
I.tg=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=a;d.height=b;return d}return new OffscreenCanvas(a,b)};I.AD=function(a,b,d){"number"!==typeof d&&(d=1);b=b||"image/png";d=I.ia(d,0,1);if(a.convertToBlob)return a.convertToBlob({type:b,quality:d});if(a.toBlob)return new Promise(c=>a.toBlob(c,b,d));throw Error("could not convert canvas to blob");};
I.XK=function(a,b,d){const c=I.tg(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return I.AD(c,b,d)};I.m0=function(a,b,d){if(I.cb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(e=>I.XK(e,b,d));if(I.cb.ImageBitmap)return createImageBitmap(a).then(e=>I.XK(e,b,d));const c=I.tg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return I.AD(c,b,d)};I.mS=function(a,b){a.clear();for(const d of b)a.add(d)};
I.g1=function(a){const b=Object.create(null);for(const [d,c]of a.entries())b[d]=c;return b};I.v1=function(a,b){b.clear();for(const [d,c]of Object.entries(a))b.set(d,c)};I.OE=function jd(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>jd(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],jd(c[1])])};const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=jd(e);return d}return a};
I.ID=function kd(a){if("object"===typeof a&null!==a){if("set"===a._c3type_)return new Set(a.data.map(c=>kd(c)));if("map"===a._c3type_)return new Map(a.data.map(c=>[c[0],kd(c[1])]));const d=Object.create(null);for(const [c,e]of Object.entries(a))d[c]=kd(e);return d}return a};I.PK=function(a){if(a.startsWith("--"))return a;let b="",d=!1,c=0;for(const e of a)"-"===e?0<c&&(d=!0):d?(b+=e.toUpperCase(),d=!1):b+=e,++c;return b};I.bl=function(a){return"object"===typeof a&&"function"===typeof a.next};
I.WT=function(a){const b=[];for(let d=0;d<a;++d)b.push(0);return b};"use strict";const ld=self.A;function md(a,b,d,c,e){a.Ua=+b;a.Ya=+d;a.Sa=+c;a.Oa=+e;a.ia()}function nd(a,b,d,c){a.Ua=+b;a.Ya=+d;a.Sa=+c;a.ia()}function od(a,b,d,c){a.Ua+=+b;a.Ya+=+d;a.Sa+=+c;a.Oa+=0;a.ia()}function pd(a,b){a.Ua=b.Ua;a.Ya=b.Ya;a.Sa=b.Sa}function qd(a,b){a.Oa=ld.ia(+b,0,1)}function rd(a,b){return a.Ua===b.Ua&&a.Ya===b.Ya&&a.Sa===b.Sa}function sd(a,b,d,c,e){return a.Ua===b&&a.Ya===d&&a.Sa===c&&a.Oa===e}
function td(a){a.Ua*=a.Oa;a.Ya*=a.Oa;a.Sa*=a.Oa}function ud(a,b){a.Ua=ld.UD(b);a.Ya=ld.PD(b);a.Sa=ld.JD(b);a.Oa=ld.JS(b)}function vd(a){var b=wd;if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var d=a.split(",");if(!(3>d.length)){a=parseInt(d[0].trim(),10)/255;var c=parseInt(d[1].trim(),10)/255;d=parseInt(d[2].trim(),10)/255;isFinite(a)&&(b.Ua=ld.ia(+a,0,1));isFinite(c)&&(b.Ya=ld.ia(+c,0,1));isFinite(d)&&(b.Sa=ld.ia(+d,0,1));qd(b,1)}}}
function xd(a,b){!Array.isArray(b)||3>b.length||(a.Ua=b[0],a.Ya=b[1],a.Sa=b[2],a.Oa=4<=b.length?b[3]:1)}function yd(a,b){return ld.ia(Math.max(a,b)-Math.min(a,b),0,1)}
ld.bb=class{constructor(a,b,d,c){this.Oa=this.Sa=this.Ya=this.Ua=0;a instanceof ld.bb?this.set(a):md(this,a||0,b||0,d||0,c||0)}set(a){this.Ua=a.Ua;this.Ya=a.Ya;this.Sa=a.Sa;this.Oa=a.Oa;return this}ua(a){return this.set(a)}add(a){this.Ua+=a.Ua;this.Ya+=a.Ya;this.Sa+=a.Sa;this.Oa+=a.Oa;this.ia()}clone(){return ld.j(ld.bb,this.Ua,this.Ya,this.Sa,this.Oa)}toArray(){return[this.Ua,this.Ya,this.Sa,this.Oa]}vd(a,b){a[b++]=this.Ua;a[b++]=this.Ya;a[b++]=this.Sa;a[b]=this.Oa}Xc(a){return this.Ua===a.Ua&&this.Ya===
a.Ya&&this.Sa===a.Sa&&this.Oa===a.Oa}IJ(a,b){return a[b]===Math.fround(this.Ua)&&a[b+1]===Math.fround(this.Ya)&&a[b+2]===Math.fround(this.Sa)&&a[b+3]===Math.fround(this.Oa)}multiply(a){this.Ua*=a.Ua;this.Ya*=a.Ya;this.Sa*=a.Sa;this.Oa*=a.Oa}ia(){this.Ua=ld.ia(this.Ua,0,1);this.Ya=ld.ia(this.Ya,0,1);this.Sa=ld.ia(this.Sa,0,1);this.Oa=ld.ia(this.Oa,0,1);return this}toJSON(){return[this.Ua,this.Ya,this.Sa,this.Oa]}set r(a){this.Ua=ld.ia(+a,0,1)}get r(){return this.Ua}set b(a){this.Sa=ld.ia(+a,0,1)}get b(){return this.Sa}set a(a){qd(this,
a)}get a(){return this.Oa}};ld.bb.X5=Object.freeze(ld.j(ld.bb,1,1,1,1));ld.bb.RZ=Object.freeze(ld.j(ld.bb,0,0,0,1));ld.bb.H5=Object.freeze(ld.j(ld.bb,0,0,0,0));"use strict";const zd=self.A;
zd.Pu=class{constructor(a,b){this.fa=this.ma=0;a instanceof zd.Pu?this.ua(a):this.set(a||0,b||0)}set(a,b){this.ma=+a;this.fa=+b}ua(a){this.ma=a.ma;this.fa=a.fa}Xc(a){return this.ma===a.ma&&this.fa===a.fa}IJ(a,b){return a[b]===Math.fround(this.ma)&&a[b+1]===Math.fround(this.fa)}toArray(){return[this.ma,this.fa]}vd(a,b){a[b++]=this.ma;a[b]=this.fa}offset(a,b){this.ma+=+a;this.fa+=+b}scale(a,b){this.ma*=a;this.fa*=b}qm(a,b){this.ma/=a;this.fa/=b}round(){this.ma=Math.round(this.ma);this.fa=Math.round(this.fa)}floor(){this.ma=
Math.floor(this.ma);this.fa=Math.floor(this.fa)}ceil(){this.ma=Math.ceil(this.ma);this.fa=Math.ceil(this.fa)}angle(){return zd.wJ(0,0,this.ma,this.fa)}length(){return Math.hypot(this.ma,this.fa)}rotate(a){if(0!==a){var b=Math.sin(a);a=Math.cos(a);const d=this.ma*a-this.fa*b;this.fa=this.fa*a+this.ma*b;this.ma=d}}move(a,b){0!==b&&(this.ma+=Math.cos(a)*b,this.fa+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ma/=a,this.fa/=a)}ia(a,b){this.ma=zd.ia(this.ma,a,b);this.fa=zd.ia(this.fa,
a,b)}rm(a){return this.ma*a.ma+this.fa*a.fa}reverse(){this.ma=-this.ma;this.fa=-this.fa}};"use strict";const Ad=self.A;function Bd(a,b,d,c,e){b=+b;d=+d;a.V=b;a.T=d;a.da=b+ +c;a.aa=d+ +e}function Cd(a,b,d,c,e){return a.V===b&&a.T===d&&a.width()===c&&a.height()===e}function Ed(a,b,d){b=+b;d=+d;a.V-=b;a.T-=d;a.da+=b;a.aa+=d}function Fd(a){a.T=1-a.T;a.aa=1-a.aa}function Gd(){var a=Hd;a.V=Math.floor(a.V);a.T=Math.floor(a.T);a.da=Math.ceil(a.da);a.aa=Math.ceil(a.aa)}
function Id(a,b){return!(b.da<a.V||b.aa<a.T||b.V>a.da||b.T>a.aa)}
Ad.Rect=class{constructor(a,b,d,c){this.aa=this.da=this.T=this.V=0;a instanceof Ad.Rect?this.ua(a):this.set(a||0,b||0,d||0,c||0)}set(a,b,d,c){this.V=+a;this.T=+b;this.da=+d;this.aa=+c}ua(a){this.V=+a.V;this.T=+a.T;this.da=+a.da;this.aa=+a.aa}clone(){return new Ad.Rect(this.V,this.T,this.da,this.aa)}Xc(a){return this.V===a.V&&this.T===a.T&&this.da===a.da&&this.aa===a.aa}IJ(a,b){return a[b]===Math.fround(this.V)&&a[b+1]===Math.fround(this.T)&&a[b+2]===Math.fround(this.da)&&a[b+3]===Math.fround(this.aa)}toArray(){return[this.V,
this.T,this.da,this.aa]}vd(a,b){a[b++]=this.V;a[b++]=this.T;a[b++]=this.da;a[b]=this.aa}width(){return this.da-this.V}height(){return this.aa-this.T}Nt(){return(this.V+this.da)/2}Ot(){return(this.T+this.aa)/2}offset(a,b){a=+a;b=+b;this.V+=a;this.T+=b;this.da+=a;this.aa+=b}offsetLeft(a){this.V+=+a}offsetTop(a){this.T+=+a}multiply(a,b){this.V*=a;this.T*=b;this.da*=a;this.aa*=b}qm(a,b){this.V/=a;this.T/=b;this.da/=a;this.aa/=b}round(){this.V=Math.round(this.V);this.T=Math.round(this.T);this.da=Math.round(this.da);
this.aa=Math.round(this.aa)}floor(){this.V=Math.floor(this.V);this.T=Math.floor(this.T);this.da=Math.floor(this.da);this.aa=Math.floor(this.aa)}ceil(){this.V=Math.ceil(this.V);this.T=Math.ceil(this.T);this.da=Math.ceil(this.da);this.aa=Math.ceil(this.aa)}ia(a,b,d,c){this.V=Math.max(this.V,+a);this.T=Math.max(this.T,+b);this.da=Math.min(this.da,+d);this.aa=Math.min(this.aa,+c)}normalize(){if(this.V>this.da){var a=this.V;this.V=this.da;this.da=a}this.T>this.aa&&(a=this.T,this.T=this.aa,this.aa=a)}qg(a,
b){return a>=this.V&&a<=this.da&&b>=this.T&&b<=this.aa}};"use strict";const Jd=self.A;function Kd(a,b,d,c){b[d++]=a.$b;b[d++]=a.ac;b[d++]=c;b[d++]=a.Jc;b[d++]=a.Kc;b[d++]=c;b[d++]=a.Ac;b[d++]=a.Bc;b[d++]=c;b[d++]=a.yc;b[d++]=a.zc;b[d]=c}function Ld(a,b,d,c){const e=b.V*d,f=b.T*d,g=b.da*d;d*=b.aa;const h=b.V*c,k=b.T*c,l=b.da*c;b=b.aa*c;a.$b=h-f;a.ac=k+e;a.Jc=l-f;a.Kc=k+g;a.Ac=l-d;a.Bc=b+g;a.yc=h-d;a.zc=b+e}
function Md(a,b){var d=b.Nt(),c=b.Ot();if(a.qg(d,c))return!0;d=a.Nt();c=a.Ot();if(b.qg(d,c))return!0;d=a.$b;c=a.ac;const e=a.Jc,f=a.Kc,g=a.Ac,h=a.Bc,k=a.yc;a=a.zc;return Jd.mD(d,c,e,f,b)||Jd.mD(e,f,g,h,b)||Jd.mD(g,h,k,a,b)||Jd.mD(k,a,d,c,b)}
Jd.wd=class{constructor(a,b,d,c,e,f,g,h){this.zc=this.yc=this.Bc=this.Ac=this.Kc=this.Jc=this.ac=this.$b=0;a instanceof Jd.wd?this.ua(a):this.set(a||0,b||0,d||0,c||0,e||0,f||0,g||0,h||0)}set(a,b,d,c,e,f,g,h){this.$b=+a;this.ac=+b;this.Jc=+d;this.Kc=+c;this.Ac=+e;this.Bc=+f;this.yc=+g;this.zc=+h}ua(a){this.$b=a.$b;this.ac=a.ac;this.Jc=a.Jc;this.Kc=a.Kc;this.Ac=a.Ac;this.Bc=a.Bc;this.yc=a.yc;this.zc=a.zc}Xc(a){return this.$b===a.$b&&this.ac===a.ac&&this.Jc===a.Jc&&this.Kc===a.Kc&&this.Ac===a.Ac&&this.Bc===
a.Bc&&this.yc===a.yc&&this.zc===a.zc}toArray(){return[this.$b,this.ac,this.Jc,this.Kc,this.Ac,this.Bc,this.yc,this.zc]}vd(a,b){a[b++]=this.$b;a[b++]=this.ac;a[b++]=this.Jc;a[b++]=this.Kc;a[b++]=this.Ac;a[b++]=this.Bc;a[b++]=this.yc;a[b]=this.zc}offset(a,b){a=+a;b=+b;this.$b+=a;this.ac+=b;this.Jc+=a;this.Kc+=b;this.Ac+=a;this.Bc+=b;this.yc+=a;this.zc+=b}round(){this.$b=Math.round(this.$b);this.ac=Math.round(this.ac);this.Jc=Math.round(this.Jc);this.Kc=Math.round(this.Kc);this.Ac=Math.round(this.Ac);
this.Bc=Math.round(this.Bc);this.yc=Math.round(this.yc);this.zc=Math.round(this.zc)}floor(){this.$b=Math.floor(this.$b);this.ac=Math.floor(this.ac);this.Jc=Math.floor(this.Jc);this.Kc=Math.floor(this.Kc);this.Ac=Math.floor(this.Ac);this.Bc=Math.floor(this.Bc);this.yc=Math.floor(this.yc);this.zc=Math.floor(this.zc)}ceil(){this.$b=Math.ceil(this.$b);this.ac=Math.ceil(this.ac);this.Jc=Math.ceil(this.Jc);this.Kc=Math.ceil(this.Kc);this.Ac=Math.ceil(this.Ac);this.Bc=Math.ceil(this.Bc);this.yc=Math.ceil(this.yc);
this.zc=Math.ceil(this.zc)}rg(a){this.$b=a.V;this.ac=a.T;this.Jc=a.da;this.Kc=a.T;this.Ac=a.da;this.Bc=a.aa;this.yc=a.V;this.zc=a.aa}OJ(a){a.set(Math.min(this.$b,this.Jc,this.Ac,this.yc),Math.min(this.ac,this.Kc,this.Bc,this.zc),Math.max(this.$b,this.Jc,this.Ac,this.yc),Math.max(this.ac,this.Kc,this.Bc,this.zc))}qg(a,b){var d=this.Jc-this.$b,c=this.Kc-this.ac;const e=this.Ac-this.$b,f=this.Bc-this.ac;a-=this.$b;b-=this.ac;var g=d*d+c*c;let h=d*e+c*f;c=d*a+c*b;const k=e*e+f*f,l=e*a+f*b;let m=1/(g*
k-h*h);d=(k*c-h*l)*m;g=(g*l-h*c)*m;if(0<=d&&0<g&&1>d+g)return!0;d=this.yc-this.$b;c=this.zc-this.ac;g=d*d+c*c;h=d*e+c*f;c=d*a+c*b;m=1/(g*k-h*h);d=(k*c-h*l)*m;g=(g*l-h*c)*m;return 0<=d&&0<g&&1>d+g}Nt(){return(this.$b+this.Jc+this.Ac+this.yc)/4}Ot(){return(this.ac+this.Kc+this.Bc+this.zc)/4}};"use strict";const Nd=self.A,Od=[0,0,1,0,1,1,0,1],Pd=Nd.j(Nd.wd);function Qd(a,b){a.$e.length===b.length?a.$e.set(b):a.$e=Float64Array.from(b);a.Ml=!0}
function Rd(a,b,d,c){Pd.ua(b);Pd.offset(d,c);Qd(a,Pd.toArray());a.Ml=!0}function Sd(a,b,d,c,e){const f=a.$e;for(let g=0,h=f.length;g<h;g+=2){const k=g+1,l=f[g]*b,m=f[k]*d;f[g]=l*e-m*c;f[k]=m*e+l*c}a.Ml=!0}
function Td(a,b,d,c){const e=b.$e,f=a.$e;if(a.qg(e[0]+d,e[1]+c)||b.qg(f[0]-d,f[1]-c))return!0;for(let h=0,k=f.length;h<k;h+=2){var g=(h+2)%k;a=f[h];b=f[h+1];const l=f[g];g=f[g+1];let m,n,p,q;a<l?(m=a,p=l):(m=l,p=a);b<g?(n=b,q=g):(n=g,q=b);for(let t=0,r=e.length;t<r;t+=2){const u=(t+2)%r;if(Nd.vm(a,b,l,g,m,p,n,q,e[t]+d,e[t+1]+c,e[u]+d,e[u+1]+c))return!0}}return!1}
Nd.Ao=class extends Nd.pa{constructor(a,b=!0){super();a||(a=Od);this.$e=Float64Array.from(a);this.Sz=new Nd.Rect;this.Ml=!0;this.mh=b}m(){}ua(a){Qd(this,a.$e)}rg(a){let b=this.$e;8!==b.length&&(this.$e=b=new Float64Array(8));b[0]=a.V-NaN;b[1]=a.T-NaN;b[2]=a.da-NaN;b[3]=a.T-NaN;b[4]=a.da-NaN;b[5]=a.aa-NaN;b[6]=a.V-NaN;b[7]=a.aa-NaN;this.Sz.ua(a);this.Sz.offset(NaN,NaN);this.Ml=!1}transform(a,b,d){let c=0,e=1;0!==d&&(c=Math.sin(d),e=Math.cos(d));Sd(this,a,b,c,e)}offset(a,b){const d=this.$e;for(let c=
0,e=d.length;c<e;c+=2)d[c]+=a,d[c+1]+=b}qg(a,b){const d=this.$e;if(a===d[0]&&b===d[1])return!0;if(this.Ml){var c=this.$e,e=c[0],f=c[1],g=e,h=f;for(let w=0,y=c.length;w<y;w+=2){var k=c[w],l=c[w+1];k<e&&(e=k);k>g&&(g=k);l<f&&(f=l);l>h&&(h=l)}this.Sz.set(e,f,g,h);this.Ml=!1}g=this.Sz;c=g.V-110;e=g.T-101;f=g.da+131;g=g.aa+120;let m,n,p,q,t;c<a?(h=c,l=a):(h=a,l=c);e<b?(k=e,m=b):(k=b,m=e);f<a?(n=f,q=a):(n=a,q=f);g<b?(p=g,t=b):(p=b,t=g);let r=0,u=0;for(let w=0,y=d.length;w<y;w+=2){var v=(w+2)%y;const C=
d[w],F=d[w+1],O=d[v];v=d[v+1];Nd.vm(c,e,a,b,h,l,k,m,C,F,O,v)&&++r;Nd.vm(f,g,a,b,n,q,p,t,C,F,O,v)&&++u}return 1===r%2||1===u%2}al(){return this.mh}};"use strict";const Ud=self.A;function Vd(a,b){a=a.lj;const d=a.get(b);d&&(d.clear(),a.delete(b));for(const [c,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(c)}
Ud.Du=class extends Ud.pa{constructor(a){super();this.lj=new Map;if(a)for(const [b,d,c]of a)this.Set(b,d,c)}m(){this.Ed();this.lj=null}Pi(){return 0===this.lj.size}Ed(){const a=this.lj;for(const b of a.values())b.clear();a.clear()}Set(a,b,d){const c=this.lj;let e=c.get(a);e||(e=new Map,c.set(a,e));e.set(b,d)}W(a,b){return(a=this.lj.get(a))?a.get(b):a}uu(a){return(a=this.lj.get(a))?a.has(void 0):!1}Bo(a,b){const d=this.lj,c=d.get(a);c&&c.delete(b)&&0===c.size&&d.delete(a)}Oh(){let a=0;for(const b of this.lj.values())a+=
b.size;return a}*values(){for(const a of this.lj.values())yield*a.values()}*entries(){for(const [a,b]of this.lj.entries())for(const [d,c]of b.entries())yield[a,d,c]}};"use strict";const Wd=self.A;function Xd(a){if(a.Dw){const b=a.Oz;Wd.D(b);for(const d of a.Un)b.push(d);a.Dw=!1}return a.Oz}
Wd.wD=class extends Wd.pa{constructor(){super();this.Un=new Set;this.Oz=[];this.Dw=!1}m(){this.Ed()}Ed(){this.Un.clear();Wd.D(this.Oz);this.Dw=!1}Fb(a){this.Un.has(a)||(this.Un.add(a),this.Dw||this.Oz.push(a))}uu(a){return this.Un.has(a)}Bo(a){this.Un.delete(a)&&(this.Dw=!0)}Oh(){return this.Un.size}Pi(){return 0===this.Un.size}};"use strict";const Yd=self.A,Zd=new Map,$d=new Map,ae=new Map,be=new Map,ce=new Map,de=new Map,ge=new Map,he=new Map,ie=new Map;ie.set("linear","noease");
ie.set("default","noease");
self.Co=class a{constructor(){}static FT(b){this.VE();return[...$d.keys()].includes(b)}static NV(b){const d=ie.get(b);if(d)return Zd.get(d);if(a.FT(b))return Zd.get(b);if(ge.has(b))return ge.get(b)}static Xk(b){this.VE();const d=a.NV(b);return d?d:ce.get(b)}static VE(){0===Zd.size&&(this.Gb("default",()=>{}),this.Gb("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.Gb("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.Gb("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.Gb("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,
y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.Gb("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,
y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,
say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.Gb("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,
ee:!0}]),this.Gb("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.Gb("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,
ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.Gb("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,
ee:!0}]),this.Gb("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,
se:!1,ee:!0}]),this.Gb("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.Gb("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.Gb("easeinquad",[{x:0,y:0,sax:.4,say:0,
eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.Gb("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Gb("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,
ee:!0}]),this.Gb("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.Gb("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.Gb("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.Gb("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),
this.Gb("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Gb("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.Gb("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,
ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.Gb("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.Gb("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.Gb("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.QM("cubicbezier",
this.qS),this.QM("spline",this.rS))}static Gb(b,d,c=!1){if("function"===typeof d)a.Su(b,d,"predefined");else if(Yd.$k(d))if(self.cS){const e=Yd.j(self.cS,b,c);e.s4(d);a.Su(b,(f,g,h,k)=>e.Ba(f,g,h,k),"predefined");he.set(b,e)}else{const e=Yd.j(Yd.QE,[b,d.map(f=>[f.x,f.y,f.sax,f.say,f.eax,f.eay,f.se,f.ee])],!1);e.LO=!!c;a.Su(b,(f,g,h,k)=>e.Ba(f,g,h,k),"predefined")}else throw Error("unexpected arguments");}static QM(b,d){a.Su(b,d,"private")}static LR(b,d,c){this.VE();a.Su(b,d,"custom",null,c)}static Su(b,
d,c,e,f){switch(c){case "predefined":Zd.set(b,d);$d.set(b,d);break;case "custom":e?(ae.has(e)||ae.set(e,new Map),be.has(e)||be.set(e,new Map),ae.get(e).set(b,d),be.get(e).set(b,f)):(ce.set(b,d),de.set(b,f));break;case "private":Zd.set(b,d);ge.set(b,d);break;default:throw Error("unexpected ease mode");}}static RL(b,d,c,e){return 0===e?d:c*b/e+d}static qS(b,d,c,e,f){return d+3*b*(c-d)+3*b**2*(d+e-2*c)+b**3*(f-d+3*c-3*e)}static rS(b,d,c,e,f,g,h,k,l,m){if(e===f&&g===h)c=b;else{if(1==b)b=1;else{for(var n=
0,p=1,q=m[p];10!=p&&q<=b;)p++,q=m[p],n+=.1;p--;q=m[p];m=n+(b-q)/(m[p+1]-q)*.1;k=k-3*g+3*e-d;g=3*g-6*e+3*d;d=3*(e-d);e=3*k*m*m+2*g*m+d;if(0!==e)if(.01<=e)for(n=0;4>n;++n)m-=(((k*m+g)*m+d)*m-b)/(3*k*m*m+2*g*m+d);else{e=n;n+=.1;p=0;let t;do m=e+(n-e)/2,q=((k*m+g)*m+d)*m-b,0<q?n=m:e=m,q=1E-7<Math.abs(q),t=10>++p;while(q&&t)}b=m}c=(((l-3*h+3*f-c)*b+(3*h-6*f+3*c))*b+3*(f-c))*b}return c}static LS(b,d,c,e){const f=[];e=e-3*c+3*d-b;c=3*c-6*d+3*b;b=3*(d-b);for(let g=0;11>g;++g)d=.1*g,f.push(((e*d+c)*d+b)*d);
return f}};"use strict";const je=self.A;je.C2=class{constructor(a){this.xO=[];this.Ca=a||""}m(){this.Ed();this.xO=null}ka(){return this.Ca}Ed(){je.ZX(this.xO)}};"use strict";let ke=0;
self.A.T3=class{constructor(a,b){this.g=a;this.jb=b;this.Yb=ke++;le(this.g,"runtime","screen-reader-text",{type:"create",id:this.Yb,text:this.jb})}m(){le(this.g,"runtime","screen-reader-text",{type:"release",id:this.Yb});this.g=null;this.jb="";this.Yb=-1}wr(a){this.jb!==a&&(this.jb=a,le(this.g,"runtime","screen-reader-text",{type:"update",id:this.Yb,text:this.jb}))}};"use strict";
self.A.Event=class{constructor(a,b){this.type=a;this.cancelable=!!b;this.CY=this.pK=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.CY)throw Error(`cannot stop async event '${this.type}' propagation`);this.pK=!0}};"use strict";const me=self.A;
function ne(a,b,d){0<a.kj?a.dt.push({kK:"add",Bi:b,capture:d}):d?a.Sr.has(b)||(a.bg.push(b),a.Sr.add(b)):a.Ls.has(b)||(a.kg.push(b),a.Ls.add(b))}function oe(a){a.kj--;if(0===a.kj&&0<a.dt.length){const b=new Set,d=new Set;for(const c of a.dt)if("add"===c.kK)ne(a,c.Bi,c.capture),c.capture?d.delete(c.Bi):b.delete(c.Bi);else if("remove"===c.kK)c.capture?(a.Sr.delete(c.Bi),d.add(c.Bi)):(a.Ls.delete(c.Bi),b.add(c.Bi));else throw Error("invalid op");me.Vg(a.kg,b);me.Vg(a.bg,d);me.D(a.dt)}}
function pe(a,b){const d=[];a.kj++;for(let e=0,f=a.bg.length;e<f;++e){var c=a.bg[e](b);c instanceof Promise&&d.push(c)}for(let e=0,f=a.kg.length;e<f;++e)c=a.kg[e](b),c instanceof Promise&&d.push(c);oe(a);return d.length?Promise.all(d).then(()=>!b.defaultPrevented):!b.defaultPrevented}async function qe(a,b){return await pe(a,b)}
async function re(a,b){a.kj++;for(let c=0,e=a.bg.length;c<e;++c){var d=a.bg[c](b);d instanceof Promise&&await d}for(let c=0,e=a.kg.length;c<e;++c)d=a.kg[c](b),d instanceof Promise&&await d;oe(a);return!b.defaultPrevented}function*se(a,b){a.kj++;for(let c=0,e=a.bg.length;c<e;++c){var d=a.bg[c](b);me.bl(d)&&(yield*d)}for(let c=0,e=a.kg.length;c<e;++c)d=a.kg[c](b),me.bl(d)&&(yield*d);oe(a)}
me.Event.gT=class extends me.pa{constructor(a){super();this.ea=a;this.bg=[];this.Sr=new Set;this.kg=[];this.Ls=new Set;this.kj=0;this.dt=[]}m(){0<this.kj||(me.D(this.bg),this.Sr.clear(),me.D(this.kg),this.Ls.clear(),me.D(this.dt),me.m(this))}qr(a){a?this.kj++:oe(this)}};"use strict";const te=self.A;function ue(a,b,d){let c=a.sk.get(b);return c?c:d?(c=te.j(te.Event.gT,b),a.sk.set(b,c),c):null}async function ve(a,b){return(a=ue(a,b.type,!1))?await qe(a,b):!0}
async function we(a,b){(a=ue(a,b.type,!1))&&await re(a,b)}function xe(a,b){a=ue(a,b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return se(a,b)}
te.Event.lb=class extends te.pa{constructor(){super();this.sk=new Map;this.dG=!1}m(){if(this.dG)throw Error("already released");if(this.sk){for(let a of this.sk.values())a.m();this.sk.clear()}this.dG=!0;te.m(this)}Ar(){return this.dG}addEventListener(a,b,d){ne(ue(this,a,!0),b,!!d)}removeEventListener(a,b,d){let c=ue(this,a,!1);c&&(d=!!d,0<c.kj?c.dt.push({kK:"remove",Bi:b,capture:d}):d?c.Sr.has(b)&&(c.Sr.delete(b),me.Nk(c.bg,b)):c.Ls.has(b)&&(c.Ls.delete(b),me.Nk(c.kg,b)),c.bg.length||c.kg.length||
this.sk.delete(a))}dispatchEvent(a){const b=ue(this,a.type,!1);if(b)if(a.cancelable){b.kj++;let d=!1;for(let c=0,e=b.bg.length;c<e;++c)if(b.bg[c](a),a.pK){d=!0;break}if(!d)for(let c=0,e=b.kg.length;c<e&&(b.kg[c](a),!a.pK);++c);oe(b);a=!a.defaultPrevented}else{b.kj++;for(let d=0,c=b.bg.length;d<c;++d)b.bg[d](a);for(let d=0,c=b.kg.length;d<c;++d)b.kg[d](a);oe(b);a=!0}else a=!0;return a}qr(a){for(const b of this.sk.values())b.qr(a)}};"use strict";const ye=self.A,ze="undefined"!==typeof requestIdleCallback;
let Ae=[],Be=-1,Ce=0;function De(a){Be=ze&&0===Ce?requestIdleCallback(Ee,{timeout:35}):setTimeout(Ee,0<Ce?1:a)}function Ee(a){Be=-1;if(Ae.length){var b=performance.now(),d=0;do{Fe(Ae.shift());var c=performance.now();++d;var e=(c-b)/d*1.1}while(Ae.length&&(ze&&0===Ce&&"undefined"!==typeof a?e<a.timeRemaining():12>c-b+e));-1===Be&&Ae.length&&De(Math.max(16-(c-b),4))}}function Fe(a){let b;try{b=a.Bi()}catch(d){a.reject(d);return}a.resolve(b)}let Ge=ye.wE.uu("disable-asyncify");Ge&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");
ye.Rt=function(a){let b=null;ye.Wx&&(b=ye.Iy());return new Promise((d,c)=>{Ae.push({Bi:a,resolve:d,reject:c,stack:b});Ge?Fe(Ae.pop()):-1===Be&&De(16)})};ye.Rt.xM=function(a){if(a)++Ce;else if(--Ce,0>Ce)throw Error("already turned off high throughput mode");};"use strict";const He=self.A;let Ie=-1;function Je(){Ie=-1}He.Fy=function(){-1===Ie&&(Ie=Date.now(),self.setTimeout(Je,16));return Ie};let Ke=-1,Le=-1,Me=new Set;
function Ne(){Le=Ke=-1;let a=Date.now();for(let c of Me){var b=c;var d=a;d>=b.zp?b.Rr()?(b.zp=d+b.bo,b=!0):b=b.ub=!1:b=!0;if(b){if(b=c.zp,-1===Le||b<Le)Le=b}else Me.delete(c)}-1!==Le&&(Ke=self.setTimeout(Ne,Math.max(Le-a+100,1E3)))}
He.vT=class{constructor(a,b){this.Rr=a;this.bo=1E3*b;this.zp=0;this.ub=!1}dc(){let a=He.Fy();this.zp=a+this.bo;this.ub||(Me.add(this),this.ub=!0);-1===Ke?(Le=this.zp,Ke=self.setTimeout(Ne,this.bo+100)):this.zp<Le&&Le>a+1E3&&(self.clearTimeout(Ke),Le=this.zp,Ke=self.setTimeout(Ne,this.bo+100))}m(){this.ub&&(Me.delete(this),this.ub=!1,0===Me.size&&-1!==Ke&&(self.clearTimeout(Ke),Le=Ke=-1));this.Rr=null}};"use strict";const Oe=self.A;
Oe.WK=class a{constructor(b){this.Zr=!1;this.sA=b}Dy(){this.Zr||(this.Zr=!0,this.sA&&(this.sA(),this.sA=null))}m(){this.Dy()}static m(b){return new a(()=>b.m())}};function Pe(a,b){a.sA=b}Oe.t5=class extends Oe.WK{};
Oe.s_=class extends Oe.WK{constructor(...a){super();this.kh=new Set;for(let b of a)this.Fb(b)}Fb(...a){if(this.Zr)throw Error("already disposed");for(let b of a)this.kh.add(b)}Ke(a){if(this.Zr)throw Error("already disposed");this.kh.delete(a)}Dy(){if(this.Zr)throw Error("already disposed");this.Zr=!0;for(let a of this.kh)a.Dy();this.kh.clear();this.kh=null}m(){this.Dy()}};"use strict";const Qe=self.A;
Qe.$y=class extends Qe.pa{constructor(){super();this.Xn=this.xq=this.fa=this.Pr=0}Fb(a){this.fa=+a-this.Pr;this.xq=this.Xn+this.fa;this.Pr=this.xq-this.Xn-this.fa;this.Xn=this.xq}W(){return this.Xn}dc(){this.Xn=this.xq=this.fa=this.Pr=0}Set(a){this.xq=this.fa=this.Pr=0;this.Xn=+a}FD(a){this.Pr=a.Pr;this.fa=a.fa;this.xq=a.xq;this.Xn=a.Xn}m(){}};"use strict";
const Re=self.A,Se={xE:function(a){this.wR=a;this.left=this.right=this.wR.pb;this.parent=null;this.color=!1;this.key=null},Uo:function(a){this.size=0;this.pb=new Se.xE(this);this.pb.color=!1;this.root=this.pb;this.root.parent=this.pb;this.compare=a||this.hY}};aa=Se.Uo.prototype;aa.hY=function(a,b){return a<b?-1:b<a?1:0};
aa.clone=function(){var a=new Se.Uo(this.compare);if("array"==Se.FK(this))for(var b=0;b<this.length;b++)a.Kt(this[b]);else if("function"==Se.FK(this.forEach))this.forEach(a.Kt,a);else if("function"==Se.FK(this.PJ)){var d=this.PJ();for(b=0;b<d.length;b++)a.Kt(d[b])}else if("object"==Se.FK(this))for(b in this)a.Kt(this[b]);return a};aa.clear=function(){this.size=0;this.pb=new Se.xE(this);this.pb.color=!1;this.root=this.pb;this.root.parent=this.pb};
function Te(a,b){var d=b.right;b.right=d.left;d.left!=a.pb&&(d.left.parent=b);d.parent=b.parent;b.parent==a.pb?a.root=d:b==b.parent.left?b.parent.left=d:b.parent.right=d;d.left=b;b.parent=d}function Ue(a,b){var d=b.left;b.left=d.right;d.right!=a.pb&&(d.right.parent=b);d.parent=b.parent;b.parent==a.pb?a.root=d:b==b.parent.right?b.parent.right=d:b.parent.left=d;d.right=b;b.parent=d}
aa.Kt=function(a){if(this.contains(a))Ve(this,a).key=a;else{var b=new Se.xE(this);b.key=a;a=this.pb;for(var d=this.root;d!=this.pb;)a=d,d=0>this.compare(b.key,d.key)?d.left:d.right;b.parent=a;a==this.pb?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.pb;b.right=this.pb;for(b.color=!0;b!=this.pb&&b!=this.root&&1==b.parent.color;)b.parent==b.parent.parent.left?(a=b.parent.parent.right,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&
(b=b.parent,Te(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.pb&&Ue(this,b.parent.parent))):(a=b.parent.parent.left,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,Ue(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.pb&&Te(this,b.parent.parent)));this.root.color=!1;this.size++}};
aa.remove=function(a){var b=Ve(this,a);if(b!=this.pb){a=b.key;var d=b.left==this.pb||b.right==this.pb?b:We(this,b);var c=d.left!=this.pb?d.left:d.right;c.parent=d.parent;d.parent==this.pb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=b&&(b.key=d.key);if(0==d.color){for(b=c;b!=this.root&&0==b.color;)b==b.parent.left?(d=b.parent.right,1==d.color&&(d.color=!1,b.parent.color=!0,Te(this,b.parent),d=b.parent.right),0==d.left.color&&0==d.right.color?(d.color=!0,b=b.parent):(0==d.right.color&&
(d.left.color=!1,d.color=!0,Ue(this,d),d=b.parent.right),d.color=b.parent.color,b.parent.color=!1,d.right.color=!1,Te(this,b.parent),b=this.root)):(d=b.parent.left,1==d.color&&(d.color=!1,b.parent.color=!0,Ue(this,b.parent),d=b.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,b=b.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,Te(this,d),d=b.parent.left),d.color=b.parent.color,b.parent.color=!1,d.left.color=!1,Ue(this,b.parent),b=this.root));b.color=!1}this.size--;return a}return null};
aa.min=function(a){for(;a.left!=this.pb;)a=a.left;return a};aa.max=function(a){for(;a.right!=this.pb;)a=a.right;return a};function We(a,b){if(b.right!=a.pb)return a.min(b.right);for(var d=b.parent;d!=a.pb&&b==d.right;)b=d,d=d.parent;return d}function Ve(a,b){for(var d=a.root;d!=a.pb&&0!=a.compare(d.key,b);)d=0>a.compare(b,d.key)?d.left:d.right;return d}aa.contains=function(a){return null!=Ve(this,a).key};aa.PJ=function(){var a=[];this.forEach(function(b){a.push(b)});return a};
aa.range=function(a,b){var d=[];Xe(this,function(c){d.push(c)},a,b);return d};function Xe(a,b,d,c){if(0!=a.size)for(d=Ve(a,d),c=Ve(a,c);d!=c&&!b.call(void 0,d.key,a);)d=We(a,d)}aa.forEach=function(a,b){if(0!=this.size)for(var d=this.min(this.root);d!=this.pb;d=We(this,d))a.call(b,d.key,d.key,this)};aa.some=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.pb;d=We(this,d))if(a.call(b,d.key,d.key,this))return!0;return!1};
aa.every=function(a,b){if(0==this.size)return!1;for(var d=this.min(this.root);d!=this.pb;d=We(this,d))if(!a.call(b,d.key,d.key,this))return!1;return!0};aa.map=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.pb;c=We(this,c))d.push(a.call(b,c.key,c.key,this));return d};aa.filter=function(a,b){var d=[];if(0==this.size)return d;for(var c=this.min(this.root);c!=this.pb;c=We(this,c))a.call(b,c.key,c.key,this)&&d.push(c.key);return d};
aa.YJ=function(a){if(this.size>Se.size)return!1;var b=0;if(0==this.size)return!0;for(var d=this.min(this.root);d!=this.pb;d=We(this,d))Se.contains.call(a,a,d.key)&&b++;return b==this.size};function Ye(a,b){b=!!b;if(a.ds!==b&&(a.ds=b,!b)){for(const d of a.nq)a.ni.remove(d);a.nq.clear();for(const d of a.mq)a.ni.Kt(d);a.mq.clear()}}
Re.Uo=class extends Re.pa{constructor(a){super();this.ni=new Se.Uo(a);this.ds=!1;this.mq=new Set;this.nq=new Set}Fb(a){this.ds?this.ni.contains(a)?this.nq.delete(a):this.mq.add(a):this.ni.Kt(a)}Ke(a){this.ds?this.ni.contains(a)?this.nq.add(a):this.mq.delete(a):this.ni.remove(a)}uu(a){return this.ds?this.mq.has(a)?!0:!this.nq.has(a)&&this.ni.contains(a):this.ni.contains(a)}Ed(){this.ni.clear();this.mq.clear();this.nq.clear()}toArray(){if(this.ds)throw Error("cannot be used in queueing mode");return this.ni.PJ()}Oh(){return this.ni.size+
this.mq.size-this.nq.size}Pi(){return 0===this.Oh()}*values(){if(!this.Pi()){var a=this.ni;for(let b=a.min(a.root);b!=a.pb;b=We(a,b))yield b.key}}[Symbol.iterator](){return this.values()}};"use strict";const Ze=self.A;async function $e(a){if(a.oI.length&&!(a.nF>=a.jX)){a.nF++;var b=a.oI.shift();try{const d=await b.Bi();b.resolve(d)}catch(d){b.reject(d)}a.nF--;$e(a)}}
Ze.hz=class{constructor(a=Ze.hardwareConcurrency){this.jX=a;this.oI=[];this.nF=0}Fb(a){return new Promise((b,d)=>{this.oI.push({Bi:a,resolve:b,reject:d});$e(this)})}};"use strict";const af=self.A;function bf(a){a.OG=!0;const b=a.rv;a.rv=null;b?a.Rr(...b):a.Rr();a.OG=!1}function cf(a){var b=[];if(-1===a.vt){a.rv=b;b=af.Fy();var d=b-a.uB;var c="undefined"!==typeof af.YR&&af.YR.F0()?a.VW:a.UW;d>=c&&a.pW?(a.uB=b,bf(a)):a.vt=self.setTimeout(a.QP,Math.max(c-d,4))}}
function df(a){-1!==a.vt&&(self.clearTimeout(a.vt),a.vt=-1)}af.EU=class{constructor(a,b,d){this.Rr=a;this.UW=b;this.VW=d||2*b;this.vt=-1;this.uB=-Infinity;this.QP=()=>{this.vt=-1;this.uB=af.Fy();bf(this)};this.pW=this.OG=!1;this.rv=null}dc(){this.OG||(df(this),this.rv=null,this.uB=af.Fy())}m(){df(this);this.QP=this.rv=this.Rr=null}};"use strict";function ef(a,b){if(!a.WN)throw Error("no get base size callback set");return a.WN(b)}
self.A.S3=class{constructor(){this.SW=new Map;this.rP=this.vP=this.WN=null}jz(){if(!this.rP)throw Error("no redraw callback set");this.rP()}};"use strict";
self.A.R3=class{constructor(a,b){this.Nd=a;this.zW=b;this.Mb=0;ef(this.Nd,b).then(()=>{this.Nd&&this.Nd.jz()}).catch(d=>{console.error("[SVG] Error loading SVG: ",d);this.Nd&&this.Nd.jz()});this.pI=null}m(){if(0>=this.Mb)throw Error("already released");this.Mb--;if(0===this.Mb){if(this.pI){var a=this.Nd;if(!a.vP)throw Error("no release result callback set");a.vP(this.pI);this.pI=null}this.Nd.SW.delete(this.zW);this.Nd=null}}};"use strict";const J=self.A;J.K5="\ufeff";const ff=new Set("0123456789");
J.GT=function(a){return ff.has(a)};const gf=new Set(" \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000");J.Au=function(a){return gf.has(a)};J.L_=function(a){return[...a].filter(b=>!J.Au(b)).join("")};J.HT=function(a){for(const b of a)if(!J.Au(b))return!1;return!0};J.FL=function(a){for(const b of a)if(!J.Au(b))return!1;return!0};J.JT=function(a){return 1===a.length&&32>a.charCodeAt(0)};J.AS=function(a){return[...a].filter(b=>!J.JT(b)).join("")};
const hf=/\p{P}(?<=[\u3000-\u303F\uFF00-\uFFEF])/u;J.CT=function(a){return!J.Au(a)&&hf.test(a)};const jf=new Set("0123456789.+-e");J.M0=function(a){a=a.trim();if(!a.length)return!1;let b=a.charAt(0);if("-"!==b&&!ff.has(b))return!1;for(let d of a)if(!jf.has(d))return!1;return!0};J.FU=function(a){let b=a.length;for(;0<b&&J.GT(a.charAt(b-1));)--b;return a.substr(0,b)};J.DL=function(a){let b=J.FU(a);a=(a=a.substr(b.length))?(parseInt(a,10)+1).toString():"2";return b+a};
const kf=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function lf(a){return kf.get(a)}const mf=/[&<>"']/g;J.vS=function(a){return a.replace(mf,lf)};J.E_=function(a){a=J.Rh(a,"\\","\\\\");a=J.Rh(a,'"','\\"');a=J.Rh(a,"\t","\\t");a=J.Rh(a,"\r","");return J.Rh(a,"\n","\\n")};J.F_=function(a){a=J.Rh(a,"&","&amp;");a=J.Rh(a,"<","&lt;");a=J.Rh(a,">","&gt;");return J.Rh(a,'"',"&quot;")};const of=/[-[\]{}()*+?.,\\^$|#\s]/g;J.Ut=function(a){return a.replace(of,"\\$&")};
J.u_=function(a,b){let d=0;for(const c of a)c===b&&++d;return d};J.M_=function(a,b,d=!1){if(!b)return[];d||(a=a.toLowerCase(),b=b.toLowerCase());d=b.length;var c=0;let e=[];for(;-1<(c=a.indexOf(b,c));)e.push(c),c+=d;return e};J.Rh=function(a,b,d){return a.replaceAll(b,()=>d)};J.P2=function(a,b,d){return a.replace(new RegExp(J.Ut(b),"gi"),()=>d)};
J.l4=function(a,b){if("string"===typeof b)a.textContent=b;else if(b.tO)a.textContent=b.toString();else if(a.innerHTML=pf(b),b instanceof J.Uq&&b.ww.length)for(let d=0,c=b.ww.length;d<c;++d){const e=b.ww[d];if("function"!==typeof e)continue;const f=a.querySelector(".bblink"+d);if(!f)throw Error("unable to attach BBString link handler");f.onclick=e}};J.p5=function(a,b){return a instanceof J.Wy||a instanceof J.Uq?a.Xc(b):b instanceof J.Wy||b instanceof J.Uq?b.Xc(a):a===b};
J.q5=function(a,...b){let d=a;for(let c=0,e=b.length;c<e;++c){const f=`{${c}}`;if(!a.includes(f))throw Error(`missing placeholder '${f}' in string substitution`);d=d.replace(f,b[c].toString())}return d};J.r5=function(a,...b){let d=a,c=-1,e=-1;for(let f=0,g=b.length;f<g;++f){const h=`{${f}}`;a.includes(h)?(e=f,d=d.replace(h,b[f].toString())):-1===c&&(c=f)}if(0<=c&&0<=e&&c<e)throw Error(`missing placeholder '${c}' in string substitution`);return d};
J.ZU=function(a){var b={"%%SAMPLERFRONT_BINDING%%":"@binding(0) @group(1)","%%TEXTUREFRONT_BINDING%%":"@binding(1) @group(1)","%%SAMPLERBACK_BINDING%%":"@binding(0) @group(2)","%%TEXTUREBACK_BINDING%%":"@binding(1) @group(2)","%%SAMPLERDEPTH_BINDING%%":"@binding(0) @group(3)","%%TEXTUREDEPTH_BINDING%%":"@binding(1) @group(3)","%%SHADERPARAMS_BINDING%%":"@binding(5) @group(0)","%%FRAGMENTINPUT_STRUCT%%":"\nstruct FragmentInput {\n\t@location(0) fragUV : vec2<f32>,\n\t@location(1) fragColor : vec4<f32>,\n\t@builtin(position) fragPos : vec4<f32>\n};\n\nfn c3_getBackUV(fragPos : vec2<f32>, texBack : texture_2d<f32>) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texBack));\n}\n\nfn c3_getDepthUV(fragPos : vec2<f32>, texDepth : texture_depth_2d) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texDepth));\n}\n",
"%%FRAGMENTOUTPUT_STRUCT%%":"\nstruct FragmentOutput {\n\t@location(0) color : vec4<f32>\n};\n","%%C3PARAMS_STRUCT%%":"\nstruct C3Params {\n\tsrcStart\t\t\t: vec2<f32>,\n\tsrcEnd\t\t\t\t: vec2<f32>,\n\tsrcOriginStart\t\t: vec2<f32>,\n\tsrcOriginEnd\t\t: vec2<f32>,\n\tlayoutStart\t\t\t: vec2<f32>,\n\tlayoutEnd\t\t\t: vec2<f32>,\n\tdestStart\t\t\t: vec2<f32>,\n\tdestEnd\t\t\t\t: vec2<f32>,\n\tdevicePixelRatio\t: f32,\n\tlayerScale\t\t\t: f32,\n\tlayerAngle\t\t\t: f32,\n\tseconds\t\t\t\t: f32,\n\tzNear\t\t\t\t: f32,\n\tzFar\t\t\t\t: f32,\n\tisSrcTexRotated\t\t: u32\n};\n@binding(4) @group(0) var<uniform> c3Params : C3Params;\n\nfn c3_srcToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcStart) / (c3Params.srcEnd - c3Params.srcStart);\n}\n\nfn c3_normToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcEnd - c3Params.srcStart, c3Params.srcStart);\n}\n\nfn c3_clampToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcStart, c3Params.srcEnd), max(c3Params.srcStart, c3Params.srcEnd));\n}\n\nfn c3_srcOriginToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcOriginStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart);\n}\n\nfn c3_normToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcOriginEnd - c3Params.srcOriginStart, c3Params.srcOriginStart);\n}\n\nfn c3_clampToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcOriginStart, c3Params.srcOriginEnd), max(c3Params.srcOriginStart, c3Params.srcOriginEnd));\n}\n\nfn c3_getLayoutPos(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcOriginStart, (c3Params.layoutEnd - c3Params.layoutStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart), c3Params.layoutStart);\n}\n\nfn c3_srcToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcStart, (c3Params.destEnd - c3Params.destStart) / (c3Params.srcEnd - c3Params.srcStart), c3Params.destStart);\n}\n\nfn c3_clampToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.destStart, c3Params.destEnd), max(c3Params.destStart, c3Params.destEnd));\n}\n\nfn c3_linearizeDepth(depthSample : f32) -> f32\n{\n\treturn c3Params.zNear * c3Params.zFar / (c3Params.zFar + depthSample * (c3Params.zNear - c3Params.zFar));\n}\n",
"%%C3_UTILITY_FUNCTIONS%%":"\nfn c3_premultiply(c : vec4<f32>) -> vec4<f32>\n{\n\treturn vec4<f32>(c.rgb * c.a, c.a);\n}\n\nfn c3_unpremultiply(c : vec4<f32>) -> vec4<f32>\n{\n\tif (c.a == 0.0)\n\t{\n\t\treturn vec4<f32>(0.0);\n\t}\n\t\n\treturn vec4<f32>(c.rgb / c.a, c.a);\n}\n\nfn c3_grayscale(rgb : vec3<f32>) -> f32\n{\n\treturn dot(rgb, vec3<f32>(0.299, 0.587, 0.114));\n}\n\nfn c3_getPixelSize(t : texture_2d<f32>) -> vec2<f32>\n{\n\treturn vec2<f32>(1.0) / vec2<f32>(textureDimensions(t));\n}\n\nfn c3_clamp2(v : vec2<f32>, l : f32, u : f32) -> vec2<f32>\n{\n\treturn clamp(v, vec2<f32>(l), vec2<f32>(u));\n}\n\nfn c3_mod(x : f32, y : f32) -> f32\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_mod2(x : vec2<f32>, y : vec2<f32>) -> vec2<f32>\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_RGBtoHSL(color : vec3<f32>) -> vec3<f32>\n{\n\tvar hsl : vec3<f32> = vec3<f32>(0.0);\n\t\n\tvar fmin : f32 = min(min(color.r, color.g), color.b);\n\tvar fmax : f32 = max(max(color.r, color.g), color.b);\n\tvar delta : f32 = fmax - fmin;\n\n\thsl.z = (fmax + fmin) / 2.0;\n\n\tif (delta == 0.0)\n\t{\n\t\thsl.x = 0.0;\n\t\thsl.y = 0.0;\n\t}\n\telse \n\t{\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\thsl.y = delta / (fmax + fmin);\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsl.y = delta / (2.0 - fmax - fmin);\n\t\t}\n\t\t\n\t\tvar dR : f32 = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dG : f32 = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dB : f32 = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\tif (color.r == fmax)\n\t\t{\n\t\t\thsl.x = dB - dG;\n\t\t}\n\t\telse if (color.g == fmax)\n\t\t{\n\t\t\thsl.x = (1.0 / 3.0) + dR - dB;\n\t\t}\n\t\telse if (color.b == fmax)\n\t\t{\n\t\t\thsl.x = (2.0 / 3.0) + dG - dR;\n\t\t}\n\n\t\tif (hsl.x < 0.0)\n\t\t{\n\t\t\thsl.x = hsl.x + 1.0;\n\t\t}\n\t\telse if (hsl.x > 1.0)\n\t\t{\n\t\t\thsl.x = hsl.x - 1.0;\n\t\t}\n\t}\n\n\treturn hsl;\n}\n\nfn c3_hueToRGB(f1 : f32, f2 : f32, hue_ : f32) -> f32\n{\n\tvar hue : f32 = hue_;\n\tif (hue < 0.0)\n\t{\n\t\thue = hue + 1.0;\n\t}\n\telse if (hue > 1.0)\n\t{\n\t\thue = hue - 1.0;\n\t}\n\t\t\n\tvar ret : f32;\n\t\n\tif ((6.0 * hue) < 1.0)\n\t{\n\t\tret = f1 + (f2 - f1) * 6.0 * hue;\n\t}\n\telse if ((2.0 * hue) < 1.0)\n\t{\n\t\tret = f2;\n\t}\n\telse if ((3.0 * hue) < 2.0)\n\t{\n\t\tret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t}\n\telse\n\t{\n\t\tret = f1;\n\t}\n\t\n\treturn ret;\n}\n\nfn c3_HSLtoRGB(hsl : vec3<f32>) -> vec3<f32>\n{\n\tvar rgb : vec3<f32> = vec3<f32>(hsl.z);\n\t\n\tif (hsl.y != 0.0)\n\t{\n\t\tvar f2 : f32;\n\t\t\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t}\n\t\t\t\n\t\tvar f1 : f32 = 2.0 * hsl.z - f2;\n\t\t\n\t\trgb.r = c3_hueToRGB(f1, f2, hsl.x + (1.0 / 3.0));\n\t\trgb.g = c3_hueToRGB(f1, f2, hsl.x);\n\t\trgb.b = c3_hueToRGB(f1, f2, hsl.x - (1.0 / 3.0));\n\t}\n\t\n\treturn rgb;\n}\n"};
for(let [d,c]of Object.entries(b))a=a.replaceAll(d,c.toString());return a};J.g5=function(a,b){return a>b?1:a<b?-1:0};J.h5=function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0};let qf=null,rf=null;self.Intl&&self.Intl.Segmenter?qf=new self.Intl.Segmenter:rf=new self.dT;J.FM=function(a){if(qf){const b=[];for(const d of qf.segment(a))b.push(d.segment);return b}return rf.hZ(a)};J.P0=function*(a){if(qf)for(const b of qf.segment(a))yield b.segment;else yield*rf.IY(a)};
J.v_=function(a){if(qf){let b=0;for(const d of qf.segment(a))++b;return b}return rf.dY(a)};
J.S_=function(a,b){b="common."+(b?"dataRates":"dataSizes")+".";const d=self.O7;if(1024>a)return d(b+"bytes",a);if(1048576>a)return a/=1024,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"kilobytes",a);if(1073741824>a)return a/=1048576,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"megabytes",a);if(1099511627776>a)return a/=1073741824,a=10>a?Math.round(10*a)/10:Math.round(a),d(b+"gigabytes",a);a/=1099511627776;a=10>a?Math.round(10*a)/10:Math.round(a);return d(b+"terabytes",a)};
const sf={UX:!1,eY:!0,AY:!0,PY:!0,lD:!0};
J.T_=function(a,b){b=Object.assign({},sf,b);J.MT.E2("common.time");const d=[],c=self.lang,e=self.N7;if(b.eY){var f=Math.floor(a/86400);0<f&&(a-=86400*f,d.push(e(".days",null,f)))}b.AY&&(f=Math.floor(a/3600),0<f||d.length)&&(a-=3600*f,d.push(e(".hours",null,f)));b.PY&&(f=Math.floor(a/60),0<f||d.length||!b.lD)&&(a-=60*f,d.push(e(".minutes",null,f)));b.lD&&d.push(e(".seconds",null,Math.floor(a%60)));a=(b.UX?c(".approx-prefix"):"")+d.join(c(".separator"));J.MT.w2();return a};
J.e6=function(a,b){let d=0>a?"-":"";a=Math.abs(a);a=a.toString();b-=a.length;for(let c=0;c<b;++c)d+="0";return d+a};J.s5=function(a){return a.toLowerCase().replace(/\b\w/g,b=>b.toUpperCase())};J.n_=function(a,b){a=a.split(".").map(d=>d.trim());b=b.split(".").map(d=>d.trim());J.hR(a);J.hR(b);a=a.map(d=>parseInt(d,10));b=b.map(d=>parseInt(d,10));for(let d=0;4>d;++d){const c=a[d]-b[d];if(0!==c)return 0>c?-1:1}return 0};
J.w_=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const b=Math.floor(16*Math.random());return("x"===a?b:b&3|8).toString(16)})};J.n5=function(a,b){if(a.length!==b.length)throw Error("strings must be same length");let d=0;for(let c=0,e=a.length;c<e;++c)a.charAt(c)!==b.charAt(c)&&++d;return d};
J.o5=function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;let d,c,e,f;if(a.length>b.length){var g=a;a=b;b=g}f=Array(a.length+1);for(g=0;g<=a.length;g++)f[g]=g;for(g=1;g<=b.length;g++){c=g;for(d=1;d<=a.length;d++)e=b[g-1]===a[d-1]?f[d-1]:Math.min(f[d-1]+1,Math.min(c+1,f[d]+1)),f[d-1]=c,c=e;f[a.length]=c}return f[a.length]};"use strict";
const tf=self.A,uf=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],
["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),wf=new Set(["icon"]),xf=/\[(\/?)([a-zA-Z0-9]+)\]/g,yf=/\[(\/?)([^\[\n]*?)\]/g;let zf=null,Af=null,Bf=0;
function Cf(a,b,d){var c=uf.get(d);if(c){if("string"===typeof c){if("a"===c&&0===zf.length||"abbr"===c&&0===Af.length)return a;if("a"!==c||b){if("abbr"!==c||b)return"<"+b+c+">";b=parseInt(d.substring(3),10)-1;if(0>b||b>=Af.length)throw Error("invalid bbcode tip substitution");b=Af[b];c="";"string"===typeof b?c=b:"function"===typeof b&&(c=b());if("string"!==typeof c)throw new TypeError("invalid bbcode tip");return`<abbr title="${tf.Rh(c,'"',"&quot;")}">`}b=parseInt(d.substring(1),10)-1;if(0>b||b>=
zf.length)throw Error("invalid bbcode link substitution");c=zf[b];if("string"===typeof c)return`<a href="${zf[b]}">`;if("function"===typeof c)return`<a class="bblink${b}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(c))return a=c[0],c=c[1],b?"</"+a+">":`<${a} class="${c}">`}else return"class"===d?b?"</span>":`<span class="bbclass${Bf++}">`:a}const Df=/\n/g;
function pf(a){if(a.tO)return a.Zh;if(!a.LG&&a.Zh){let b=a.Zh;a.ZN&&(Bf=0,zf=a.ww,Af=a.SP,b=b.replace(xf,Cf),Af=zf=null);a.YO&&(b=b.replace(Df,"<br>"));a.LG=b}return a.LG}function Ef(a){a=tf.Rh(a,"\\[","[");return tf.Rh(a,"\\\\","\\")}
function Ff(a){if(a.bO)return a.Jp;const b=[],d=a.Zh,c=[];let e=yf.lastIndex=0;for(var f=null;null!==(f=yf.exec(d));){var g=f.index;if(0<g&&"\\"===d.charAt(g-1))continue;var h=f[1],k=f[2];const l=d.substring(e,g);e=g+f[0].length;l&&b.push({text:l,le:c.slice(0)});if(k)if(h)for(k=k.toLowerCase(),f=c.length-1;0<=f;--f){if(c[f].tag===k){c.splice(f,1);break}}else if(f=k,g=null,h=k.indexOf("="),-1!==h?(f=k.substring(0,h).toLowerCase(),g=k.substring(h+1)):f=f.toLowerCase(),wf.has(f))if("icon"===f)b.push({icon:g,
le:c.slice(0)});else throw Error(`unknown self-closing tag ${f}`);else c.push({tag:f,Xg:g})}e<d.length&&b.push({text:d.substring(e),le:c.slice(0)});for(const l of b)l.text&&(l.text=Ef(l.text));a.Jp=b.map(l=>l.icon?tf.j(tf.BL,{icon:l.icon,le:l.le}):tf.j(tf.gh,{Hh:tf.FM(l.text),le:l.le}));a.bO=!0;return a.Jp}
tf.Uq=class{constructor(a){var b={RY:!0};this.Zh=b&&b.RY?a:tf.vS(a);this.LG="";this.vN=!1;this.ww=[];this.SP=[];if(b){this.vN=!!b.y6;if(b.links){if(9<b.links.length)throw Error("too many links");this.ww=b.links}if(b.tR){if(9<b.tR.length)throw Error("too many tips");this.SP=b.tR}}this.ZN=this.Zh.includes("[");this.YO=this.vN&&this.Zh.includes("\n");this.tO=!this.ZN&&!this.YO&&!this.Zh.includes("&");this.bO=!1;this.Jp=[]}toString(){return this.Zh}valueOf(){return this.Zh}Xc(a){return a instanceof tf.Wy?
pf(this)===pf(a):a instanceof tf.Uq?this.Zh===a.Zh:this.Zh===a}};"use strict";const Gf=self.A;function Hf(a){return"\u00a0"===a||"\u202f"===a?!1:Gf.Au(a)}const If=new Set("\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d");function Jf(a){return"\n"===a||"\r\n"===a}
function Kf(a,b,d){let c=0,e=0,f=0,g=0,h=0;for(const k of b)-1===k.S()&&(b=d(k),k.Sh(b.height),k.Gp=b.fontBoundingBoxAscent||0,k.ln=b.fontBoundingBoxDescent||0,k.co=b.Sj||0,k.Vf()?k.fh(b.width):k.lr()&&(b=Lf(k,a.TA),k.M=b?k.N*b.S()/b.R():0)),c+=k.S(),e=Math.max(e,k.R()),f=Math.max(f,k.Gp),g=Math.max(g,k.ln),h=Math.max(h,k.co);return{width:c,height:e,fontBoundingBoxAscent:f,fontBoundingBoxDescent:g,Sj:h}}
function Mf(a,b,d,c,e,f,g){a.Ks.push(Gf.j(Gf.Ru.lE,{Tx:b,width:d,height:c,fontBoundingBoxAscent:e,fontBoundingBoxDescent:f,Sj:g}))}function Nf(a){const b=[];for(const d of a)d.Vf()?Gf.om(b,d.Pe.map(c=>[Gf.j(Gf.gh,{Hh:[c],le:d.Ij})])):b.push([d]);return b}function Of(a){return a.map(b=>b.TE())}function Pf(a,b){var d=a.length?a.at(-1):null;let c=0;d&&d.Vf()&&b[0].Vf()&&b[0].Ij===d.Ij&&(Qf.om(d.Pe,b[0].Pe),d.M=-1,d.N=-1,d.Gp=-1,d.ln=-1,d.co=-1,c=1);for(d=b.length;c<d;++c)a.push(b[c].TE())}
Gf.Ru=class{constructor(){this.Ks=[];this.TA=null}Ru(a,b,d,c,e){"string"===typeof a&&(a=[Gf.j(Gf.gh,{Hh:Gf.FM(a)})]);Gf.D(this.Ks);if(!(!a.length||1===a.length&&a[0].Vf()&&a[0].Pi()||2>d)){if(1===a.length){var f=a[0];if(f.Vf()&&100>=f.Py()&&!f.Pe.includes("\n")){let {width:n,height:p,fontBoundingBoxAscent:q,fontBoundingBoxDescent:t,Sj:r}=b(f);n+=e;f.fh(n);f.Sh(p);f.Gp=q||0;f.ln=t||0;f.co=r||0;if(n<=d){Mf(this,[f],n,p,q,t,r);return}}}if("word"===c){c=a;var g=[],h=[];a=!1;for(l of c)if(c=l.Ij,l.lr())0<
h.length&&g.push(h),g.push([l]),h=[];else for(var k of l.Pe)Jf(k)?(0<h.length&&g.push(h),g.push([Gf.j(Gf.gh,{Hh:["\n"],le:c})]),h=[]):0===h.length?(h.push(Gf.j(Gf.gh,{Hh:[k],le:c})),a=Hf(k)):(f=Hf(k),f===a?(f=h.at(-1),f.Ij===c?f.Pe.push(k):h.push(Gf.j(Gf.gh,{Hh:[k],le:c}))):(g.push(h),h=[Gf.j(Gf.gh,{Hh:[k],le:c})],a=f));0<h.length&&g.push(h);var l=g}else if("cjk"===c){c=a;l=[];k=[];a=!1;for(g of c)if(c=g.Ij,g.lr())0<k.length&&l.push(k),l.push([g]),k=[];else for(h of g.Pe)Jf(h)?(0<k.length&&l.push(k),
l.push([Gf.j(Gf.gh,{Hh:["\n"],le:c})]),k=[]):(0===k.length?k.push(Gf.j(Gf.gh,{Hh:[h],le:c})):a||Gf.CT(h)&&!If.has(h)?(a=k.at(-1),a.Ij===c?a.Pe.push(h):k.push(Gf.j(Gf.gh,{Hh:[h],le:c}))):(l.push(k),k=[Gf.j(Gf.gh,{Hh:[h],le:c})]),a=If.has(h));0<k.length&&l.push(k)}else l=Nf(a);f=l;l=[];c=a=h=g=k=0;for(var m of f){if(1===m.length&&m[0].Vf()&&1===m[0].Py()&&Jf(m[0].Pe[0])){0===g&&(g=Gf.j(Gf.gh,{Hh:[" "],le:m[0].Ij}),c=b(g),g=c.height,h=c.fontBoundingBoxAscent||0,a=c.fontBoundingBoxDescent||0,c=c.Sj||
0);Mf(this,l,k,g,h,a,c);l=[];c=a=h=g=k=0;continue}f=Of(l);Pf(f,m);const n=Kf(this,f,b),p=n.width;p>=d?(0<l.length&&Mf(this,l,k,g,h,a,c),l=[],m[0].Vf()&&Gf.FL(m[0].Pe)?c=a=h=g=k=0:(Pf(l,m),c=Kf(this,l,b),k=c.width,g=c.height,h=c.fontBoundingBoxAscent,a=c.fontBoundingBoxDescent,c=c.Sj)):(l=f,k=p,g=n.height,h=n.fontBoundingBoxAscent,a=n.fontBoundingBoxDescent,c=n.Sj)}0<l.length&&Mf(this,l,k,g,h,a,c);for(const n of this.Ks)if(d=n.Jp,d.length&&(m=d.at(-1),m.Vf())){l=m.Pe;for(k=l.slice(0);0<k.length&&Hf(k.at(-1));)k.pop();
0===k.length?(n.Qi(-m.S()),d.pop()):k.length<l.length&&(m.Pe=k,l=b(m).width,k=m.S()-l,m.fh(l),n.Qi(-k));0!==e&&0<d.length&&(m=d.at(-1),m.Qi(e),n.Qi(e))}}}Ed(){Gf.D(this.Ks)}};"use strict";function*Rf(a){a=a.Jp;for(let b=a.length-1;0<=b;--b)yield a[b]}
self.A.Ru.lE=class{constructor(a){this.Jp=a.Tx||[];this.M=a.width||-1;this.N=a.height||-1;this.Gp=a.fontBoundingBoxAscent||-1;this.ln=a.fontBoundingBoxDescent||-1;this.co=a.Sj||-1;this.Sw=this.Rw=0}Tx(){return this.Jp.values()}Qi(a){this.M+=a}S(){return this.M}R(){return this.N}Nu(a){this.Rw=a}Ou(a){this.Sw=a}};"use strict";function Sf(a,b){a=a.Ij;for(let d=a.length-1;0<=d;--d){const c=a[d];if(c.tag===b)return c}return null}
self.A.eL=class{constructor(a){this.Ij=a.le||[];this.M=a.width||-1;this.N=a.height||-1;this.Gp=a.fontBoundingBoxAscent||-1;this.ln=a.fontBoundingBoxDescent||-1;this.co=a.Sj||-1;this.Sw=this.Rw=0}Vf(){return!1}lr(){return!1}Qi(a){this.M+=a}fh(a){this.M=a}S(){return this.M}Sh(a){this.N=a}R(){return this.N}Nu(a){this.Rw=a}Ou(a){this.Sw=a}};"use strict";const Qf=self.A;
Qf.gh=class extends Qf.eL{constructor(a){super(a);this.Pe=a.Hh}Vf(){return!0}TE(){return Qf.j(Qf.gh,{Hh:this.Pe.slice(0),le:this.Ij,width:this.M,height:this.N,fontBoundingBoxAscent:this.Gp,fontBoundingBoxDescent:this.ln,Sj:this.co})}Py(){return this.Pe.length}Pi(){return 0===this.Pe.length}};"use strict";const Tf=self.A;
function Lf(a,b){if(!b)return null;let d=Number(a.SA);return String(d)===a.SA?(d=Math.floor(d),a=Math.floor(d),0>a||a>=b.aw.length?null:b.aw[a]):b.NG.get(a.SA.toLowerCase())||null}Tf.BL=class extends Tf.eL{constructor(a){super(a);this.SA=a.icon}lr(){return!0}TE(){return Tf.j(Tf.BL,{icon:this.SA,le:this.Ij,width:this.M,height:this.N,fontBoundingBoxAscent:this.Gp,fontBoundingBoxDescent:this.ln,Sj:this.co})}MD(a){return(a=Lf(this,a))?a.MD():null}Py(){return 1}};"use strict";
self.A.bV=class{constructor(){this.gO=new Map}m(){for(const a of this.gO.values())a.m();this.gO.clear()}};"use strict";const Uf=self.A;Uf.B5=class{constructor(a,b){this.yC=a;this.aw=[];this.NG=new Map;this.sj=!1;this.yk=null;a=b.D7.JQ;for(let d=0,c=a.length;d<c;++d){b=a[d];const e=Uf.j(Uf.aV,this,{index:d,tag:b.tag,source:b.source,width:b.width,height:b.height});this.aw.push(e);b.tag&&this.NG.set(b.tag.toLowerCase(),e)}}m(){for(const a of this.aw)a.m();Uf.D(this.aw);this.NG.clear();this.yC=null}};
"use strict";self.A.aV=class{constructor(a,b){this.ga=b.index;this.Rg=b.tag;this.M=b.width;this.N=b.height;this.BW=null}m(){this.N=this.M=0}S(){return this.M}R(){return this.N}MD(){return this.BW}};"use strict";const Vf=self.A,Wf=self.Dd,Xf=Wf.sD,Yf=Wf.my,Zf=Wf.Rj,$f=Xf.create(),ag=Xf.create(),bg=Xf.create(),cg=Yf.create(),dg=Zf.create(),eg=Xf.create(),fg=Xf.create(),gg=Xf.create(),hg=Xf.create(),ig=Xf.create(),jg=Xf.create(),kg=Xf.create(),lg=Xf.create(),mg=Yf.Mf(0,0,1,1);
function ng(a,b,d,c,e,f,g){Zf.multiply(dg,e,c);if(null===Zf.Mt(dg,dg))return!1;cg[0]=(a-f[0])/f[2]*2-1;cg[1]=(b-f[1])/f[3]*2-1;cg[2]=2*d-1;cg[3]=1;Yf.EK(cg,cg,dg);if(0===cg[3])return!1;cg[3]=1/cg[3];g[0]=cg[0]*cg[3];g[1]=cg[1]*cg[3];g[2]=cg[2]*cg[3];return!0}
Vf.L={gz(a,b,d,c,e,f,g){const h=c[0]*a+c[4]*b+c[8]*d+c[12],k=c[1]*a+c[5]*b+c[9]*d+c[13],l=c[2]*a+c[6]*b+c[10]*d+c[14];c=c[3]*a+c[7]*b+c[11]*d+c[15];a=e[0]*h+e[4]*k+e[8]*l+e[12]*c;b=e[1]*h+e[5]*k+e[9]*l+e[13]*c;d=e[2]*h+e[6]*k+e[10]*l+e[14]*c;e=e[3]*h+e[7]*k+e[11]*l+e[15]*c;if(0===e)return!1;e=1/e;g[0]=(a*e*.5+.5)*f[2]+f[0];g[1]=(b*e*.5+.5)*f[3]+f[1];g[2]=.5*(1+d*e);return!0}};
function og(a,b,d,c){Xf.xm($f,d,b);Xf.xm(ag,a,b);Xf.EJ(bg,$f,ag);Xf.normalize(bg,bg);c.set(bg[0],bg[1],bg[2],Xf.rm(a,bg))}function pg(a,b,d,c,e,f,g){const h=g.x,k=g.y,l=g.z,m=g.w,n=g.ER,p=g.FR;g=g.GR;const q=1-n,t=1-p,r=1-g;return h*a*n+h*c*q+k*b*p+k*e*t+l*d*g+l*f*r>=m?!0:h*c*n+h*a*q+k*e*p+k*b*t+l*f*g+l*d*r>m}class qg{constructor(){this.GR=this.FR=this.ER=this.w=this.z=this.y=this.x=NaN}set(a,b,d,c){this.x=a;this.y=b;this.z=d;this.w=c;this.ER=0<a?1:0;this.FR=0<b?1:0;this.GR=0<d?1:0}}
Vf.L.nV=class{constructor(){this.IO=new qg;this.TP=new qg;this.xP=new qg;this.pN=new qg;this.WH=new qg;this.JN=new qg}};"use strict";const rg=self.A,sg=self.Dd,tg=sg.sD,ug=sg.my,vg=sg.Rj,wg=vg.create(),xg=tg.Mf(0,0,0),yg=tg.Mf(0,0,0),zg=tg.Mf(0,0,0),Ag=tg.Mf(0,1,0);ug.Mf(0,0,0,0);new rg.wd;new rg.Rect;const Bg=new rg.wd(0,0,1,0,1,1,0,1),Cg={dK:1,JJ:1E4},Dg=vg.Mf(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);
function Eg(a){let b=0,d=a.length,c=0;for(;b<d;)a[b++]=c,a[b++]=c+1,a[b++]=c+2,a[b++]=c,a[b++]=c+2,a[b++]=c+3,c+=4}function Fg(a){a.Fg=0;a.Al=0;a.tq=null;a.lx=null;a.kx=null;rg.D(a.op);a.bx.clear()}function Gg(a){for(const b of a.op)b.m();Fg(a)}function Hg(a,b,d,c=.5,e=.5){const f=a.Gn,g=a.gn;var h=a.Hp;.5===c&&.5===e?a.nd()?vg.YY(b,h,d,f,g):vg.perspective(b,h,d,f,g):(c=1-c,h=a.qx*f,d*=h,vg.tY(b,(2*c-2)*d,2*c*d,(2*e-2)*h,2*e*h,f,g),a.nd()&&vg.um(b,Dg,b))}
function Ig(a,b,d,c,e,f){let g=1;!a.Fq&&(g=200*a.qx/f);tg.set(zg,g,-g,1);tg.multiply(xg,d,zg);tg.multiply(yg,c,zg);vg.MY(b,xg,yg,e||Ag);zg[2]=1;vg.scale(b,b,zg)}function Jg(a,b,d,c,e,f,g){tg.set(xg,b,d,c);tg.set(yg,e,f,0);Ig(a,wg,xg,yg,Ag,g);return wg}function Kg(a,b){a.op.push(b);a.bx.set(b.ka(),b)}function Lg(a){a.hk(a.tq)}function Mg(a,b){--b.Mb;0===b.Mb&&(a.Cf===b&&(a.Cf=null),a.wq.delete(Ng(b.ax,b.Zf,b.ec,b.Bd)),b.m())}
function Og(a,b){rg.D(a.Uz);a.XO.clear();let d=0;for(const c of b){b=c[0];const e=c[1],f=c[2];a.Uz.push([e,f]);a.XO.set(b,{y8:d,E9:e,L6:f});d++}}function Pg(a,b){a.Al=b;a.Cf=null}function Qg(a,b,d,c,e,f,g){var h=a.DH;b=b+h-g;d=d+h-f;c=c+h+g;e=e+h+f;h=2*g;const k=2*f;a.Eu(b+f,d-g,0,c+f,e-g,0,c-f-h,e+g-k,0,b-f+h,d+g+k,0,Bg)}function Rg(a,b,d,c,e,f,g){const h=a.DH;b=b+h-g;d=d+h-f;c=c+h+g;e=e+h+f;a.Eu(b+f,d-g,0,c+f,e-g,0,c-f,e+g,0,b-f,d+g,0,Bg)}
function Sg(a,b,d,c,e,f,g){const h=a.DH;b+=h;d+=h;c+=h;e+=h;a.Eu(b+f,d-g,0,c+f,e-g,0,c-f,e+g,0,b-f,d+g,0,Bg)}function Tg(a){var b=Ug,d=b.V,c=b.T,e=b.da;b=b.aa;const f=.5*a.KO,g=a.JO;2===g?(Qg(a,d,c,e,c,0,f),Qg(a,e,c,e,b,f,0),Qg(a,e,b,d,b,0,-f),Qg(a,d,b,d,c,-f,0)):1===g?(Rg(a,d,c,e,c,0,f),Rg(a,e,c,e,b,f,0),Rg(a,e,b,d,b,0,-f),Rg(a,d,b,d,c,-f,0)):(Sg(a,d,c,e,c,0,f),Sg(a,e,c,e,b,f,0),Sg(a,e,b,d,b,0,-f),Sg(a,d,b,d,c,-f,0))}
rg.L.fM=class{constructor(a){a=Object.assign({},Cg,a);this.N=this.M=0;this.Hp=rg.Bb(45);this.qx=Math.tan(this.Hp/2);this.Zp=vg.create();this.Qs=vg.create();this.Fq=!1;this.Gn=a.dK;this.gn=a.JJ;this.op=[];this.bx=new Map;this.kx=this.lx=this.tq=null;this.wq=new Map;this.Cf=null;this.Uz=[];this.XO=new Map;this.Al=this.Fg=0;this.JO=this.KO=1;this.DH=.5;this.Ue=0;this.Dp=!0;this.HG=!1}Jo(){Fg(this);this.Cf=null}S(){return this.M}R(){return this.N}He(a){return this.Fq?a/(2*this.qx):100}HE(a){this.Hp=a;
this.qx=Math.tan(this.Hp/2)}lE(a,b,d,c){var e=rg.wJ(a,b,d,c),f=.5*this.KO;const g=Math.sin(e)*f;e=Math.cos(e)*f;f=this.JO;2===f?Qg(this,a,b,d,c,g,e):1===f?Rg(this,a,b,d,c,g,e):Sg(this,a,b,d,c,g,e)}Am(){this.Fd(!0);this.Ue++}IE(a){this.Dp=!!a}Qh(){return!1}nd(){return!1}ND(){}};"use strict";
self.A.L.CM=class{constructor(a,b){this.Ca=b.name;this.K=a;this.GW=b.W6||0;this.HW=b.X6||0;this.WF=!!b.B6;this.lX=!!b.t8;this.Ys=!!b.O8;this.HX=!!b.M9;this.$V=!!b.k6;this.Mr=!!b.p6;this.hJ=!!b.f$;this.Hx=!1}m(){this.K=null}wa(){return this.K}ka(){return this.Ca}Qo(){return this.lX}LM(){return!1}};"use strict";const Vg=self.A;function Ng(a,b,d,c){return("string"===typeof a?a:a.ka())+","+b+","+d.Ua+","+d.Ya+","+d.Sa+","+d.Oa+","+c}
Vg.L.YU=class{constructor(a,b,d,c,e){this.K=a;this.Mb=0;this.ic=null;this.ax="";this.Zf=d;this.ec=Vg.j(Vg.bb);this.ec.set(c);this.Bd=e;"string"===typeof b?this.ax=b:(this.ic=b,this.ax=this.ic.ka())}m(){if(0<this.Mb)throw Error("releasing state group still in use");this.ic=this.K=null;this.ax=""}pd(){this.ic=null}cz(a){this.ic=a.bx.get(this.ax)||null;if(!this.ic)throw Error("failed to restore shader program");}};"use strict";const Wg=self.A,Xg=Wg.j(Wg.wd);
Wg.L.XT=class{constructor(a){this.OH=a;this.Oj=this.Mj=this.Bd=this.fa=this.ma=0}Br(a,b,d,c){this.ma=a;this.fa=b;this.Mj=d;this.Oj=c}Da(){return this.ma}Wi(a){this.ma!==a&&(this.ma=a,this.OH.Qw=!0)}Ea(){return this.fa}Xi(a){this.fa!==a&&(this.fa=a,this.OH.Qw=!0)}Xa(){return this.Bd}Xf(a){this.Bd!==a&&(this.Bd=Math.max(a,0),this.OH.Qw=!0)}Gd(){return{x:this.Da(),y:this.Ea(),z:this.Xa(),u:this.Mj,v:this.Oj}}Tc(a){this.Wi(a.x);this.Xi(a.y);a.hasOwnProperty("z")&&this.Xf(a.z);this.Mj=a.u;this.Oj=a.v}};
function Yg(a){if(a.Qw){var b=Infinity,d=Infinity,c=-Infinity,e=-Infinity,f=0;for(const g of a.bt)for(const h of g){const k=h.Da(),l=h.Ea();b=Math.min(b,k);d=Math.min(d,l);c=Math.max(c,k);e=Math.max(e,l);f=Math.max(f,h.Xa())}a.UO=b;a.VO=d;a.QO=c;a.RO=e;a.SO=f;a.Qw=!1}}function Zg(a,b,d){b=Math.floor(b);d=Math.floor(d);return 0>b||b>=a.qn||0>d||d>=a.no?null:a.bt[d][b]}
function $g(a){const b=ah.$e,d=[],c=a.qn-1;a=a.no-1;const e=1/c,f=1/a,g=c-1,h=a-1;let k=b[0],l=b[1],m=Wg.ia(Math.floor(k*c),0,g),n=Wg.ia(Math.floor(l*a),0,h),p=0,q=0,t=0;var r=-1;const u=()=>{k=Wg.ia(Wg.Nf(k,p,t),0,1);l=Wg.ia(Wg.Nf(l,q,t),0,1);d.push(k,l)};for(let v=0,w=b.length;v<w;v+=2)for(k=b[v],l=b[v+1],d.push(k,l),m=Wg.ia(Math.floor(k*c),0,g),n=Wg.ia(Math.floor(l*a),0,h),r=(v+2)%w,p=b[r],q=b[r+1],r=-1;;){if(1E6<d.length)throw Error("Too many mesh poly points");const y=m*e,C=n*f,F=(m+1)*e,O=(n+
1)*f;if(0!==r&&(t=Wg.iy(k,l,p,q,y,C,F,O,-.001),0<=t&&.99999999>=t)){u();r=0;continue}if(0<n&&2!==r&&(t=Wg.iy(k,l,p,q,y,C,F,C,.001),0<=t&&.99999999>=t)){u();n--;r=4;continue}if(m<g&&3!==r&&(t=Wg.iy(k,l,p,q,F,C,F,O,.001),0<=t&&.99999999>=t)){u();m++;r=1;continue}if(0<m&&1!==r&&(t=Wg.iy(k,l,p,q,y,C,y,O,.001),0<=t&&.99999999>=t)){u();m--;r=3;continue}if(n<h&&4!==r&&(t=Wg.iy(k,l,p,q,y,O,F,O,.001),0<=t&&.99999999>=t)){u();n++;r=2;continue}break}return Wg.j(Wg.Ao,d)}
Wg.L.PL=class{constructor(a,b,d){if(2>a||2>b)throw Error("invalid mesh size");this.qn=a;this.no=b;this.vb=d||null;this.bt=[];this.VO=this.UO=0;this.RO=this.QO=1;this.SO=0;this.Qw=!1;d=a-1;const c=b-1;for(let e=0;e<b;++e){const f=[];for(let g=0;g<a;++g){const h=Wg.j(Wg.L.XT,this,g,e),k=g/d,l=e/c;h.Br(k,l,k,l);f.push(h)}this.bt.push(f)}}m(){Wg.D(this.bt)}zm(a){const b=this.bt;let d=b[0];for(let c=1,e=b.length;c<e;++c){const f=b[c];let g=d[0],h=f[0];for(let k=1,l=f.length;k<l;++k){const m=d[k],n=f[k];
Xg.set(g.Mj,g.Oj,m.Mj,m.Oj,n.Mj,n.Oj,h.Mj,h.Oj);a.Eu(g.Da(),g.Ea(),g.Xa(),m.Da(),m.Ea(),m.Xa(),n.Da(),n.Ea(),n.Xa(),h.Da(),h.Ea(),h.Xa(),Xg);g=m;h=n}d=f}}Gd(){return{cols:this.qn,rows:this.no,points:this.bt.map(a=>a.map(b=>b.Gd()))}}Tc(a){const b=this.qn,d=this.no;if(a.cols!==b||a.rows!==d)throw Error("mesh data wrong size");a=a.points;for(let c=0;c<d;++c){const e=a[c];for(let f=0;f<b;++f)Zg(this,f,c).Tc(e[f])}}};"use strict";
const bh=self.A,ch=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),dh=new Set(["nearest","bilinear","trilinear"]),eh=new Set(["default","low","high"]),fh=new Set(["clamp-to-edge","repeat","mirror-repeat"]);
function gh(a,b){let d,c;switch(a){case "rgba8":a=b.RGBA8;c=d=b.RGBA;b=b.UNSIGNED_BYTE;break;case "rgb8":a=b.RGB8;c=d=b.RGB;b=b.UNSIGNED_BYTE;break;case "rgba4":a=b.RGBA4;c=d=b.RGBA;b=b.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":a=b.RGB5_A1;c=d=b.RGBA;b=b.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":a=b.RGB565;c=d=b.RGB;b=b.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{AK:a,Lt:d,format:c,type:b}}
const hh={vo:"clamp-to-edge",wo:"clamp-to-edge",Lc:"trilinear",Gt:0,nK:"rgba8",tm:!0,by:"default",premultiplyAlpha:!0,TQ:!1,width:-1,height:-1},ih={premultiplyAlpha:!0,flipY:!1},jh=new Set;function kh(a){return"clamp-to-edge"!==a.Lk||"clamp-to-edge"!==a.Mk}
function lh(a,b){var d=bh.Ci(a.M)&&bh.Ci(a.N);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,mh(b,a.Lk));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,mh(b,a.Mk));"nearest"===a.uc?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),a.Lg=!1):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),(d||a.K.Mm())&&a.Lg?(b.hint(b.GENERATE_MIPMAP_HINT,nh(a,b)),b.generateMipmap(b.TEXTURE_2D),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
"trilinear"!==a.uc||a.K.HG?b.LINEAR_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),a.Lg=!1));(d=a.K.cv)&&0<a.pp&&"nearest"!==a.uc&&b.texParameterf(b.TEXTURE_2D,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.pp,a.K.LH))}function nh(a,b){if("default"===a.aq)return a.ye?b.NICEST:b.FASTEST;if("low"===a.aq)return b.FASTEST;if("high"===a.aq)return b.NICEST;throw Error("invalid mipmap quality");}
function mh(a,b){if("clamp-to-edge"===b)return a.CLAMP_TO_EDGE;if("repeat"===b)return a.REPEAT;if("mirror-repeat"===b)return a.MIRRORED_REPEAT;throw Error("invalid wrap mode");}function oh(a){if(0>=a.Mb)throw Error("no more references");a.Mb--}
bh.L.xz=class{constructor(a){this.K=a;this.Ha=null;this.N=this.M=0;this.ye=!0;this.Mk=this.Lk="clamp-to-edge";this.uc="trilinear";this.pp=0;this.On="rgba8";this.Lg=!1;this.aq="default";this.Mb=0}UE(a,b,d){d=Object.assign({},hh,d);if(this.Ha)throw Error("already created texture");this.Lk=d.vo;this.Mk=d.wo;this.uc=d.Lc;this.On=d.nK;this.Lg=!!d.tm&&this.K.Dp;this.aq=d.by;if(!fh.has(this.Lk)||!fh.has(this.Mk))throw Error("invalid wrap mode");if(!dh.has(this.uc))throw Error("invalid sampling");if(!ch.has(this.On))throw Error("invalid pixel format");
if(!eh.has(this.aq))throw Error("invalid mipmap quality");this.ye=!1;this.M=Math.floor(a);this.N=Math.floor(b);a=bh.Ci(this.M)&&bh.Ci(this.N);b=this.K.Rs;if(0>=this.M||0>=this.N)throw Error("invalid texture size");if(this.M>b||this.N>b)throw Error("texture exceeds maximum texture size");if(!this.K.Mm()&&kh(this)&&!a)throw Error("non-power-of-two tiled textures not supported");a=this.K.ca;b=this.K.wc;this.Ha=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.Ha);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
d.premultiplyAlpha);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);d=gh(this.On,a);a.texImage2D(a.TEXTURE_2D,0,2<=b?d.AK:d.Lt,this.M,this.N,0,d.format,d.type,null);lh(this,a);a.bindTexture(a.TEXTURE_2D,null);this.K.wj=null;this.Mb=1;jh.add(this)}Lz(a){if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof
ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData))throw Error("invalid texture source");if(!this.Ha||0>=this.Mb)throw Error("texture not created");if(this.ye)throw Error("cannot update static texture");var b=Object.assign({},ih,b);const d=a.width||a.videoWidth,c=a.height||a.videoHeight;var e=this.K.wc;const f=this.K.ca;f.bindTexture(f.TEXTURE_2D,this.Ha);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,
!!b.flipY);b=gh(this.On,f);e=2<=e?b.AK:b.Lt;try{if(this.M===d&&this.N===c){const g=bh.Ci(this.M)&&bh.Ci(this.N);f.texSubImage2D(f.TEXTURE_2D,0,0,0,b.format,b.type,a);(g||this.K.Mm())&&this.Lg&&(f.hint(f.GENERATE_MIPMAP_HINT,nh(this,f)),f.generateMipmap(f.TEXTURE_2D))}else{this.M=d;this.N=c;const g=bh.Ci(this.M)&&bh.Ci(this.N);if(!this.K.Mm()&&kh(this)&&!g)throw Error("non-power-of-two tiled textures not supported");f.texImage2D(f.TEXTURE_2D,0,e,b.format,b.type,a);(g||this.K.Mm())&&this.Lg&&(f.hint(f.GENERATE_MIPMAP_HINT,
nh(this,f)),f.generateMipmap(f.TEXTURE_2D))}}catch(g){console.error("Error updating WebGL texture: ",g)}f.bindTexture(f.TEXTURE_2D,null);this.K.wj=null}gp(){if(0<this.Mb)throw Error("texture still has references");if(!this.Ha)throw Error("already deleted texture");jh.delete(this);this.K.ca.deleteTexture(this.Ha);this.Ha=null}wa(){return this.K}S(){return this.M}R(){return this.N}ck(){return this.ye}eu(){let a=this.M*this.N;switch(this.On){case "rgba8":a*=4;break;case "rgb8":a*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":a*=
2}this.Lg&&(a+=Math.floor(a/3));return a}static pd(){jh.clear()}static tJ(){return jh.values()}};"use strict";const ph=self.Dd.Rj,qh=new Set(["nearest","bilinear","trilinear"]),rh={Lc:"trilinear",alpha:!0,depth:!1,Di:!0,Xx:!0,Pt:0},sh=new Set;function th(a){a.K.Hp===a.wB&&a.K.Gn===a.yB&&a.K.gn===a.vB||a.ep();return a.li}
self.A.L.OM=class{constructor(a){this.K=a;this.Bk=this.Ha=this.Kp=this.oh=null;this.N=this.M=0;this.Nl=!0;this.uc="trilinear";this.Hr=!0;this.Dc=!1;this.th=!0;this.Od=0;this.li=ph.create();this.vB=this.yB=this.wB=0}Tu(a,b,d){d=Object.assign({},rh,d);const c=this.K.wc;if(this.Ha||this.Bk)throw Error("already created render target");this.uc=d.Lc;this.Hr=!!d.alpha;this.Dc=!!d.depth;this.th=!!d.Di;this.Nl=!!d.Xx;this.Od=d.Pt;if(!qh.has(this.uc))throw Error("invalid sampling");if(0<this.Od&&(2>c||this.th))throw Error("invalid use of multisampling");
2>c&&(this.th=!0);this.M=a;this.N=b;if(0>=this.M||0>=this.N)throw Error("invalid render target size");this.ep();a=this.K.ca;this.oh=a.createFramebuffer();this.Dc&&(this.Kp=a.createFramebuffer());this.th?(this.Ha=this.K.St(this.M,this.N,{Lc:this.uc,nK:this.Hr?"rgba8":"rgb8",tm:!1}),b=this.Ha.Ha,a.bindFramebuffer(a.FRAMEBUFFER,this.oh),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0),this.Dc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Kp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,b,0))):(this.Bk=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.Bk),b=this.Hr?a.RGBA8:a.RGB8,0<this.Od&&((d=a.getInternalformatParameter(a.RENDERBUFFER,b,a.SAMPLES))&&d[0]?(d=d[0],this.Od>d&&(this.Od=d)):this.Od=0),0===this.Od?a.renderbufferStorage(a.RENDERBUFFER,b,this.M,this.N):a.renderbufferStorageMultisample(a.RENDERBUFFER,this.Od,b,this.M,this.N),a.bindFramebuffer(a.FRAMEBUFFER,this.oh),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.Bk),
this.Dc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Kp),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.Bk)),a.bindRenderbuffer(a.RENDERBUFFER,null));b=this.K.Jd;this.Dc&&b&&(a.bindFramebuffer(a.FRAMEBUFFER,this.oh),this.K.nk?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b));a.bindFramebuffer(a.FRAMEBUFFER,null);sh.add(this)}Yu(a,b){if(this.M!==a||this.N!==
b)this.M=a,this.N=b,this.ep(),a=this.K.ca,a.bindFramebuffer(a.FRAMEBUFFER,this.oh),this.Ha?this.Ha.Lz(new ImageData(this.M,this.N)):(a.bindRenderbuffer(a.RENDERBUFFER,this.Bk),a.renderbufferStorage(a.RENDERBUFFER,this.Hr?a.RGBA8:a.RGB8,this.M,this.N),a.bindRenderbuffer(a.RENDERBUFFER,null)),b=this.K.Jd,this.Dc&&b&&(this.K.nk?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)),a.bindFramebuffer(a.FRAMEBUFFER,
null)}gp(){if(!this.Ha&&!this.Bk)throw Error("already deleted render target");sh.delete(this);var a=this.K.ca;this.Ha?(a.bindFramebuffer(a.FRAMEBUFFER,this.oh),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),this.Dc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Kp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)),this.K.Zg(this.Ha),this.Ha=null):this.Bk&&(a.bindFramebuffer(a.FRAMEBUFFER,this.oh),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.RENDERBUFFER,null),this.Dc&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Kp),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,null)),a.deleteRenderbuffer(this.Bk),this.Bk=null);a.bindFramebuffer(a.FRAMEBUFFER,null);2<=this.K.wc&&(a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null));a.deleteFramebuffer(this.oh);this.Dc&&a.deleteFramebuffer(this.Kp);a=this.K.qc;a.pm=null;this.oh=a.Pj=null}ep(){Hg(this.K,this.li,this.M/this.N);this.wB=this.K.Hp;
this.yB=this.K.Gn;this.vB=this.K.gn}wa(){return this.K}Rc(){return this.Ha}Mo(){return"nearest"!==this.uc}mr(){return this.th}S(){return this.M}R(){return this.N}GL(a){a=Object.assign({},rh,a);return"nearest"!==a.Lc!==this.Mo()||!!a.alpha!==this.Hr||!!a.depth!==this.Dc||2<=this.K.wc&&!!a.Di!==this.mr()?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Nl&&this.S()===Math.floor(a.width)&&this.R()===Math.floor(a.height):this.Nl}eu(){return this.Ha?this.Ha.eu():this.M*this.N*(this.Hr?4:
3)}static pd(){sh.clear()}};"use strict";const uh=self.A;
async function vh(a,b){const d=a.ca,c=b.Sq;var e=b.name;const f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,b.src);d.compileShader(f);b=d.createShader(d.VERTEX_SHADER);d.shaderSource(b,c);d.compileShader(b);const g=d.createProgram();d.attachShader(g,f);d.attachShader(g,b);d.bindAttribLocation(g,0,"aPos");d.bindAttribLocation(g,1,"aTex");d.bindAttribLocation(g,2,"aPoints");d.linkProgram(g);const h=a.hI;h?await wh(()=>d.getProgramParameter(g,h.COMPLETION_STATUS_KHR)):await uh.MM(5);if(!d.getShaderParameter(f,
d.COMPILE_STATUS))throw e=d.getShaderInfoLog(f),d.deleteShader(f),d.deleteShader(b),d.deleteProgram(g),Error("Error compiling fragment shader: "+e);if(!d.getShaderParameter(b,d.COMPILE_STATUS))throw e=d.getShaderInfoLog(b),d.deleteShader(f),d.deleteShader(b),d.deleteProgram(g),Error("Error compiling vertex shader: "+e);if(!d.getProgramParameter(g,d.LINK_STATUS))throw e=d.getProgramInfoLog(g),d.deleteShader(f),d.deleteShader(b),d.deleteProgram(g),Error("Error linking shader program: "+e);(a=uh.AS(d.getProgramInfoLog(g)||
"").trim())&&!uh.HT(a)&&console.info(`[WebGL] Shader program '${e}' compilation log: `,a);d.deleteShader(f);d.deleteShader(b);return g}function xh(a,b){if(!a.iB)throw Error("not device transform shader");yh(a.bJ,b);b=a.K;const d=b.S()/2,c=b.R()/2;b=Jg(b,d,c,b.He(b.R()),d,c,b.R());yh(a.aJ,b)}function zh(a,b,d){a.FG&&!d||a.iB||(a.bJ.ba&&yh(a.bJ,b),a.FG=!0)}function Ah(a,b,d){a.EG&&!d||a.iB||(a.aJ.ba&&yh(a.aJ,b),a.EG=!0)}
function Bh(a){a=a?"highp":"mediump";return["#version 300 es\nin highp vec3 aPos;",`in ${a} vec2 aTex;`,`out ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}
uh.L.yz=class extends uh.L.CM{static async va(a,b){const d=await vh(a,b);return new uh.L.yz(a,d,b)}constructor(a,b,d){super(a,d);const c=a.ca;var e=a.qc;a.Fd();c.useProgram(b);this.ca=c;this.ic=b;this.iB="<default-device-transform>"===d.name;const f=c.getAttribLocation(b,"aPos"),g=c.getAttribLocation(b,"aTex");this.GH=c.getAttribLocation(b,"aPoints");-1!==f&&(c.bindBuffer(c.ARRAY_BUFFER,a.mm),c.vertexAttribPointer(f,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(f));-1!==g&&(c.bindBuffer(c.ARRAY_BUFFER,
a.em),c.vertexAttribPointer(g,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(g));-1!==this.GH&&(c.bindBuffer(c.ARRAY_BUFFER,a.Yl),c.vertexAttribPointer(this.GH,4,c.FLOAT,!1,0,0),c.enableVertexAttribArray(this.GH));c.bindBuffer(c.ARRAY_BUFFER,null);this.bJ=new uh.L.Vb(this,"matP","mat4");this.aJ=new uh.L.Vb(this,"matMV","mat4");this.Bq=new uh.L.Vb(this,"color","vec4");this.MX=new uh.L.Vb(this,"samplerFront","sampler");this.dJ=new uh.L.Vb(this,"pointTexStart","vec2");this.cJ=new uh.L.Vb(this,"pointTexEnd",
"vec2");this.eJ=new uh.L.Vb(this,"zElevation","float");this.Cx=new uh.L.Vb(this,"tileSize","vec2");this.Dx=new uh.L.Vb(this,"tileSpacing","vec2");this.$I=new uh.L.Vb(this,"color2_","vec4");this.Bx=new uh.L.Vb(this,"outlineThickness","float");this.Bt=new uh.L.Vb(this,"samplerBack","sampler");this.LX=new uh.L.Vb(this,"samplerDepth","sampler");this.fo=new uh.L.Vb(this,"destStart","vec2");this.eo=new uh.L.Vb(this,"destEnd","vec2");this.Nj=new uh.L.Vb(this,"srcStart","vec2");this.hm=new uh.L.Vb(this,"srcEnd",
"vec2");this.jm=new uh.L.Vb(this,"srcOriginStart","vec2");this.im=new uh.L.Vb(this,"srcOriginEnd","vec2");this.pg=new uh.L.Vb(this,"pixelSize","vec2");this.mo=new uh.L.Vb(this,"seconds","float");this.ho=new uh.L.Vb(this,"devicePixelRatio","float");this.jo=new uh.L.Vb(this,"layerScale","float");this.io=new uh.L.Vb(this,"layerAngle","float");this.lo=new uh.L.Vb(this,"layoutStart","vec2");this.ko=new uh.L.Vb(this,"layoutEnd","vec2");this.OX=new uh.L.Vb(this,"zNear","float");this.NX=new uh.L.Vb(this,
"zFar","float");this.LW=!!(this.pg.ba||this.mo.ba||this.Bt.ba||this.fo.ba||this.eo.ba||this.Nj.ba||this.hm.ba||this.jm.ba||this.im.ba||this.ho.ba||this.jo.ba||this.io.ba||this.lo.ba||this.ko.ba);b=d.parameters||[];this.Cq=[];this.Hx=this.pg.ba||this.Nj.ba||this.hm.ba||this.jm.ba||this.im.ba;this.EG=this.FG=!1;Ch(this.Bq);Ch(this.$I);Dh(this.MX,0);Dh(this.Bt,1);Dh(this.LX,2);Eh(this.dJ,0,0);Eh(this.cJ,1,1);Fh(this.eJ,0);Eh(this.Cx,0,0);Eh(this.Dx,0,0);Eh(this.fo,0,0);Eh(this.eo,1,1);Eh(this.Nj,0,0);
Eh(this.hm,0,0);Eh(this.jm,0,0);Eh(this.im,0,0);Eh(this.pg,0,0);Fh(this.ho,1);Fh(this.OX,a.Gn);Fh(this.NX,a.gn);Fh(this.jo,1);Fh(this.io,0);Fh(this.mo,0);Eh(this.lo,0,0);Eh(this.ko,0,0);Fh(this.Bx,1);for(const h of b)a=h[2],b=new uh.L.Vb(this,h[0],a),"color"===a?b.ba&&(b.Hb[0]=0,b.Hb[1]=0,b.Hb[2]=0,b.We.set(b.Hb),b.ca.uniform3f(b.gi,0,0,0)):Fh(b,0),this.Cq.push(b);this.iB?xh(this,e.Sx):(zh(this,e.Sx,!0),Ah(this,e.XC,!0));e=e.Wg;c.useProgram(e?e.ic:null)}m(){this.ca.deleteProgram(this.ic);this.ic=
null;var a=this.K;const b=a.op.indexOf(this);-1!==b&&a.op.splice(b,1);a.bx.delete(this.ka());this.ca=null;super.m()}Td(){return this.ic}lL(){return this.Cq.length}ku(a){return 0>a||a>=this.Cq.length?null:this.Cq[a].Tb()}static br(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}static Ty(a,
b,d){let c="";2<=a?c="#version 300 es\n":(b&&(c="#extension GL_EXT_frag_depth : enable\n"),d&&(c+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n"));return c+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=a?"in":"varying"} vec2 vTex;
${2<=a?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=a?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${2>a&&d?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${2>a&&!d?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${2>a?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=a||d?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=a||d?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${2>a?"gl_FragColor = outColor;":""}
	${2<=a?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${2>a&&b?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}};"use strict";const Gh=self.A,Hh=self.Dd.Rj,Ih=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);function Ch(a){a.ba&&(a.Hb[0]=1,a.Hb[1]=1,a.Hb[2]=1,a.Hb[3]=1,a.We.set(a.Hb),a.ca.uniform4f(a.gi,1,1,1,1))}function Dh(a,b){a.ba&&(a.Hb[0]=b,a.We.set(a.Hb),a.ca.uniform1i(a.gi,b))}function Eh(a,b,d){a.ba&&(a.Hb[0]=b,a.Hb[1]=d,a.We.set(a.Hb),a.ca.uniform2f(a.gi,b,d))}function Fh(a,b){a.ba&&(a.Hb[0]=b,a.We.set(a.Hb),a.ca.uniform1f(a.gi,b))}
function Kh(a,b,d){a=a.We;return a[0]===Math.fround(b)&&a[1]===Math.fround(d)}function Lh(a,b,d){a=a.We;a[0]=b;a[1]=d}function yh(a,b){const d=a.Hb;Hh.Ih(d,b)||(Gh.sZ(d,b),a.ca.uniformMatrix4fv(a.gi,!1,b))}function Mh(a,b,d,c,e){b=Math.fround(b);d=Math.fround(d);c=Math.fround(c);e=Math.fround(e);const f=a.Hb;if(f[0]!==b||f[1]!==d||f[2]!==c||f[3]!==e)f[0]=b,f[1]=d,f[2]=c,f[3]=e,a.ca.uniform4f(a.gi,b,d,c,e)}function Nh(a,b){b=Math.fround(b);const d=a.Hb;d[0]!==b&&(d[0]=b,a.ca.uniform1f(a.gi,b))}
function Oh(a,b,d){b=Math.fround(b);d=Math.fround(d);const c=a.Hb;if(c[0]!==b||c[1]!==d)c[0]=b,c[1]=d,a.ca.uniform2f(a.gi,b,d)}Gh.L.Vb=class{constructor(a,b,d){if(!Ih.has(d))throw Error("invalid uniform type");this.vb=a;this.ca=this.vb.ca;this.Ca=b;this.ea=d;this.cH="color"===this.ea;this.gi=this.ca.getUniformLocation(this.vb.Td(),b);this.ba=!!this.gi;a=Ih.get(d);this.Hb=new Float32Array(a);this.We=new Float32Array(a)}m(){this.gi=this.ca=this.vb=null}Tb(){return this.ea}};"use strict";
const Ph=self.A,Qh=self.Dd,Rh=Qh.my,Sh=Qh.Rj;Ph.L.XR=class{constructor(a){this.ro=a;this.XC=Sh.create();this.Sx=Sh.create();this.Pj=this.pm=null;this.QQ=!1;this.WC=Rh.Mf(1,1,1,1);this.Wg=null;this.oK=new Ph.Rect;this.clearColor=Ph.j(Ph.bb,0,0,0,0)}};
Ph.L.rV=class{constructor(a){const b=new ArrayBuffer(96);this.ea=0;this.qc=a;this.ca=a.ro.ca;this.Hl=this.Hf=0;this.ff=null;this.$d=new Float32Array(b,0,16);this.xl=new Float32Array(b,64,4);this.IP=new Float32Array(b,80,4);this.lC=[]}ra(){switch(this.ea){case 1:var a=this.ca;a.drawElements(a.TRIANGLES,this.Hl,a.UNSIGNED_SHORT,this.Hf);break;case 2:a=this.ca;var b=this.ff;a.bindTexture(a.TEXTURE_2D,b?b.Ha:null);break;case 3:a=this.xl;b=this.qc;Rh.ua(b.WC,a);b=b.Wg;b.Bq.ba&&Mh(b.Bq,a[0],a[1],a[2],a[3]);
break;case 4:this.ca.blendFunc(this.Hf,this.Hl);break;case 5:a=this.xl;this.ca.viewport(a[0],a[1],a[2],a[3]);break;case 6:a=this.qc;b=a.ro.op;var d=a.Wg,c=this.$d;for(let l=0,m=b.length;l<m;++l){var e=b[l];e===d?zh(e,c,!0):e.FG=!1}Sh.ua(a.Sx,c);break;case 7:a=this.qc;b=a.ro.op;d=a.Wg;c=this.$d;for(let l=0,m=b.length;l<m;++l)e=b[l],e===d?Ah(e,c,!0):e.EG=!1;Sh.ua(a.XC,c);break;case 8:a=this.ca;b=this.ff;d=this.qc;b?(d.pm=b.oh,d.Pj=b.Kp,d.QQ&&d.Pj?a.bindFramebuffer(a.FRAMEBUFFER,d.Pj):a.bindFramebuffer(a.FRAMEBUFFER,
d.pm)):(d.pm=null,d.Pj=null,a.bindFramebuffer(a.FRAMEBUFFER,null));break;case 9:a=this.ca;var f=this.$d;b=this.qc.clearColor;d=f[0];c=f[1];e=f[2];f=f[3];sd(b,d,c,e,f)||(a.clearColor(d,c,e,f),md(b,d,c,e,f));a.clear(a.COLOR_BUFFER_BIT);break;case 10:a=this.ca;b=this.qc;d=b.ro.lx;a.useProgram(d.ic);zh(d,b.Sx,!1);Ah(d,b.XC,!1);c=b.oK;d.dJ.ba&&Oh(d.dJ,c.V,c.T);d.cJ.ba&&Oh(d.cJ,c.da,c.aa);c=this.$d[0];d.eJ.ba&&Nh(d.eJ,c);d.Bq.ba&&(c=b.WC,Mh(d.Bq,c[0],c[1],c[2],c[3]));a.drawArrays(a.POINTS,this.Hf/4,this.Hl);
a.useProgram(b.Wg.ic);break;case 11:b=this.ca;d=this.qc;a=this.ff;d.Wg=a;b.useProgram(a.ic);zh(a,d.Sx,!1);Ah(a,d.XC,!1);a.Bq.ba&&(b=d.WC,Mh(a.Bq,b[0],b[1],b[2],b[3]));break;case 12:a=this.qc.Wg;b=this.ca;d=this.$d;c=this.xl;e=this.IP;if(a.Bt.ba){f=this.qc.ro;var g=this.ff;f.Cn!==g&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,g?g.Ha:null),f.Cn=g,b.activeTexture(b.TEXTURE0))}a.pg.ba&&Oh(a.pg,d[0],d[1]);a.fo.ba&&Oh(a.fo,d[2],d[3]);a.eo.ba&&Oh(a.eo,d[4],d[5]);a.ho.ba&&Nh(a.ho,this.Hl);a.jo.ba&&
Nh(a.jo,d[6]);a.io.ba&&Nh(a.io,d[7]);a.Nj.ba&&Oh(a.Nj,d[12],d[13]);a.hm.ba&&Oh(a.hm,d[14],d[15]);a.jm.ba&&Oh(a.jm,e[0],e[1]);a.im.ba&&Oh(a.im,e[2],e[3]);a.lo.ba&&Oh(a.lo,c[0],c[1]);a.ko.ba&&Oh(a.ko,c[2],c[3]);a.mo.ba&&Nh(a.mo,this.Hf);break;case 13:a=this.qc.Wg.Cq;b=this.lC;for(let l=0,m=a.length;l<m;++l)if(d=a[l],f=b[l],d.cH){if(c=f.Ua,e=f.Ya,f=f.Sa,c=Math.fround(c),e=Math.fround(e),f=Math.fround(f),g=d.Hb,g[0]!==c||g[1]!==e||g[2]!==f)g[0]=c,g[1]=e,g[2]=f,d.ca.uniform3f(d.gi,c,e,f)}else Nh(d,f);
break;case 14:a=this.ca;b=this.ff;d=this.qc.pm;b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,b);a.invalidateFramebuffer(a.FRAMEBUFFER,[a.COLOR_ATTACHMENT0]);b!==d&&a.bindFramebuffer(a.FRAMEBUFFER,d);break;case 15:a=this.$d;this.qc.oK.set(a[0],a[1],a[2],a[3]);break;case 16:a=this.qc.Wg;b=this.$d;a.Nj.ba&&Oh(a.Nj,b[0],b[1]);a.pg.ba&&Oh(a.pg,b[4],b[5]);a.Cx.ba&&Oh(a.Cx,b[6],b[7]);a.Dx.ba&&Oh(a.Dx,b[8],b[9]);break;case 17:var h=this.$d;c=this.lC;a=this.ca;e=h[0];b=h[1];f=h[2];d=h[3];g=0!==h[4];h=0!==h[5];const k=
c[1];a.bindFramebuffer(a.READ_FRAMEBUFFER,c[0]);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,k);h?a.blitFramebuffer(0,0,e,b,0,0,f,d,a.COLOR_BUFFER_BIT,g?a.LINEAR:a.NEAREST):(c=Math.min(e,f),e=Math.min(b,d),f=Math.max(b-d,0),b=Math.max(d-b,0),a.blitFramebuffer(0,f,c,e+f,0,b,c,e+b,a.COLOR_BUFFER_BIT,a.NEAREST));break;case 18:this.ff.xD();this.ff=null;break;case 19:this.ff.Ey();this.ff=null;break;case 20:a=this.qc.Wg;b=this.$d;a.pg.ba&&Oh(a.pg,b[0],b[1]);a.Bx.ba&&Nh(a.Bx,b[2]);break;case 21:a=this.xl;b=this.qc.Wg;
b.$I.ba&&Mh(b.$I,a[0],a[1],a[2],a[3]);break;case 22:a=this.ca;(b=0!==this.Hf)||a.depthMask(!0);a.clear(a.DEPTH_BUFFER_BIT);b||a.depthMask(!1);break;case 23:a=this.ca;0===this.Hf?(a.disable(a.DEPTH_TEST),a.depthMask(!1)):(a.enable(a.DEPTH_TEST),a.depthMask(!0));break;case 24:a=this.ca;b=this.qc;d=b.ro;c=0!==this.Hf;b.QQ=c;a.activeTexture(a.TEXTURE2);c?(b.Pj&&a.bindFramebuffer(a.FRAMEBUFFER,b.Pj),a.bindTexture(a.TEXTURE_2D,d.Jd)):(a.bindTexture(a.TEXTURE_2D,null),b.Pj&&a.bindFramebuffer(a.FRAMEBUFFER,
b.pm));a.activeTexture(a.TEXTURE0);break;case 25:a=this.ca;a.clear(a.STENCIL_BUFFER_BIT);a.enable(a.STENCIL_TEST);a.stencilFunc(a.ALWAYS,1,1);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);a.colorMask(!1,!1,!1,!1);break;case 26:a=this.ca;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,1,1);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);break;case 27:a=this.ca;a.disable(a.STENCIL_TEST);break;case 28:a=this.ca;b=this.$d;1===this.Hf?(a.enable(a.SCISSOR_TEST),a.scissor(b[0],b[1],b[2],b[3])):a.disable(a.SCISSOR_TEST);break;case 29:a=
this.qc.Wg,b=this.$d,a.pg.ba&&Oh(a.pg,b[0],b[1]),a.Cx.ba&&Oh(a.Cx,b[2],b[3]),a.Bx.ba&&Nh(a.Bx,b[4]),a.Dx.ba&&Oh(a.Dx,b[5],b[6])}}};"use strict";const Th=self.A,Uh=new Set("serif sans-serif monospace cursive fantasy system-ui ui-serif ui-sans-serif ui-monospace ui-rounded math emoji fangsong".split(" ")),Vh={timeout:60},Wh=new Th.bb(0,0,0,1),Xh=new Set(["left","center","right"]),Yh=new Set(["top","center","bottom"]),Zh=new Set;
Th.IS&&Th.IS.addEventListener("fontload",a=>{a=a.font.ka();for(const b of Zh)(b.Ll||Th.Qj(b.CA,a))&&$h(b)});function ai(a,b){a=a.trim();const d=parseFloat(a);return isFinite(d)?a.endsWith("%")?b*d/100:d:0}let bi=!1,ci=!1;function $h(a){di(a);a.QC=!0}
function ei(a,b){const d=b.Vf()?b.Pe.join(""):" ";var c=fi(a,!0,b);a.EO!==c&&(a.EO=c,a.Fn.font=c,a.Ss.font=c);b=Sf(b,"size");b=(b?parseFloat(b.Xg):a.DA)*a.ON;c=a.Fn.measureText(d);let e=0;a.Ll&&gi(a)&&(e=c.fontBoundingBoxAscent-a.Ss.measureText(d).fontBoundingBoxAscent);return{width:c.width,height:4/3*b,fontBoundingBoxAscent:c.fontBoundingBoxAscent||0,fontBoundingBoxDescent:c.fontBoundingBoxDescent||0,Sj:e}}
function hi(a,b,d){a.fm||(a.fm=Th.tg(16,16));let c=!1;if(a.BO!==b||a.AO!==d)a.BO=b,a.AO=d,a.fm.width=b,a.fm.height=d,c=!0;a.ed||(a.ed=a.fm.getContext("2d"),c=!0);c?(a.ed.textBaseline=a.Ll?"alphabetic":"top",a.ed.direction=a.qt,a.ed.font=a.vH,a.ed.fillStyle=a.AB,a.ed.strokeStyle=a.AB,a.ed.globalAlpha=a.xH,a.ed.lineWidth=a.wH):a.ed.clearRect(0,0,b,d)}function di(a){a.tA=!0;a.zC=!0}function ii(a){"Arial"!==a.CA&&(a.CA="Arial",$h(a))}function ji(a){var b=16;.1>b&&(b=.1);a.DA!==b&&(a.DA=b,$h(a))}
function ki(a){return a.zP*a.Px*self.devicePixelRatio}function fi(a,b,d){let c=[];(a.YW||Sf(d,"b"))&&c.push("bold");(a.dX||Sf(d,"i"))&&c.push("italic");var e=Sf(d,"size");e=(e?parseFloat(e.Xg):a.DA)*a.ON;b?c.push(e+"pt"):c.push(e*ki(a)+"pt");b=a.CA;(d=Sf(d,"font"))&&d.Xg&&(b=d.Xg,a.iK&&!a.xF.has(b)&&(a.iK(b),a.xF.add(b)));b&&(Uh.has(b)?c.push(b):c.push('"'+b+'"'));return c.join(" ")}
function li(a){if(!Xh.has("center"))throw Error("invalid horizontal alignment");"center"!==a.QA&&(a.QA="center",di(a))}function mi(a,b){if(!Yh.has(b))throw Error("invalid vertical alignment");a.Jx!==b&&(a.Jx=b,di(a))}function ni(a){a.Fn||(a.Fn=Th.tg(16,16).getContext("2d"),a.Ss=Th.tg(16,16).getContext("2d"),a.Fn.textBaseline=a.Ll?"alphabetic":"top",a.Ss.textBaseline="top",a.Fn.direction=a.qt,a.Ss.direction=a.qt)}
function gi(a){bi||(bi=!0,ni(a),a=a.Fn.measureText("test"),ci="number"===typeof a.fontBoundingBoxAscent&&"number"===typeof a.fontBoundingBoxDescent);return ci}
function oi(a){const b=ki(a),d=(4+a.Js)*b;var c=0;const e=a.Ox.Ks;if(0!==e.length){for(var f of e){f.Nu(NaN);f.Ou(NaN);for(var g of f.Tx())g.Nu(NaN),g.Ou(NaN)}g=a.Ll&&gi(a);f=e[0].R()*b;"center"===a.Jx?(c=e.reduce((h,k)=>h+k.R()*b+d,0)-d,c=Math.max(a.N/2-c/2,0),g&&(f=e[0].co*b)):"bottom"===a.Jx&&(c=e.reduce((h,k)=>h+k.R()*b+d,0)-a.Js*b,g=g?e.at(-1).ln*b:0,c=a.N-c-g-2);for(let h=0,k=e.length;h<k;++h){g=e[h];const l=g.R()*b,m=c;if(a.Ll){if(c+=0===h?f:l,0<h&&c>a.N-4*b)break}else if(0<h&&c>=a.N-l)break;
0<=m&&pi(a,g,c,b);a.Ll||(c+=l);c+=d}}}function qi(a,b){a.AB!==b&&(a.AB=b,a.ed.fillStyle=b,a.ed.strokeStyle=b)}function ri(a,b){a.wH!==b&&(a.wH=b,a.ed.lineWidth=b)}
function pi(a,b,d,c){let e=0;"center"===a.QA?e=(a.M-b.S()*c)/2:"right"===a.QA&&(e=a.M-b.S()*c);b.Nu(e);b.Ou(d);for(const k of"ltr"===a.qt?b.Tx():Rf(b)){a=k;b=e;var f=d,g=c,h=Sf(a,"offsetx");b+=h?ai(h.Xg,a.R())*g:0;h=Sf(a,"offsety");f+=h?ai(h.Xg,a.R())*g:0;a.lr()&&(h=Sf(a,"iconoffsety"),f+=h?ai(h.Xg,a.R())*g:.2*a.R()*g);a.Nu(b);a.Ou(f);e+=k.S()*c}}
function si(a,b,d,c,e,f){"rtl"===a.qt&&(c+=f);b?"Gecko"===Th.U.Of?a.ed.strokeText(d,c,e,f):a.ed.strokeText(d,c,e):"Gecko"===Th.U.Of?a.ed.fillText(d,c,e,f):a.ed.fillText(d,c,e)}
Th.L.BE=class{constructor(a,b){b=Object.assign({},Vh,b);this.K=a;this.CA="Arial";this.DA=16;this.ON=1;this.Js=0;this.dX=this.YW=!1;this.gA="black";this.Ll=!1;this.TA=null;this.PW=!0;this.iK=null;this.xF=new Set;this.QA="left";this.Jx="top";this.jb="";this.ov=null;this.Ox=Th.j(Th.Ru);this.QX="word";this.qt="ltr";this.tA=this.zC=this.QC=!1;this.uA=-1;this.N=this.M=this.XF=this.Ur=this.bs=0;this.Px=1;this.Ss=this.Fn=this.ed=this.fm=null;this.AO=this.BO=-1;this.AB=this.EO=this.vH="";this.wH=this.xH=1;
this.TO=d=>ei(this,d);this.Ha=null;this.Aj=new Th.Rect;this.zP=1;this.VI=new Th.vT(()=>{this.Km();hi(this,8,8)},b.timeout);this.jK=null;this.Et=!1;Zh.add(this)}m(){this.iK=null;this.xF.clear();this.TO=this.Ss=this.Fn=this.ed=this.fm=this.ov=this.TA=null;this.VI.m();this.jK=null;this.Km();this.Ox.Ed();this.K=this.Ox=null;this.Et=!0;Zh.delete(this)}el(a){a instanceof Th.bb&&(a=`rgb(${100*(ld.Ub()?NaN:a.Ua)}%, ${100*(ld.Ub()?NaN:a.Ya)}%, ${100*(ld.Ub()?NaN:a.Sa)}%)`);this.gA!==a&&(this.gA=a,this.tA=
!0)}wr(a){this.jb!==a&&(this.jb=a,$h(this))}Vd(a,b,d){"undefined"===typeof d&&(d=1);if(!(0>=a||0>=a||this.Ur===a&&this.XF===b&&this.Px===d)){var c=this.Ur;this.Ur=a;this.XF=b;this.Px=d;a=self.devicePixelRatio;this.M=this.Ur*this.Px*a;this.N=this.XF*this.Px*a;a=Math.max(this.M,this.N);b=Math.min(this.K.Rs,4096);d=1;a>b&&(d=b/a,this.M=Math.min(this.M*d,b),this.N=Math.min(this.N*d,b));this.zP=d;this.Ur!==c?$h(this):di(this)}}S(){return this.M}R(){return this.N}Rc(){this.VI.dc();if(!(this.Ha&&!this.tA&&
!this.zC&&!this.QC||this.Et||0>=this.M||0>=this.N||(this.tA=!1,this.Et))){this.QC&&(ni(this),!this.Ll||this.ov&&this.ov.toString()===this.jb||(this.ov=new Th.Uq(this.jb)),this.Ox.Ru(this.Ll?Ff(this.ov):this.jb,this.TO,this.Ur,this.QX,0),this.QC=!1);this.zC&&(oi(this),this.zC=!1);hi(this,Math.max(Th.Jq(Math.ceil(this.M)),128),Math.max(Th.Jq(Math.ceil(this.N)),64));this.ed.imageSmoothingEnabled=this.PW;this.ed.imageSmoothingQuality="high";this.bs=0;const t=ki(this);var a=this.Ox.Ks;for(const r of a)if(a=
r.Sw,Number.isFinite(r.Rw)&&Number.isFinite(a))for(const u of"ltr"===this.qt?r.Tx():Rf(r))a:{var b=u,d=t,c=r.R();a=this.ed;const v=b.Rw,w=b.Sw;if(Number.isFinite(v)&&Number.isFinite(w)){var e=c/16;c=b.S()*d;var f=b.R()*d,g=b.R()/16,h=(4+this.Js)*d,k=b.Vf()?b.Pe:null;if(-1!==this.uA){if(this.bs>=this.uA)break a;b.Vf()&&this.bs+k.length>this.uA&&(k=k.slice(0,this.uA-this.bs),c=ei(this,b).width*d);this.bs+=b.Py()}var l=Sf(b,"background"),m=!!Sf(b,"u"),n=!!Sf(b,"s");if((!b.Vf()||!Th.FL(k)||l||m||n)&&
!Sf(b,"hide")){var p=Sf(b,"color"),q=Sf(b,"opacity");q=q?parseFloat(q.Xg)/100:1;this.xH!==q&&(this.xH=q,this.ed.globalAlpha=q);l&&(qi(this,l.Xg),a.fillRect(v,w-f,c,f+h));h=(h=Sf(b,"linethickness"))?parseFloat(h.Xg):1;(l=!!Sf(b,"stroke"))&&ri(this,.5*g*h*ki(this));b.Vf()?(k=k.join(""),q=fi(this,!1,b),this.vH!==q&&(this.vH=q,this.ed.font=q),!l&&(ri(this,.5*g*h*ki(this)),q=Sf(b,"outlineback"))&&(qi(this,q.Xg),si(this,!0,k,v,w,c)),qi(this,p?p.Xg:this.gA),si(this,l,k,v,w,c),!l&&(ri(this,.5*g*h*ki(this)),
b=Sf(b,"outline"))&&(qi(this,b.Xg),si(this,!0,k,v,w,c))):b.lr()&&0<b.S()&&(b=b.MD(this.TA))&&a.drawImage(b,v,w-f,c,f);qi(this,p?p.Xg:this.gA);m&&(m=a,p=v,b=w+d*e,k=c,e=d*e*h,l?m.strokeRect(p,b,k,e):m.fillRect(p,b,k,e));n&&(d*=g,a.fillRect(v,w-f/4+d/2-d*h/2,c,d*h))}}}this.K.Oi()||(this.Ha||(this.Ha=this.K.St(this.fm.width,this.fm.height,{tm:!0,by:"high"})),this.K.KM(this.fm,this.Ha),this.Aj.set(0,0,this.M/this.Ha.S(),this.N/this.Ha.R()),this.jK&&this.jK());this.VI.dc()}return this.Ha}Km(){this.Ha&&
(this.K.Oi()||this.K.Zg(this.Ha),this.Ha=null)}static pd(){for(const a of Zh)a.Km()}};"use strict";const ti=self.A;function vi(a){a.mi&&(1===a.wc?a.ie.deleteQueryEXT(a.mi):a.ca.deleteQuery(a.mi),a.mi=null)}
class wi{constructor(a){this.ca=a.ca;this.wc=a.wc;this.ie=a.ie;this.mi=null;this.Yv=this.ub=!1;this.$l=0;this.mi=1===this.wc?this.ie.createQueryEXT():this.ca.createQuery()}m(){vi(this);this.ie=this.ca=null;this.Yv=!1}xD(){if(this.ub)throw Error("query already active");1===this.wc?this.ie.beginQueryEXT(this.ie.TIME_ELAPSED_EXT,this.mi):this.ca.beginQuery(this.ie.TIME_ELAPSED_EXT,this.mi);this.ub=!0}Ey(){if(!this.ub)throw Error("query not active");1===this.wc?this.ie.endQueryEXT(this.ie.TIME_ELAPSED_EXT):
this.ca.endQuery(this.ie.TIME_ELAPSED_EXT);this.ub=!1}BD(){if(this.mi&&!this.Yv&&!this.ub){var a=1===this.wc?this.ie.getQueryObjectEXT(this.mi,this.ie.QUERY_RESULT_AVAILABLE_EXT):this.ca.getQueryParameter(this.mi,this.ca.QUERY_RESULT_AVAILABLE);var b=this.ca.getParameter(this.ie.GPU_DISJOINT_EXT);a&&!b&&(this.$l=1===this.wc?this.ie.getQueryObjectEXT(this.mi,this.ie.QUERY_RESULT_EXT):this.ca.getQueryParameter(this.mi,this.ca.QUERY_RESULT),this.$l/=1E9,this.Yv=!0);(a||b)&&vi(this)}}wu(){return this.Yv}nu(){if(!this.Yv)throw Error("no result available");
return this.$l}}function xi(a){a.Tn=ti.j(wi,a.K);a.lq.push(a.Tn);a.Tn.xD()}
ti.L.tV=class{constructor(a){this.K=a;this.Ue=a.Ue;this.ub=!1;this.Ln=null;this.wn=!1;this.Tn=null;this.lq=[]}m(){for(const a of this.lq)a instanceof wi&&a.m();ti.D(this.lq);this.K=this.Tn=this.Ln=null}xD(){if(this.ub)throw Error("query already active");const a=this.K.PP;if(0<a.length){this.wn=!0;var b=this.Ln=a.at(-1);b.Tn.Ey();b.Tn=null;this.Ln.lq.push(this)}else this.wn=!1,this.Ln=null;this.ub=!0;a.push(this);xi(this)}Ey(){if(!this.ub)throw Error("query not active");if(this.K.PP.pop()!==this)throw Error("can only end most nested query");
this.ub=!1;this.Tn.Ey();this.Tn=null;this.Ln&&(xi(this.Ln),this.Ln=null)}BD(){for(const a of this.lq)a.BD()}wu(){return this.lq.every(a=>a.wu())}nu(){return this.lq.reduce((a,b)=>a+b.nu(),0)}};"use strict";const yi=self.A;function zi(a){const b=new yi.L.tV(a.K);a.Hd.push(b);a.Hd.length>a.kX&&a.Hd.shift().m();return b}function Ai(a,b,d){if(d<=b)return NaN;let c=0;for(const e of a.Hd){if(e.Ue>=d)break;if(!(e.Ue<b))if(e.wu())c+=e.nu();else return NaN}return c}
function Bi(a,b){for(let d=0,c=a.Hd.length;d<c;++d){const e=a.Hd[d];if(e.Ue<b)e.m();else{0<d&&a.Hd.splice(0,d);break}}}yi.L.NM=class{constructor(a,b=1E3){this.K=a;this.kX=b;this.Hd=[];this.K.Nz.add(this)}m(){this.Ed();this.K.Nz.delete(this);this.K=null}Ed(){for(const a of this.Hd)a.m();yi.D(this.Hd)}};"use strict";
const Ci=self.A,Di=self.Dd,Ei=Di.my,Fi=Di.Rj,Gi={powerPreference:"default",DQ:!0,alpha:!1,depth:!1,Rx:!1,VQ:2,failIfMajorPerformanceCaveat:!1},Hi=new Set(["default","low-power","high-performance"]),Ii=new Ci.wd(0,0,1,0,1,1,0,1),Ji=Fi.create(),Ki=Fi.create(),Li=new Ci.wd,Mi=new Ci.Rect;let Ni=null;Ci.Wx&&(self.H6=function(){Ni?Ni.loseContext():console.warn("WEBGL_lose_context not supported")},self.I6=function(){Ni?Ni.restoreContext():console.warn("WEBGL_lose_context not supported")});const Oi=new Set;
let Pi=-1;function Qi(){Pi=-1;for(const a of Oi)a.XX()&&(a.resolve(),Oi.delete(a));0<Oi.size&&(Pi=self.requestAnimationFrame(Qi))}function wh(a){const b=new Promise(d=>Oi.add({resolve:d,XX:a}));-1===Pi&&(Pi=self.requestAnimationFrame(Qi));return b}function Ri(a,b,d){const c=a.Kx;if(0!==c[0]||0!==c[1]||c[2]!==b||c[3]!==d){var e=Si(a);e.ea=5;e=e.xl;e[0]=0;e[1]=0;e[2]=b;e[3]=d;Ei.set(c,0,0,b,d);a.Nb=0}}function Si(a){const b=a.nv;a.Wm===b.length&&b.push(new Ci.L.rV(a.qc));return b[a.Wm++]}
function Ti(a){a.Me(1,1,1,1)}function Ui(a,b,d){if(b!==a.uH||d!==a.sH){var c=Si(a);c.ea=4;c.Hf=b;c.Hl=d;a.uH=b;a.sH=d;a.Nb=0;a.Cf=null}}function Vi(a){let b=a.yi;b>=a.FO&&(a.Fd(),b=0);if(1===a.Nb)a.nv[a.Wm-1].Hl+=6;else{var d=Si(a);d.ea=1;d.Hf=b;d.Hl=6;a.Nb=1}}function Wi(a,b){Kd(b,a.xi,a.yi,a.Fg+a.Al);a.yi+=12}function Xi(a,b){if(a.zg()){var d=Si(a);d.ea=19;d.ff=b;a.Nb=0}}
Ci.L.sV=class extends Ci.L.fM{constructor(a,b){super(b);b=Object.assign({},Gi,b);if(!Hi.has(b.powerPreference))throw Error("invalid power preference");const d={alpha:!!b.alpha,depth:!1,antialias:!1,powerPreference:b.powerPreference,failIfMajorPerformanceCaveat:!!b.failIfMajorPerformanceCaveat};let c=null,e=0;2<=b.VQ&&(c=a.getContext("webgl2",d),e=2);c||(c=a.getContext("webgl",d),e=1);if(!c)throw Error("renderer-unavailable (could not get WebGL context)");this.ca=c;c.getContextAttributes();c.getParameter(c.VERSION);
this.wc=e;this.Kx=Ei.create();this.dn=!1;this.Rz=Fi.create();this.Hk=!!b.depth;this.nk=!(!b.depth||!b.Rx);this.jw=this.Hk;this.dH=!1;this.Jd=null;this.bH=!0;this.Ev=this.Gv=0;this.Yl=this.rn=this.em=this.mm=null;this.xi=new Float32Array(24E3);this.us=new Uint16Array(12E3);this.Sg=new Float32Array(16E3);this.Xs=new Float32Array(32E3);this.FO=this.Pn=this.gf=this.yi=0;this.sq=this.Bn=null;this.nv=[];this.Nb=this.Wm=0;this.eb=null;this.qc=Ci.j(Ci.L.XR,this);this.uw=Ci.j(Ci.bb,1,1,1,1);this.Cn=this.wj=
null;this.sH=this.uH=0;this.hX=new Ci.Rect;this.zB=Ci.j(Ci.Rect,0,0,-1,-1);this.iA=0;this.Rs=-1;this.NH=0;this.Ex="(unavailable)";this.iH=!1;this.UI=this.QI=this.vG=this.Iv=this.cv=this.hI=null;this.LH=0;this.bX=!!b.DQ;this.ie=null;this.Nz=new Set;this.PP=[];Eg(this.us)}Qh(){return!0}async Jo(){super.Jo();var a=this.ca;md(this.uw,1,1,1,1);this.Cn=this.wj=null;this.Pn=this.yi=0;this.FO=23988;Ci.D(this.nv);this.Nb=this.Wm=0;this.eb=this.Bn=null;this.hX.set(0,0,1,1);var b=this.qc;b.Wg=null;b.pm=null;
b.Pj=null;Ei.set(b.WC,1,1,1,1);md(b.clearColor,0,0,0,0);b.oK.set(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);this.uH=a.ONE;this.sH=a.ONE_MINUS_SRC_ALPHA;this.$E(a);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Hk?(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.LEQUAL)):(a.disable(a.DEPTH_TEST),a.depthMask(!1));this.jw=this.Hk;this.dH=!1;this.Yl=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Yl);
a.bufferData(a.ARRAY_BUFFER,this.Xs.byteLength,a.DYNAMIC_DRAW);this.mm=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.mm);a.bufferData(a.ARRAY_BUFFER,this.xi.byteLength,a.DYNAMIC_DRAW);this.em=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.em);a.bufferData(a.ARRAY_BUFFER,this.Sg.byteLength,a.DYNAMIC_DRAW);this.rn=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.rn);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.us,a.STATIC_DRAW);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);
this.Rs=a.getParameter(a.MAX_TEXTURE_SIZE);this.NH=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.NH&&(this.NH=2048);if(b=a.getExtension("WEBGL_debug_renderer_info"))a.getParameter(b.UNMASKED_VENDOR_WEBGL),this.Ex=a.getParameter(b.UNMASKED_RENDERER_WEBGL);this.hI=a.getExtension("KHR_parallel_shader_compile");Ci.Wx&&(Ni=a.getExtension("WEBGL_lose_context"));this.bX&&(this.ie=1===this.wc?a.getExtension("EXT_disjoint_timer_query"):a.getExtension("EXT_disjoint_timer_query_webgl2")||a.getExtension("EXT_disjoint_timer_query"));
this.LH=(this.cv=a.getExtension("EXT_texture_filter_anisotropic"))?a.getParameter(this.cv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.wc&&this.Hk&&this.nk&&(this.Iv=a.getExtension("WEBGL_depth_texture"),!this.Iv))throw Error("no depth texture support");2>this.wc&&(this.vG=a.getExtension("EXT_frag_depth"),this.QI=a.getExtension("OES_standard_derivatives"),this.UI=a.getExtension("EXT_shader_texture_lod"));a=Ci.L.yz;b=a.br(!1);let d="varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
c=b,e="uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n}",
f="attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",g="#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
h=a.br(!0),k=!1;this.Hk&&(2>this.wc?this.vG&&(d="#extension GL_EXT_frag_depth : enable\nvarying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#extension GL_EXT_frag_depth : enable\nuniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
g="#extension GL_EXT_frag_depth : enable\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
k=!0):(c=Bh(),d="#version 300 es\nin mediump vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\toutColor = texture(samplerFront, vTex) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#version 300 es\nuniform lowp sampler2D samplerFront;\nin lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nout lowp vec4 outColor;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
f="#version 300 es\nin vec4 aPoints;\nout float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",g="#version 300 es\nin highp vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highp vec2 srcStart;\nuniform highp vec2 pixelSize;\nuniform highp vec2 tileSize;\nuniform highp vec2 tileSpacing;\nvoid main(void) {\n\thighp vec2 tile = floor(vTex);\n\thighp vec2 tex = fract(vTex);\n\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
h=Bh(!0)));a=await Promise.all([[d,c,"<default>"],[d,c,"<default-device-transform>"],[e,f,"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",b,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
b,"<lineargradient>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision lowp float;\nvarying highmedp vec2 vTex;\nuniform vec4 color;\nvoid main(void) {\n\thighmedp float grad = vTex.x / (1.0 - vTex.y);\n\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n}",b,"<penumbra>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",
b,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
b,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",b,"<smoothline>"],[g,h,"<tilemap>"],[a.Ty(this.wc,k,this.QI&&this.UI),2<=this.wc?Bh():b,"<tilerandomization>"]].map(l=>this.Ay({src:l[0],Sq:l[1],name:l[2]})));this.tq=a[0];this.sq=a[1];this.lx=a[2];this.kx=a[3];Lg(this)}async Ay(a){a=await Ci.L.yz.va(this,a);Kg(this,a);return a}Vd(a,b,d){if(this.M!==a||this.N!==b||d){this.Fd();
d=this.ca;var c=this.qc;this.M=a;this.N=b;Ri(this,a,b);Hg(this,this.Rz,a/b);this.gl(this.Rz);this.sq&&(d.useProgram(this.sq.Td()),xh(this.sq,this.Zp),this.Bn=this.sq,this.qc.Wg=this.sq);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.Cn=this.wj=null;this.Hk&&this.bH&&this.jp(this.M,this.N);this.eb&&this.eb.Yu(this.M,this.N);d.bindFramebuffer(d.FRAMEBUFFER,null);this.eb=null;c.pm=null;c.Pj=null}}jp(a,b){const d=this.ca;
this.Jd&&this.Gv===a&&this.Ev===b||(this.nk?(this.Jd&&d.deleteTexture(this.Jd),this.Jd=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.Jd),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),2<=this.wc?d.texImage2D(d.TEXTURE_2D,0,d.DEPTH24_STENCIL8,a,b,0,d.DEPTH_STENCIL,d.UNSIGNED_INT_24_8,null):this.Iv&&
d.texImage2D(d.TEXTURE_2D,0,d.DEPTH_STENCIL,a,b,0,d.DEPTH_STENCIL,this.Iv.UNSIGNED_INT_24_8_WEBGL,null),d.bindTexture(d.TEXTURE_2D,null)):(this.Jd&&d.deleteRenderbuffer(this.Jd),this.Jd=d.createRenderbuffer(),d.bindRenderbuffer(d.RENDERBUFFER,this.Jd),d.renderbufferStorage(d.RENDERBUFFER,2<=this.wc?d.DEPTH24_STENCIL8:d.DEPTH_STENCIL,a,b),d.bindRenderbuffer(d.RENDERBUFFER,null)),this.Gv=a,this.Ev=b)}wM(a,b){this.Hk&&(this.bH=!1,this.jp(a,b))}uM(){this.Hk&&(this.bH=!0,this.jp(this.M,this.N))}HE(a){super.HE(a);
Hg(this,this.Rz,this.M/this.N)}gl(a){if(!Fi.Ih(this.Zp,a)){var b=Si(this);b.ea=6;Sh.ua(b.$d,a);Fi.ua(this.Zp,a);this.Nb=0;this.dn=!0}}pz(){let a,b;var d=this.eb;null===d?(a=this.Rz,b=this.S(),d=this.R()):(a=th(d),b=d.S(),d=d.R());this.gl(a);Ri(this,b,d)}ur(a){if(!Fi.Ih(this.Qs,a)){var b=Si(this);b.ea=7;Sh.ua(b.$d,a);Fi.ua(this.Qs,a);this.Nb=0;this.dn=!0}}oM(){this.dn=!1}Cy(){return this.dn}Fd(){if(0!==this.Wm&&!this.Oi()){this.mF();const a=this.nv;for(let b=0,d=this.Wm;b<d;++b)a[b].ra();this.Nb=this.Pn=
this.gf=this.yi=this.Wm=0}}mF(){const a=this.ca;0<this.Pn&&(a.bindBuffer(a.ARRAY_BUFFER,this.Yl),a.bufferSubData(a.ARRAY_BUFFER,0,this.Xs.subarray(0,this.Pn)));0<this.yi&&(a.bindBuffer(a.ARRAY_BUFFER,this.mm),a.bufferSubData(a.ARRAY_BUFFER,0,this.xi.subarray(0,this.yi)),a.bindBuffer(a.ARRAY_BUFFER,this.em),a.bufferSubData(a.ARRAY_BUFFER,0,this.Sg.subarray(0,this.gf)))}kc(){return this.uw.Oa}Me(a,b,d,c){const e=this.uw;sd(e,a,b,d,c)||(md(e,a,b,d,c),a=Si(this),a.ea=3,e.vd(a.xl,0),this.Nb=0,this.Cf=
null)}yg(a){const b=this.uw;b.Oa!==a&&(qd(b,a),a=Si(this),a.ea=3,b.vd(a.xl,0),this.Nb=0,this.Cf=null)}el(a){const b=this.uw;b.Xc(a)||(b.set(a),a=Si(this),a.ea=3,b.vd(a.xl,0),this.Nb=0,this.Cf=null)}te(a){if(a!==this.wj){var b=Si(this);b.ea=2;this.wj=b.ff=a;this.Nb=0}}Le(a){a=this.Uz[a];Ui(this,a[0],a[1])}Ku(){Ui(this,this.ca.ONE,this.ca.ONE_MINUS_SRC_ALPHA)}Zo(){Ui(this,this.ca.ONE,this.ca.ZERO)}Rect(a){this.Gu(a.V,a.T,a.da,a.aa)}Gu(a,b,d,c){this.vE(a,b,d,b,d,c,a,c)}wd(a){Vi(this);Wi(this,a);Ii.vd(this.Sg,
this.gf);this.gf+=8}vE(a,b,d,c,e,f,g,h){Vi(this);const k=this.xi;let l=this.yi;const m=this.Fg+this.Al;k[l++]=a;k[l++]=b;k[l++]=m;k[l++]=d;k[l++]=c;k[l++]=m;k[l++]=e;k[l++]=f;k[l++]=m;k[l++]=g;k[l++]=h;k[l++]=m;this.yi=l;Ii.vd(this.Sg,this.gf);this.gf+=8}Jm(a,b){Vi(this);Wi(this,a);a=this.Sg;var d=this.gf;a[d++]=b.V;a[d++]=b.T;a[d++]=b.da;a[d++]=b.T;a[d++]=b.da;a[d++]=b.aa;a[d++]=b.V;a[d]=b.aa;this.gf+=8}cM(a,b){Vi(this);Wi(this,a);b.vd(this.Sg,this.gf);this.gf+=8}Eu(a,b,d,c,e,f,g,h,k,l,m,n,p){Vi(this);
const q=this.xi;let t=this.yi;const r=this.Fg+this.Al;q[t++]=a;q[t++]=b;q[t++]=r+d;q[t++]=c;q[t++]=e;q[t++]=r+f;q[t++]=g;q[t++]=h;q[t++]=r+k;q[t++]=l;q[t++]=m;q[t++]=r+n;this.yi=t;p.vd(this.Sg,this.gf);this.gf+=8}Yt(a,b){Pg(this,0);Fi.ua(Ji,this.Zp);Fi.ua(Ki,this.Qs);this.pz();const [d,c]=this.mu(this.eb);var e=Jg(this,0,0,this.He(c),0,0,c);this.ur(e);if("crop"===a&&this.eb&&b){a=this.M/2;e=this.N/2;const h=b.S();b=b.R();var f=this.eb.S(),g=this.eb.R();f=Math.min(f,h);const k=Math.min(g,b),l=Math.max(b-
g,0);g=Math.max(g-b,0);Mi.set(-a,e-g,-a+f,e-k-g);Li.rg(Mi);Mi.set(0,l,f,k+l);Mi.qm(h,b);this.Jm(Li,Mi)}else a=d/2,e=c/2,this.Gu(-a,e,a,-e);this.gl(Ji);this.ur(Ki)}hk(a){if(this.Bn!==a){var b=Si(this);b.ea=11;this.Bn=b.ff=a;this.Nb=0;this.Cf=null}}vz(a,b,d,c,e,f,g,h,k,l,m){const n=this.Bn;m%=10800;if(n.LW&&(n.Bt.ba||n.pg.ba&&!Kh(n.pg,f,g)||n.fo.ba&&!Kh(n.fo,b.V,b.T)||n.eo.ba&&!Kh(n.eo,b.da,b.aa)||n.ho.ba&&n.ho.We[0]!==Math.fround(h)||n.jo.ba&&n.jo.We[0]!==Math.fround(k)||n.io.ba&&n.io.We[0]!==Math.fround(l)||
n.Nj.ba&&!Kh(n.Nj,d.V,d.T)||n.hm.ba&&!Kh(n.hm,d.da,d.aa)||n.jm.ba&&!Kh(n.jm,c.V,c.T)||n.im.ba&&!Kh(n.im,c.da,c.aa)||n.lo.ba&&!Kh(n.lo,e.V,e.T)||n.ko.ba&&!Kh(n.ko,e.T,e.aa)||n.mo.ba&&n.mo.We[0]!==Math.fround(m))){var p=Si(this);p.ea=12;var q=m;n.Bt.ba||(n.pg.ba&&Lh(n.pg,f,g),n.fo.ba&&Lh(n.fo,b.V,b.T),n.eo.ba&&Lh(n.eo,b.da,b.aa),n.ho.ba&&(n.ho.We[0]=h),n.jo.ba&&(n.jo.We[0]=k),n.io.ba&&(n.io.We[0]=l),n.Nj.ba&&Lh(n.Nj,d.V,d.T),n.hm.ba&&Lh(n.hm,d.da,d.aa),n.jm.ba&&Lh(n.jm,c.V,c.T),n.im.ba&&Lh(n.im,c.da,
c.aa),n.lo.ba&&Lh(n.lo,e.V,e.T),n.ko.ba&&Lh(n.ko,e.T,e.aa),n.mo.ba&&(n.mo.We[0]=q));q=p.$d;q[0]=f;q[1]=g;b.vd(q,2);q[6]=k;q[7]=l;d.vd(q,12);b=p.xl;e.vd(b,0);e=b[1];b[1]=b[3];b[3]=e;c.vd(p.IP,0);p.Hf=m;p.Hl=h;p.ff=n.Bt.ba?a?a.Rc():null:null;this.Nb=0}}uz(a){const b=this.Bn;var d;if(d=0!==a.length){a:{for(let f=0,g=a.length;f<g;++f){d=b.Cq[f];var c=a[f],e=d.We;if(d.cH?e[0]!==Math.fround(c.Ua)||e[1]!==Math.fround(c.Ya)||e[2]!==Math.fround(c.Sa):e[0]!==Math.fround(c)){d=!1;break a}}d=!0}d=!d}if(d){d=
Si(this);d.ea=13;for(let f=0,g=a.length;f<g;++f){c=b.Cq[f];e=a[f];const h=c.We;c.cH?(h[0]=e.Ua,h[1]=e.Ya,h[2]=e.Sa):h[0]=e}Ci.Yc(d.lC,a);this.Nb=0}}Yg(a,b,d,c){var e=Si(this);e.ea=9;e=e.$d;e[0]=a;e[1]=b;e[2]=d;e[3]=c;this.Nb=0}Ed(a){var b=Si(this);b.ea=9;a.vd(b.$d,0);this.Nb=0}xr(){}Am(){super.Am();this.ca.flush()}CD(){if(this.Hk&&this.eb&&this.eb.Dc){var a=Si(this),b=this.jw;a.ea=22;a.Hf=b?1:0;this.Nb=0}}re(a){a=!!a;if(this.jw!==a&&this.Hk){this.jw=a;var b=Si(this);b.ea=23;b.Hf=a?1:0;this.Nb=0}}xu(){return this.jw}rr(a){a=
!!a;if(this.nk&&this.dH!==a){if(a&&this.xu())throw Error("depth still enabled");this.dH=a;var b=Si(this);b.ea=24;b.Hf=a?1:0;this.Nb=0}}zM(a,b,d,c,e=0){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);Cd(this.zB,a,b,d,c)||(Bd(this.zB,a,b,d,c),b=(e||this.mu(this.Ni())[1])-b-c,e=Si(this),e.ea=28,e.Hf=1,e=e.$d,e[0]=a,e[1]=b,e[2]=d,e[3]=c,this.Nb=0)}AE(){if(-1!==this.zB.da){this.zB.set(0,0,-1,-1);var a=Si(this);a.ea=28;a.Hf=0;a=a.$d;a[0]=0;a[1]=0;a[2]=0;this.Nb=a[3]=0}}Oi(){return!this.ca||
this.ca.isContextLost()||this.iH}pd(){Gg(this);Ci.L.xz.pd();Ci.L.OM.pd();Ci.L.BE.pd();for(const a of this.Nz)a.Ed();this.UI=this.QI=this.vG=this.Iv=this.cv=this.hI=this.ie=null;this.LH=0;this.Ex="(unavailable)";this.Jd=this.sq=this.Bn=null;for(const a of this.wq.values())a.pd()}async cz(){this.iH=!0;await this.Jo();this.iH=!1;for(const a of this.wq.values())a.cz(this);this.Vd(this.M,this.N,!0)}Wq(a,b){if(this.Oi())throw Error("context lost");this.Fd();const d=Ci.j(Ci.L.xz,this);if(!("undefined"!==
typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData||a instanceof ArrayBuffer)&&null!==a)throw Error("invalid texture source");var c=Object.assign({},hh,b);if(d.Ha)throw Error("already created texture");d.Lk=c.vo;d.Mk=c.wo;d.uc=c.Lc;d.pp=c.Gt;d.On=c.nK;d.Lg=!!c.tm&&d.K.Dp;d.aq=
c.by;if(!fh.has(d.Lk)||!fh.has(d.Mk))throw Error("invalid wrap mode");if(!dh.has(d.uc))throw Error("invalid sampling");if(!ch.has(d.On))throw Error("invalid pixel format");if(!eh.has(d.aq))throw Error("invalid mipmap quality");d.ye=!0;if(a instanceof ArrayBuffer||null===a||c.TQ){if(d.M=c.width,d.N=c.height,a instanceof ArrayBuffer&&a.byteLength!==d.M*d.N*4)throw Error("ArrayBuffer wrong size");}else d.M=a.width,d.N=a.height;if(0>=d.M||0>=d.N)throw Error("invalid texture data size");c.TQ&&(b=bh.tg(d.M,
d.N),b.getContext("2d").drawImage(a,0,0,d.M,d.N),a=b);var e=bh.Ci(d.M)&&bh.Ci(d.N);b=d.K.Rs;if(d.M>b||d.N>b)throw Error("texture data exceeds maximum texture size");b=d.K.ca;var f=d.K.wc;d.Ha=b.createTexture();b.bindTexture(b.TEXTURE_2D,d.Ha);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);c=gh(d.On,b);if(d.K.Mm()||e||!kh(d))2<=f?(b.texStorage2D(b.TEXTURE_2D,d.Lg?Math.floor(Math.log2(Math.max(d.M,d.N))+1):1,c.AK,d.M,d.N),a instanceof ArrayBuffer?
b.texSubImage2D(b.TEXTURE_2D,0,0,0,d.M,d.N,c.format,c.type,new Uint8Array(a)):null!==a&&b.texSubImage2D(b.TEXTURE_2D,0,0,0,c.format,c.type,a)):a instanceof ArrayBuffer?b.texImage2D(b.TEXTURE_2D,0,c.Lt,d.M,d.N,0,c.format,c.type,new Uint8Array(a)):null===a?b.texImage2D(b.TEXTURE_2D,0,c.Lt,d.M,d.N,0,c.format,c.type,null):b.texImage2D(b.TEXTURE_2D,0,c.Lt,c.format,c.type,a);else{if(null===a)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");a instanceof ArrayBuffer&&
(a=new ImageData(new Uint8ClampedArray(a),d.M,d.N));a instanceof ImageData&&(e=bh.tg(d.M,d.N),e.getContext("2d").putImageData(a,0,0),a=e);e=bh.tg(bh.Jq(d.M),bh.Jq(d.N));f=e.getContext("2d");f.imageSmoothingEnabled="nearest"!==d.uc;f.drawImage(a,0,0,d.M,d.N,0,0,e.width,e.height);b.texImage2D(b.TEXTURE_2D,0,c.Lt,c.format,c.type,e)}null!==a&&lh(d,b);b.bindTexture(b.TEXTURE_2D,null);d.K.wj=null;d.Mb=1;jh.add(d);return d}async Tt(a,b){if(this.Oi())throw Error("context lost");b=Object.assign({},b);if(Ci.cb.ImageBitmapOptions){let d=
await createImageBitmap(a,{premultiplyAlpha:"premultiply"});const c=b.vo&&"clamp-to-edge"!==b.vo||b.wo&&"clamp-to-edge"!==b.wo,e=Ci.Ci(d.width)&&Ci.Ci(d.height);this.Mm()||e||!c?b.premultiplyAlpha=!1:Ci.cb.Xy?(d=await createImageBitmap(a,{premultiplyAlpha:"premultiply",resizeWidth:Ci.Jq(d.width),resizeHeight:Ci.Jq(d.height)}),b.premultiplyAlpha=!1):d=await createImageBitmap(a,{premultiplyAlpha:"none"});return await Ci.Rt(()=>this.Wq(d,b))}if(a instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");
a=await Ci.LK(a)}return await Ci.Rt(()=>this.Wq(a,b))}St(a,b,d){this.Fd();const c=Ci.j(Ci.L.xz,this);c.UE(a,b,d);return c}KM(a,b){this.Fd();b.Lz(a)}Zg(a){a&&(oh(a),0<a.Mb||(this.Fd(),a===this.wj&&(this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.wj=null),a===this.Cn&&(this.ca.activeTexture(this.ca.TEXTURE1),this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.ca.activeTexture(this.ca.TEXTURE0),this.Cn=null),a.gp()))}TK(a){let b=this.M,d=this.N,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),
c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.Fd();const e=Ci.j(Ci.L.OM,this);e.Tu(b,d,Object.assign({Xx:c},a));this.eb=null;this.qc.pm=null;this.qc.Pj=null;return e}xd(a,b=!0){if(a!==this.eb){a&&a.Nl&&a.Yu(this.M,this.N);var d=Si(this);d.ea=8;this.eb=d.ff=a;this.Nb=0;b&&this.pz()}}Ni(){return this.eb}mu(a){return a?[a.S(),a.R()]:[this.M,this.N]}zy(a){if(2>this.wc||this.eb&&0<this.eb.Od)this.Zo(),Ti(this),this.Zq(a,"stretch");else{var b=
Si(this),d=this.eb;b.ea=17;const c=b.$d,e=b.qc.ro;c[0]=a.S();c[1]=a.R();c[2]=d?d.S():e.S();c[3]=d?d.R():e.R();c[4]=a.Mo()?1:0;c[5]=!0;b=b.lC;Ph.D(b);b.push(a.oh);b.push(d?d.oh:null);this.Nb=0}}Zq(a,b="stretch"){a=a.Rc();if(!a)throw Error("not a texture-backed render target");this.te(a);this.Yt(b,a)}Ko(a){if(!(2>this.wc)){var b=Si(this);a=a.oh;b.ea=14;b.ff=a;this.Nb=0}}VK(a){this.xd(null);this.Fd();const b=a.Rc();b===this.wj&&(this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.wj=null);b===this.Cn&&
(this.ca.activeTexture(this.ca.TEXTURE1),this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.ca.activeTexture(this.ca.TEXTURE0),this.Cn=null);a.gp()}ED(){this.re(!0);Si(this).ea=25;this.Nb=0;this.iA=1}yy(){this.re(!1);Si(this).ea=26;this.Nb=0;this.iA=2}HL(){return 2===this.iA}xy(){this.re(!0);Si(this).ea=27;this.iA=this.Nb=0}ND(){let a=0;for(const b of Ci.L.xz.tJ())a+=b.eu();return a}Mm(){return 2<=this.wc}zg(){return!!this.ie}$E(a){Og(this,[["normal",a.ONE,a.ONE_MINUS_SRC_ALPHA],["additive",a.ONE,
a.ONE],["xor",a.ONE,a.ONE_MINUS_SRC_ALPHA],["copy",a.ONE,a.ZERO],["destination-over",a.ONE_MINUS_DST_ALPHA,a.ONE],["source-in",a.DST_ALPHA,a.ZERO],["destination-in",a.ZERO,a.SRC_ALPHA],["source-out",a.ONE_MINUS_DST_ALPHA,a.ZERO],["destination-out",a.ZERO,a.ONE_MINUS_SRC_ALPHA],["source-atop",a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],["destination-atop",a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA]])}};"use strict";
const K=self.A,Yi=self.Dd.Rj,Zi=self.GPUBufferUsage,$i=self.GPUShaderStage,aj=self.GPUTextureUsage,bj={powerPreference:"default",depth:!1,failIfMajorPerformanceCaveat:!1,vQ:!1,BR:!1,Rx:!1},cj=new K.wd(0,0,1,0,1,1,0,1);K.j(K.Pu);const dj=K.j(K.Rect);K.j(K.Rect);const ej=K.j(K.wd);let fj=!1;function gj(a){console.log("[WebGPU] "+a)}function hj(a,b){return 0!==(a.B&b)}async function ij(a,b){a.Kd=null;for(await jj(a,b);!a.Kd;)a.kk=null,await jj(a,b);await a.Jo()}
async function jj(a,b){if(!a.kk){a.kk=await navigator.gpu.requestAdapter(a.pF);if(!a.kk)throw Error("renderer-unavailable (no WebGPU adapter available)");if(b&&a.kk.isFallbackAdapter)throw Error("renderer-unavailable (WebGPU provided fallback adapter)");}b=[];a.kk.features.has("timestamp-query")&&b.push("timestamp-query");a.kk.features.has("shader-f16")&&b.push("shader-f16");a.Kd=await a.kk.requestDevice({requiredFeatures:b});if(!a.Kd)return null;a.Rs=a.Kd.limits.maxTextureDimension2D;a.xb(33554432,
a.Kd.features.has("timestamp-query"));a.xb(67108864,a.Kd.features.has("shader-f16"));a.Kd.lost.then(d=>kj(a,d));a.xb(32768,!1)}
async function kj(a,b){console.log("[WebGPU] Device lost: ",b);Gg(a);a.ai.pd();K.L.Qu.pd();K.L.SE.pd();K.L.BE.pd();a.Ek="";a.ot=null;a.nt=null;a.Jd=null;a.Fv=null;a.$H=null;a.aI=null;a.aG=null;a.OB=null;a.mm=null;a.em=null;a.fA=null;a.rn=null;a.Yl=null;a.LC=null;a.KA=null;a.IA=null;a.xG=null;a.oA=null;a.Wz=null;a.Wr=null;a.tx=null;a.lv=null;a.Hv=null;a.kI=null;a.Xr=null;a.Tl=null;a.gj=null;a.cn=null;a.Vr=null;a.kA=null;a.Cv=null;a.qA=null;a.bq=null;a.Yh=null;a.eb=null;a.RH=null;a.mj=null;a.Pz.clear();
a.NB.clear();a.xI.clear();for(const d of a.wq.values())d.pd();a.Kd=null;a.kk=null;a.oF=null;a.B|=32768;a.gK&&a.gK();await ij(a);for(const d of a.wq.values())d.cz(a);a.Vd(a.M,a.N,!0);a.hK&&a.hK()}function lj(a){a.B|=268435968;mj(a,a.MC.transform)}function nj(a){const b=a.MC.$Y;a.vW.vd(a.OC,b.offset/4);mj(a,b)}function oj(a){const b=a.MC.Tj;a.OC[b.offset/4]=a.wW;mj(a,b)}
function pj(a,b){return a.Kd.createBindGroup({layout:a.Wz,entries:[{binding:0,resource:{buffer:a.LC}},{binding:1,resource:{buffer:a.KA}},{binding:2,resource:{buffer:a.fA}},{binding:3,resource:{buffer:a.Yl}},{binding:4,resource:{buffer:a.IA}},{binding:5,resource:{buffer:b}}]})}function qj(){return"depth24plus-stencil8"}function rj(a){a.ej=a.Kd.createCommandEncoder();a.B&=-16385}function sj(a,b){b!==a.Vr&&(a.Vr=b,null===b&&(b=a.Tl),tj(a),a.kA=b.Jr,a.B|=128)}
function uj(a){a.ot=a.ZB.getCurrentTexture();a.nt=a.ot.createView({label:"swapchaintextureview"});a=a.Yh.Rc();const b=a.K,d=b.zf();a.Ha=b.ot;a.$n=b.nt;b.MF&&(a.Jr=d.createBindGroup({layout:b.lv,entries:[{binding:0,resource:a.Yw},{binding:1,resource:a.$n}]}))}
function vj(a){var b=a.B;if(0!==(b&7680)){var d=a.B;0!==(d&512)&&(fj&&gj("Updating transform"),Yi.multiply(a.OO,a.Zp,a.Qs),a.OC.set(a.OO,a.MC.transform.offset/4));0!==(d&1024)&&(fj&&gj("Updating vertex uniform buffer"),wj(a.ai,a.ej,a.LC,a.kJ,a.Dt,a.Ix-a.Dt));0!==(d&2048)&&(fj&&gj("Updating fragment uniform buffer"),wj(a.ai,a.ej,a.KA,a.wG,a.ms,a.Vv-a.ms));0!==(d&4096)&&(fj&&gj("Updating fragment C3Params buffer"),wj(a.ai,a.ej,a.IA,a.FA,a.Tv,a.GA-a.Tv));a.B=d&-7681|16384}if(0!==(b&2097152))b=a.B,b=
{colorAttachments:[],depthStencilAttachment:{view:a.Fv,depthLoadOp:0!==(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:0!==(b&8388608)?"clear":"load",stencilClearValue:0,stencilStoreOp:"store"}},xj(a,b),a.B&=-9437185,fj&&gj(`Starting coplanar stencil renderpass${"load"===b.depthStencilAttachment.depthLoadOp?"":", clear depth"}${"load"===b.depthStencilAttachment.stencilLoadOp?"":", clear stencil"}`);else if(0!==(b&4194304))b=a.eb,d={colorAttachments:[{view:b.Pm(),loadOp:b.pj?
"clear":"load",clearValue:b.tp.toJSON(),storeOp:"store"}],depthStencilAttachment:{view:a.Fv,depthReadOnly:!0,stencilReadOnly:!0}},xj(a,d),b.pj=!1,fj&&gj(`Starting coplanar color renderpass to ${b.un?"backbuffer":"texture"}, ${"load"===d.colorAttachments[0].loadOp?"continue":"clear"} color`),b=d;else{b=a.B;d=a.eb;const c={colorAttachments:[{view:d.Pm(),loadOp:d.pj?"clear":"load",clearValue:d.tp.toJSON(),storeOp:"store"}]};xj(a,c);d.pj=!1;786432===(b&786432)&&(c.depthStencilAttachment={view:a.Fv,depthLoadOp:0!==
(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:"clear",stencilClearValue:0,stencilStoreOp:"discard"},a.B&=-1048577);fj&&gj(`Starting render pass to ${d.un?"backbuffer":"texture"}, depth ${c.depthStencilAttachment?"enabled":"disabled"}, ${"load"===c.colorAttachments[0].loadOp?"continue":"clear"} color${c.depthStencilAttachment&&"load"!==c.depthStencilAttachment.depthLoadOp?", clear depth":""}`);b=c}a.yp=a.ej.beginRenderPass(b);a.B|=25072}
function yj(a){null!==a.yp&&(tj(a),fj&&gj(`Ending render pass (to ${a.eb.un?"backbuffer":"texture"})`),a.yp.end(),a.yp=null)}function zj(a,b,d){if(a.zg()){if(!a.mj)throw Error("not started frame timing");if(0>b||0>d||b===d)throw Error("invalid timestamp index");yj(a);a.yx=!0;a.BC=b;a.RP=d}}function Aj(a){let b=a.Zl;if(10499<b)a.Fd(),b=0;else if(0!==(a.B&1)){a.cs+=6;return}null===a.yp&&vj(a);a.B|=1;a.DN=6*b;a.cs=6}
function Bj(a,b,d){const c=d.S();d=d.R();let e=K.ia(b.V,0,c),f=K.ia(b.T,0,d),g=K.ia(b.da,e,c);b=K.ia(b.aa,f,d);Number.isNaN(e)&&(e=0);Number.isNaN(f)&&(f=0);Number.isNaN(g)&&(g=c);Number.isNaN(b)&&(b=d);a.setScissorRect(e,f,g-e,b-f)}
function tj(a){const b=a.B;if(0!==(b&1)){if(fj){var d=[];b&16&&d.push("draw state");b&32&&d.push("pipeline");b&64&&d.push("texture");b&128&&d.push("background texture");b&256&&d.push("depth texture");b&8192&&d.push("buffer");b&8&&d.push("scissor");var c="";0<d.length&&(c+=`(Updated ${d.join(", ")}) `);c=0!==(b&2)?c+`Drawing ${a.cs/6} points`:c+`Drawing ${a.cs/6} quads`;gj(c)}d=a.yp;0!==(b&16)&&(c=a.eb,d.setViewport(0,0,c.S(),c.R(),0,1),d.setIndexBuffer(a.rn,"uint16"),d.setVertexBuffer(0,a.mm),d.setVertexBuffer(1,
a.em),0!==(b&6291456)&&d.setStencilReference(1),0!==(b&4)&&Bj(d,a.jC,c));if(0!==(b&32)){var e=0;0!==(b&134217728)?e=4:0!==(b&2097152)?e=2:0!==(b&4194304)?e=3:786432===(b&786432)&&(e=1);c=d.setPipeline;{var f=a.Xr;var g=a.lA,h=a.yN;const m=5*g+e;if(2>h){var k=f.gt[m];null===k&&(k=f.zf().createRenderPipeline(Cj(f,g,e,h)),f.gt[m]=k);f=k}else{k=f.UH.get(h);Array.isArray(k)||(k=Dj(),f.UH.set(h,k));var l=k[m];null===l&&(l=f.zf().createRenderPipeline(Cj(f,g,e,h)),k[m]=l);f=l}}c.call(d,f)}0!==(b&8192)&&d.setBindGroup(0,
a.Wr);0!==(b&64)&&d.setBindGroup(1,a.cn);0!==(b&128)&&d.setBindGroup(2,a.kA);0!==(b&256)&&d.setBindGroup(3,a.Cv);0!==(b&8)&&(c=a.eb,0!==(b&4)?Bj(d,a.jC,c):d.setScissorRect(0,0,c.S(),c.R()));d.drawIndexed(a.cs,1,a.DN,0,0);a.B&=-8698}}function xj(a,b){if(a.yx){var d={querySet:a.mj.cC,endOfPassWriteIndex:a.RP};a.WI.has(a.BC)||(d.beginningOfPassWriteIndex=a.BC,a.WI.add(a.BC));b.timestampWrites=d}}
function Ej(a,b){b.pj&&(yj(a),a.ej.beginRenderPass({colorAttachments:[{view:b.Pm(),loadOp:"clear",clearValue:b.tp.toJSON(),storeOp:"store"}]}).end(),a.B|=16384,b.pj=!1)}function mj(a,b){const d=b.offset;b=b.end;0!==(a.B&1024)?(a.Dt=Math.min(a.Dt,d),a.Ix=Math.max(a.Ix,b)):(a.B|=1024,a.Dt=d,a.Ix=b,yj(a))}function Fj(a,b,d){b.vd(a.QN,d.offset/4);b=d.offset;d=d.end;0!==(a.B&2048)?(a.ms=Math.min(a.ms,b),a.Vv=Math.max(a.Vv,d)):(a.B|=2048,a.ms=b,a.Vv=d,yj(a))}
function Gj(a,b){const d=b.offset;b=b.end;0!==(a.B&4096)?(a.Tv=Math.min(a.Tv,d),a.GA=Math.max(a.GA,b)):(a.B|=4096,a.Tv=d,a.GA=b,yj(a))}function Hj(a,b,d){a.Uv[d.offset/4]!==Math.fround(b)&&(a.Uv[d.offset/4]=b,Gj(a,d))}function Ij(a,b,d){a.uG[d.offset/4]!==b&&(a.uG[d.offset/4]=b,Gj(a,d))}function Kj(a,b,d){b.IJ(a.Uv,d.offset/4)||(b.vd(a.Uv,d.offset/4),Gj(a,d))}
function Lj(a,b){if(0!==(a.B&65536)){if(null!==b.Rl)var d=b.Rl.Ts;else if(b.ye&&b.JB&&!b.Ol){d=b.K;const c=[b];for(const e of d.NB)e.m();for(const e of d.Pz){if(14<=c.length)break;e!==b&&c.push(e)}2>c.length||K.j(K.L.vV,d,c);d=null!==b.Rl?b.Rl.Ts:b.In}else d=b.In;Mj(a,d);a.bn=b.TH}else Mj(a,b.In),a.bn=0}function Nj(a,b){b=!!b;0!==(a.B&134217728)!==b&&(tj(a),a.xb(134217728,b),a.B|=32)}function Mj(a,b){b!==a.cn&&(tj(a),a.cn=b,a.B|=64)}function Oj(a,b){b!==a.Wr&&(tj(a),a.Wr=b,a.B|=8192)}
function Pj(a){a=a.oF;if(!a)return"unknown/unknown";const b=a.vendor||"unknown",d=a.architecture||"unknown",c=[];a.device&&c.push(a.device);a.description&&c.push(a.description);a.type&&c.push(a.type);a.backend&&c.push(a.backend);return b+"/"+d+(0<c.length?` (${c.join(", ")})`:"")}
K.L.xV=class extends K.L.fM{constructor(a){super(a);this.ZB=this.sN=this.Kd=this.oF=this.kk=this.pF=null;this.Ek="";this.nt=this.ot=null;this.Ge=this.Jf=0;this.OO=Yi.create();this.OB=this.aG=this.aI=this.Fv=this.$H=this.Jd=null;this.Ev=this.Gv=0;this.Yl=this.rn=this.fA=this.em=this.mm=this.xG=this.IA=this.KA=this.LC=null;this.MC=Qj;this.NC=16*Math.ceil(Rj/16);this.OC=this.kJ=null;this.PN=Sj;this.HA=16*Math.ceil(Tj/16);this.QN=this.wG=null;this.sG=Uj;this.tG=16*Math.ceil(Vj/16);this.uG=this.Uv=this.FA=
null;this.xi=new Float32Array(126E3);this.Sg=new Float32Array(126E3);this.up=new Float32Array(42E3);this.us=new Uint16Array(63E3);this.Xs=new Float32Array(42E3);this.bn=this.Zl=0;this.yl=K.j(K.bb,1,1,1,1);this.Pn=0;this.ai=K.j(K.L.uV,this);this.B=32768;this.GA=this.Tv=this.Vv=this.ms=this.Ix=this.Dt=this.cs=this.DN=0;this.jC=K.j(K.Rect,0,0,0,0);this.xN=K.j(K.bb,1,1,1,1);this.zN=K.j(K.bb,1,1,1,1);this.vW=K.j(K.Rect,0,0,0,0);this.wW=0;this.TI="";this.RH=this.Wr=this.Cv=this.kA=this.Vr=this.cn=this.gj=
this.Tl=this.Hv=this.lv=this.tx=this.oA=this.Wz=null;this.Pz=new Set;this.NB=new Set;this.Rs=8192;this.Xr=this.bq=this.qA=this.kI=null;this.yN=this.lA=0;this.WO=null;this.xI=new Map;this.yp=this.ej=null;this.xv=[];this.eb=this.Yh=null;this.nk=this.$P=this.MF=!1;this.mj=null;this.yx=!1;this.RP=this.BC=-1;this.WI=new Set;this.hK=this.gK=null;this.$E()}nd(){return!0}xb(a,b){this.B=b?this.B|a:this.B&~a}async va(a,b){b=Object.assign({},bj,b);if(!navigator.gpu)throw Error("renderer-unavailable (WebGPU not supported)");
b.depth&&(this.B|=131072);this.MF=!!b.vQ;this.$P=!!b.BR;this.pF={};this.nk=!(!b.depth||!b.Rx);"default"!==b.powerPreference&&(this.pF.powerPreference=b.powerPreference);this.sN=a;Eg(this.us);await ij(this,b.failIfMajorPerformanceCaveat)}async Jo(){super.Jo();const a=this.Kd;this.Ek=navigator.gpu.getPreferredCanvasFormat();this.nt=this.ot=null;let b=aj.RENDER_ATTACHMENT;this.MF&&(b|=aj.TEXTURE_BINDING);this.$P&&(b|=aj.COPY_SRC);this.TI=this.Ek.startsWith("rgba8")||this.Ek.startsWith("bgra8")?this.Ek:
"rgba8unorm";this.B&=100794368;this.B|=7680;hj(this,131072)&&(this.B|=17563648);this.yN=this.lA=this.Zl=0;md(this.yl,1,1,1,1);md(this.xN,1,1,1,1);md(this.zN,1,1,1,1);this.kJ=new ArrayBuffer(this.NC);this.OC=new Float32Array(this.kJ);this.wG=new ArrayBuffer(this.HA);this.QN=new Float32Array(this.wG);this.FA=new ArrayBuffer(this.tG);this.Uv=new Float32Array(this.FA);this.uG=new Uint32Array(this.FA);this.mm=a.createBuffer({label:"vertexbuffer",size:this.xi.byteLength,usage:Zi.VERTEX|Zi.COPY_DST});this.em=
a.createBuffer({label:"texcoordbuffer",size:this.Sg.byteLength,usage:Zi.VERTEX|Zi.COPY_DST});this.fA=a.createBuffer({label:"colorbuffer",size:this.up.byteLength,usage:Zi.VERTEX|Zi.STORAGE|Zi.COPY_DST});this.rn=a.createBuffer({label:"indexbuffer",mappedAtCreation:!0,size:this.us.byteLength,usage:Zi.INDEX});var d=this.rn.getMappedRange();(new Uint16Array(d)).set(this.us);this.rn.unmap();this.Yl=a.createBuffer({label:"pointbuffer",size:this.Xs.byteLength,usage:Zi.VERTEX|Zi.STORAGE|Zi.COPY_DST});this.Wz=
a.createBindGroupLayout({label:"bufferbindgrouplayout",entries:[{binding:0,visibility:$i.VERTEX,buffer:{type:"uniform",minBindingSize:this.NC}},{binding:1,visibility:$i.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.HA}},{binding:2,visibility:$i.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.up.byteLength}},{binding:3,visibility:$i.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.Xs.byteLength}},{binding:4,visibility:$i.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.tG}},
{binding:5,visibility:$i.FRAGMENT,buffer:{type:"uniform"}}]});d=[];for(var c=0;14>c;++c)d.push({binding:2*c,visibility:$i.FRAGMENT,sampler:{type:"filtering"}},{binding:2*c+1,visibility:$i.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}});this.tx=a.createBindGroupLayout({label:"texturebindgrouplayout",entries:d});this.lv=a.createBindGroupLayout({label:"backtexturebindgrouplayout",entries:[{binding:0,visibility:$i.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:$i.FRAGMENT,texture:{sampleType:"float",
viewDimension:"2d"}}]});this.Hv=a.createBindGroupLayout({label:"depthtexturebindgrouplayout",entries:[{binding:0,visibility:$i.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:$i.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d"}}]});this.kI=a.createPipelineLayout({bindGroupLayouts:[this.Wz,this.tx,this.lv,this.Hv]});d=K.L.zz;c=hj(this,67108864);this.qA=a.createShaderModule({label:"<default vertex module>",code:Wj(d.br(),c)});this.qA.getCompilationInfo().then(f=>Xj("<default>",
"vertex",f));this.bq=a.createShaderModule({label:"<normalized vertex module>",code:Wj("\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
c)});this.bq.getCompilationInfo().then(f=>Xj("<normalized>","vertex",f));d=await Promise.all([d.va(this,{name:"<default>",src:Yj(!1),ky:Yj(!0),Sq:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
TY:"\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}),
d.va(this,{name:"<generate-mipmap>",src:"\n\t\t@binding(0) @group(0) var sampler0 : sampler;\n\t\t@binding(1) @group(0) var texture0 : texture_2d<f32>;\n\n\t\tstruct FragmentInput {\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\tstruct FragmentOutput {\n\t\t\t@location(0) color : vec4<f32>\n\t\t};\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = textureSample(texture0, sampler0, vec2<f32>(input.fragUV.x, 1.0 - input.fragUV.y));\n\t\t\treturn output;\n\t\t}",
Sq:"\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\t\t\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar pos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-1.0, 1.0),\n\t\t\t\tvec2<f32>(1.0, 1.0),\n\t\t\t\tvec2<f32>(-1.0, -1.0),\n\t\t\t\tvec2<f32>(1.0, -1.0));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = pos[input.VertexIndex];\n\t\t\toutput.Position = vec4<f32>(p, 0.0, 1.0);\n\t\t\toutput.fragUV = p / 2.0 + 0.5;\n\t\t\treturn output;\n\t\t}"}),
d.va(this,{name:"<point>",src:Zj(!1),ky:Zj(!0),Sq:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct PointData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(3) @group(0) var<storage> pointBuffer : PointData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) pointOpacity : f32\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar normPos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, 0.5),\n\t\t\t\tvec2<f32>(-0.5, 0.5));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = normPos[input.VertexIndex % u32(4)];\n\t\t\tvar pointData : vec4<f32> = pointBuffer.data[input.VertexIndex / u32(4)];\n\n\t\t\tvar size : f32 = pointData.z;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(p * size + pointData.xy, uniforms.zElevation, 1.0);\n\t\t\toutput.pointOpacity = pointData.w;\n\n\t\t\tvar pointTexMin : vec2<f32> = min(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pointTexMax : vec2<f32> = max(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pn : vec2<f32> = p + vec2<f32>(0.5, 0.5);\n\t\t\tvar pointCoord : vec2<f32> = select(vec2<f32>(1.0 - pn.y, pn.x), pn, uniforms.pointTexEnd.x > uniforms.pointTexStart.x);\n\n\t\t\toutput.fragUV = mix(pointTexMin, pointTexMax, pointCoord);\n\t\t\treturn output;\n\t\t}"}),
d.va(this,{name:"<tilemap>",src:ak(!1),ky:ak(!0)}),d.va(this,{name:"<fill>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = input.fragColor;\n\t\t\treturn output;\n\t\t}"}),d.va(this,{name:"<lineargradient>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\tfn fromLinear(linearRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (linearRGB < vec3<f32>(0.0031308));\n\t\t\tvar higher : vec3<f32> = vec3<f32>(1.055) * pow(abs(linearRGB), vec3<f32>(1.0/2.4)) - 0.055;\n\t\t\tvar lower : vec3<f32> = linearRGB * 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\tfn toLinear(sRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (sRGB < vec3<f32>(0.04045));\n\t\t\tvar higher : vec3<f32> = pow(abs((sRGB + 0.055) / 1.055), vec3<f32>(2.4));\n\t\t\tvar lower : vec3<f32> = sRGB / 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar linearGrad : vec3<f32> = mix(toLinear(input.fragColor.rgb), toLinear(uniforms.color2.rgb), vec3<f32>(input.fragUV.x));\n\n\t\t\tvar a : f32 = mix(input.fragColor.a, uniforms.color2.a, input.fragUV.x);\n\t\t\toutput.color = vec4<f32>(fromLinear(linearGrad) * a, a);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.va(this,{name:"<penumbra>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar grad : f32 = input.fragUV.x / (1.0 - input.fragUV.y);\n\t\t\toutput.color = input.fragColor * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
d.va(this,{name:"<hardellipse>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\n\t\t\tvar f : f32 = step(diffSq.x + diffSq.y, 0.25);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),d.va(this,{name:"<hardellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\n\t\t\tvar innerF : f32 = step(distSq, 0.25);\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm * uniforms.outlineThickness;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\t\t\tvar outerF : f32 = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.va(this,{name:"<smoothellipse>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\n\t\t\tvar f : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),
d.va(this,{name:"<smoothellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar pxNorm : vec2<f32> = uniforms.pixelSize * norm;\n\t\t\tvar innerEdge1 : vec2<f32> = halfNorm - pxNorm;\n\t\t\tvar innerEdge1Sq : vec2<f32> = innerEdge1 * innerEdge1;\n\n\t\t\tvar innerF : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\n\t\t\tvar innerEdge2 : vec2<f32> = halfNorm - pxNorm * uniforms.outlineThickness;\n\t\t\tvar innerEdge2Sq : vec2<f32> = innerEdge2 * innerEdge2;\n\t\t\tvar innerEdge3 : vec2<f32> = halfNorm - pxNorm * (uniforms.outlineThickness + 1.0);\n\t\t\tvar innerEdge3Sq : vec2<f32> = innerEdge3 * innerEdge3;\n\n\t\t\tvar outerF : f32 = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
d.va(this,{name:"<tilerandomization>",src:d.Ty(!1),ky:d.Ty(!0)}),d.va(this,{name:"<smoothline>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar f : f32 = 1.0 - abs(input.fragUV.y - 0.5) * 2.0;\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"})]);this.tq=d[0];this.WO=d[1];this.lx=d[2];this.kx=d[4];for(var e of d)Kg(this,e);this.Xr=this.tq;
this.B|=65536;this.RH=this.WO.YE();this.LC=a.createBuffer({label:"vertexuniformbuffer",size:this.NC,usage:Zi.UNIFORM|Zi.COPY_DST});this.KA=a.createBuffer({label:"fragmentuniformbuffer",size:this.HA,usage:Zi.UNIFORM|Zi.COPY_DST});this.IA=a.createBuffer({label:"fragmentc3paramsuniformbuffer",size:this.tG,usage:Zi.UNIFORM|Zi.COPY_DST});this.xG=a.createBuffer({label:"fragmentdefaultcustomparamsbuffer",size:16,usage:Zi.UNIFORM|Zi.COPY_DST});this.Dt=0;this.Ix=this.NC;lj(this);nj(this);oj(this);this.ms=
0;this.Vv=this.HA;Fj(this,this.xN,this.PN.$X);Fj(this,this.zN,this.PN.ZY);this.Wr=this.oA=pj(this,this.xG);e=K.tg(32,32);e.getContext("2d");this.Tl=await this.Tt(e);this.gj=null;this.cn=this.Tl.In;this.bn=0;this.Vr=null;this.kA=this.Tl.Jr;bk(this.Tl);this.$H=this.Kd.createTexture({label:"nulldepthbuffer",size:[8,8,1],format:qj(),usage:aj.TEXTURE_BINDING});this.aI=this.$H.createView({label:"nulldepthbufferview",aspect:"depth-only"});this.Cv=this.OB=this.Kd.createBindGroup({label:"nulldepthbufferbindgroup",
layout:this.Hv,entries:[{binding:0,resource:this.Om({Lc:"nearest"})},{binding:1,resource:this.aI}]});this.Yh=K.j(K.L.SE,this,!0);ck(this.Yh.Rc(),b,this.Ek);this.eb=this.Yh;rj(this);this.oF=this.kk.info;this.ZB||(this.ZB=this.sN.getContext("webgpu"));this.ZB.configure({device:a,format:this.Ek,usage:b,alphaMode:"premultiplied"});fj&&gj("Initialised state")}zf(){return this.Kd}async Ay(a){fj&&gj(`Creating shader program '${a.name}'`);a=await K.L.zz.va(this,a);Kg(this,a);return a}ZE(){return this.kI}Oi(){return hj(this,
32768)}zg(){return hj(this,33554432)}ND(){let a=0;for(const b of K.L.Qu.tJ())b.Ol||(a+=b.eu());return a}Mm(){return!0}Vd(a,b,d){if(this.M!==a||this.N!==b||d)fj&&gj(`Setting size to ${a} x ${b}`),this.Fd(),this.M=a,this.N=b,this.Jf=a,this.Ge=b,this.Yh.ep(),this.gl(th(this.Yh)),this.eb&&this.eb.Yu(this.M,this.N),hj(this,131072)&&hj(this,16777216)&&this.jp(a,b)}jp(a,b){if(this.Jd){if(this.Gv===a&&this.Ev===b)return;this.Jd.destroy()}let d=aj.RENDER_ATTACHMENT;this.nk&&(d|=aj.TEXTURE_BINDING);this.Jd=
this.Kd.createTexture({label:"depthbuffer",size:[a,b,1],format:qj(),usage:d});this.Fv=this.Jd.createView({label:"depthbufferview"});this.nk&&(this.aG=this.Kd.createBindGroup({label:"depthbufferbindgroup",layout:this.Hv,entries:[{binding:0,resource:this.Om({Lc:"nearest"})},{binding:1,resource:this.Jd.createView({label:"depthbufferview",aspect:"depth-only"})}]}));this.Gv=a;this.Ev=b}wM(a,b){hj(this,131072)&&(this.xb(16777216,!1),this.jp(a,b))}uM(){hj(this,131072)&&(this.xb(16777216,!0),this.jp(this.M,
this.N))}gl(a){Yi.Ih(this.Zp,a)||(Yi.ua(this.Zp,a),lj(this))}pz(){this.gl(th(this.eb))}ur(a){Yi.Ih(this.Qs,a)||(Yi.ua(this.Qs,a),lj(this))}oM(){this.xb(268435456,!1)}Cy(){return hj(this,268435456)}Wq(a,b){if(a&&!dk(a)){var d=a.width||a.videoWidth;const c=a.height||a.videoHeight,e=K.tg(d,c);e.getContext("2d").drawImage(a,0,0,d,c);a=e}this.Fd();fj&&gj(`Creating texture ${a?a.width:b.width} x ${a?a.height:b.height}`);d=K.j(K.L.Qu,this);d.Tu(a,b);return d}async Tt(a,b){if(dk(a))return this.Wq(a,b);if(!K.cb.ImageBitmapOptions)throw Error("no support for ImageBitmapOptions");
a=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});return this.Wq(a,b)}Om(a){var b=a.vo||"clamp-to-edge";const d=a.wo||"clamp-to-edge",c=a.Lc;a=a.Gt||0;"trilinear"!==c&&(a=0);const e=`${b},${d},${c},${a}`;let f=this.xI.get(e);if(f)return f;b={addressModeU:b,addressModeV:d,magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest"};if("bilinear"===c||"trilinear"===c)b.magFilter="linear",b.minFilter="linear";"trilinear"===c&&(b.mipmapFilter="linear",1<a&&(b.maxAnisotropy=a));f=this.Kd.createSampler(b);
this.xI.set(e,f);return f}YE(){return this.RH}St(a,b,d){this.Fd();const c=K.j(K.L.Qu,this);c.UE(a,b,d);return c}KM(a,b){b.Lz(a)}Zg(a){a&&(oh(a),0<a.Mb||(this.Oi()||(this.Fd(),this.gj===a&&this.te(null),this.Vr===a&&sj(this,null)),a.gp()))}kp(a,b){this.Oi()||(b?this.Pz.add(a):this.Pz.delete(a))}xr(){fj&&gj("================== START FRAME ===================");uj(this)}Am(){null===this.yp&&this.Yh.pj&&vj(this);super.Am();var a=this.ai,b=this.Ue;if(0===b%30)for(const [d,c]of a.qp.entries()){let e=0;
for(let f=0,g=c.length;f<g;++f){const h=c[f];h.qP<=b-25?(h.Oh(),h.m()):(c[e]=h,++e)}0===e?a.qp.delete(d):ek.lf(c,e)}a=this.Yh.Rc();a.Ha=null;a.$n=null;this.nt=this.ot=a.Jr=null;fj&&gj("End of frame");10<=this.Ue&&(fj=!1)}Fd(a=!1){yj(this);if(this.mj&&a){var b=this.mj,d=this.ej;d.resolveQuerySet(b.cC,0,b.ct,b.hC,0);d.copyBufferToBuffer(b.hC,0,b.Uw,0,8*b.ct);this.B|=16384}0!==(this.B&16384)&&(this.xv.push(this.ej.finish()),rj(this));if(0!==this.xv.length){fj&&gj("Ending batch");this.mF();fj&&gj(`Submitting ${this.xv.length} commands`);
this.Kd.queue.submit(this.xv);K.D(this.xv);b=this.ai;for(const c of b.fC)fk(c);ek.D(b.fC);for(const c of b.qI)c.Oh(),c.m();ek.D(b.qI);for(const c of b.rA)c.destroy();ek.D(b.rA);this.mj&&a&&(gk(this.mj),this.mj=null)}}mF(){const a=this.Kd.queue;if(0<this.Zl){const b=this.Zl;fj&&gj("Writing vertex buffers");a.writeBuffer(this.mm,0,this.xi.buffer,0,48*b);a.writeBuffer(this.em,0,this.Sg.buffer,0,48*b);a.writeBuffer(this.fA,0,this.up.buffer,0,16*b);this.Zl=0}0<this.Pn&&(fj&&gj("Writing point buffer"),
a.writeBuffer(this.Yl,0,this.Xs.buffer,0,4*this.Pn),this.Pn=0)}TK(a){let b=this.M,d=this.N,c=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),c=!1),"number"===typeof a.height&&(d=Math.floor(a.height),c=!1));if(0>=b||0>=d)throw Error("invalid size");this.Fd();const e=K.j(K.L.SE,this);e.Tu(b,d,Object.assign({Xx:c},a));return e}xd(a,b=!0){null===a&&(a=this.Yh);this.eb!==a&&(yj(this),this.eb=a,this.xb(524288,a.Dc),a.Nl&&!a.un&&a.Yu(this.M,this.N),b&&this.pz())}Ko(){}Ni(){return this.eb===this.Yh?
null:this.eb}mu(a){return null===a?[this.M,this.N]:[a.S(),a.R()]}VK(a){this.Fd();this.eb===a&&this.xd(null);const b=a.Rc();this.gj===b&&this.te(null);this.Vr===b&&sj(this,null);a.gp()}re(a){0!==(this.B&131072)&&(a=!!a,0!==(this.B&262144)!==a&&(0!==(this.B&524288)&&yj(this),this.xb(262144,a)))}xu(){return hj(this,262144)}rr(a){if(this.nk){if(a&&this.xu())throw Error("depth still enabled");a=a?this.aG:this.OB;this.Cv!==a&&(tj(this),this.Cv=a,this.B|=256)}}Ed(a){yj(this);this.eb.pj=!0;this.eb.tp.set(a)}Yg(a,
b,d,c){yj(this);this.eb.pj=!0;md(this.eb.tp,a,b,d,c)}CD(){655360===(this.B&655360)&&(yj(this),this.B|=1048576)}zM(a,b,d,c){a=Math.floor(a);b=Math.floor(b);d=Math.floor(d);c=Math.floor(c);0!==(this.B&4)&&Cd(this.jC,a,b,d,c)||(tj(this),this.B|=12,Bd(this.jC,a,b,d,c))}AE(){0!==(this.B&4)&&(tj(this),this.B&=-5,this.B|=8)}hk(a){this.Xr!==a&&(tj(this),this.Xr=a,this.Cf=null,this.B|=32,a=a===this.tq,a=!!a,0!==(this.B&65536)!==a&&(this.xb(65536,a),Lj(this,null===this.gj?this.Tl:this.gj)))}te(a){a!==this.gj&&
(this.gj=a,null===a&&(a=this.Tl),Lj(this,a))}Le(a){a!==this.lA&&(tj(this),this.lA=a,this.Cf=null,this.B|=32)}Ku(){this.Le(0)}Zo(){this.Le(3)}Me(a,b,d,c){const e=this.yl;sd(e,a,b,d,c)||(md(e,a,b,d,c),this.Cf=null)}yg(a){const b=this.yl;b.Oa!==a&&(qd(b,a),this.Cf=null)}kc(){return this.yl.Oa}el(a){const b=this.yl;b.Xc(a)||(b.set(a),this.Cf=null)}Rect(a){this.Gu(a.V,a.T,a.da,a.aa)}Gu(a,b,d,c){this.vE(a,b,d,b,d,c,a,c)}wd(a){this.cM(a,cj)}vE(a,b,d,c,e,f,g,h){Aj(this);const k=this.xi,l=this.Zl++;let m=
12*l;const n=this.Fg+this.Al;k[m++]=a;k[m++]=b;k[m++]=n;k[m++]=d;k[m++]=c;k[m++]=n;k[m++]=e;k[m++]=f;k[m++]=n;k[m++]=g;k[m++]=h;k[m]=n;Kd(cj,this.Sg,12*l,this.bn);this.yl.vd(this.up,4*l)}Jm(a,b){Aj(this);const d=this.Zl++;Kd(a,this.xi,12*d,this.Fg+this.Al);a=this.Sg;var c=12*d,e=this.bn;a[c++]=b.V;a[c++]=b.T;a[c++]=e;a[c++]=b.da;a[c++]=b.T;a[c++]=e;a[c++]=b.da;a[c++]=b.aa;a[c++]=e;a[c++]=b.V;a[c++]=b.aa;a[c]=e;this.yl.vd(this.up,4*d)}cM(a,b){Aj(this);const d=this.Zl++;Kd(a,this.xi,12*d,this.Fg+this.Al);
Kd(b,this.Sg,12*d,this.bn);this.yl.vd(this.up,4*d)}Eu(a,b,d,c,e,f,g,h,k,l,m,n,p){Aj(this);const q=this.xi,t=this.Zl++;let r=12*t;const u=this.Fg+this.Al;q[r++]=a;q[r++]=b;q[r++]=u+d;q[r++]=c;q[r++]=e;q[r++]=u+f;q[r++]=g;q[r++]=h;q[r++]=u+k;q[r++]=l;q[r++]=m;q[r]=u+n;Kd(p,this.Sg,12*t,this.bn);this.yl.vd(this.up,4*t)}vz(a,b,d,c,e,f,g,h,k,l,m){f=this.sG;g=this.Xr;m%=10800;g.Mr&&sj(this,a);g.YP&&(Kj(this,b,f.iY),Kj(this,d,f.mR),Kj(this,c,f.iZ),Kj(this,e,f.Iq));Hj(this,h,f.devicePixelRatio);Hj(this,k,
f.Zx);Hj(this,l,f.Yx);Hj(this,m,f.lD);Hj(this,this.Gn,f.wZ);Hj(this,this.gn,f.vZ)}uz(a){a&&(a.fB&&(yj(this),wj(a.wa().ai,this.ej,a.Hd,a.AF,0,a.IF),a.fB=!1),Oj(this,a.HF))}zy(a){a.pj?(this.eb.pj=!0,this.eb.tp.set(a.tp)):2<=a.Od&&2>this.eb.Od?(Ej(this,a),yj(this),this.ej.beginRenderPass({colorAttachments:[{view:a.Rc().Pm(),resolveTarget:this.eb.Rc().Pm(),loadOp:"load",storeOp:"store"}]}).end(),this.B|=16384):(this.Yg(0,0,0,0),this.Zo(),Ti(this),this.Zq(a))}Zq(a){Ej(this,a);a=a.Rc();this.te(a);this.Yt()}Yt(){const a=
hj(this,134217728);a||Nj(this,!0);Pg(this,0);ej.set(0,-1,0,-1,2,1,0,1);dj.set(0,-1,2,1);this.Jm(ej,dj);a||Nj(this,!1)}ED(){yj(this);this.re(!0);this.B|=10485760}yy(){yj(this);this.re(!1);this.B&=-2097153;this.B|=4194304}HL(){return hj(this,4194304)}xy(){yj(this);this.re(!0);this.B&=-4194305}$E(){Og(this,[["normal","one","one-minus-src-alpha"],["additive","one","one"],["xor","one","one-minus-src-alpha"],["copy","one","zero"],["destination-over","one-minus-dst-alpha","one"],["source-in","dst-alpha",
"zero"],["destination-in","zero","src-alpha"],["source-out","one-minus-dst-alpha","zero"],["destination-out","zero","one-minus-src-alpha"],["source-atop","dst-alpha","one-minus-src-alpha"],["destination-atop","one-minus-dst-alpha","src-alpha"]])}};"use strict";const ek=self.A;
function wj(a,b,d,c,e,f){var g=Math.max(ek.Jq(f),16);var h=a.qp.get(g);if("undefined"!==typeof h&&0<h.length){var k=h.pop();0===h.length&&a.qp.delete(g);g=k}else g=ek.j(ek.L.wV,a,g);h=g.Hd;k=h.getMappedRange(0,f);(new Uint8Array(k)).set(new Uint8Array(c,e,f));h.unmap();b.copyBufferToBuffer(h,0,d,e,f);a.fC.push(g)}ek.L.uV=class{constructor(a){this.K=a;this.qp=new Map;this.fC=[];this.qI=[];this.rA=[]}wa(){return this.K}pd(){this.qp.clear();ek.D(this.fC);ek.D(this.qI);ek.D(this.rA)}};"use strict";
const hk=self.GPUBufferUsage,ik=self.GPUMapMode;async function fk(a){try{await a.Hd.mapAsync(ik.WRITE)}catch(d){console.warn("[WebGPU] Error recycling buffer, assuming device was lost: ",d);return}if(!a.wa().Oi()){a.qP=a.wa().Ue;var b=a.ai;const d=a.Oh(),c=b.qp.get(d);"undefined"===typeof c?b.qp.set(d,[a]):c.push(a)}}
self.A.L.wV=class{constructor(a,b){this.ai=a;this.it=b;this.Hd=this.wa().zf().createBuffer({mappedAtCreation:!0,size:b,usage:hk.COPY_SRC|hk.MAP_WRITE});this.qP=0}wa(){return this.ai.wa()}Oh(){return this.it}m(){this.Hd.destroy();this.ai=this.Hd=null}};"use strict";const jk=self.GPUBufferUsage;
function kk(a,b,d){var c=a.ic.ta[b];b=c.type;const e=c.offset/4;c=a.HN;if("color"===b){if(c[e]!==Math.fround(d.Ua)||c[e+1]!==Math.fround(d.Ya)||c[e+2]!==Math.fround(d.Sa))b=e,c[b++]=d.Ua,c[b++]=d.Ya,c[b]=d.Sa,a.fB=!0}else if("float"===b||"percent"===b)c[e]!==Math.fround(d)&&(c[e]=d,a.fB=!0);else throw Error(`unexpected shader param type '${b}'`);}
self.A.L.PM=class{constructor(a){const b=a.wa();this.ic=a;this.IF=a.mA;this.AF=new ArrayBuffer(this.IF);this.HN=new Float32Array(this.AF);this.fB=!1;this.Hd=b.zf().createBuffer({size:this.IF,usage:jk.UNIFORM|jk.COPY_DST});this.HF=pj(b,this.Hd)}m(){var a=this.wa();a.Wr===this.HF&&Oj(a,a.oA);this.wa().ai.rA.push(this.Hd);this.HF=this.HN=this.AF=this.ic=this.Hd=null}wa(){return this.ic.wa()}Td(){return this.ic}};"use strict";const lk=self.A;
function mk(a){for(const b of Object.values(a))b.end=b.offset+b.size}function Dj(){const a=[];for(let b=0;55>b;++b)a.push(null);return a}const Qj={transform:{offset:0,size:64,end:0},$Y:{offset:64,size:16,end:0},M8:{offset:64,size:8,end:0},L8:{offset:72,size:8,end:0},Tj:{offset:80,size:4,end:0}};mk(Qj);
const Rj=Qj.Tj.end,Sj={$X:{offset:0,size:16,end:0},ZY:{offset:16,size:16,end:0},R9:{offset:32,size:8,end:0},S9:{offset:40,size:8,end:0},mR:{offset:48,size:16,end:0},J9:{offset:48,size:8,end:0},I9:{offset:56,size:8,end:0},K8:{offset:64,size:8,end:0},XY:{offset:72,size:4,end:0}};mk(Sj);
const Tj=Sj.XY.end,nk="srcStart srcEnd srcOriginStart srcOriginEnd c3_srcToNorm c3_normToSrc c3_clampToSrc c3_srcOriginToNorm c3_normToSrcOrigin c3_clampToSrcOrigin c3_getLayoutPos c3_srcToDest".split(" "),ok=["layoutStart","layoutEnd","destStart","destEnd","c3_clampToDest"],Uj={mR:{offset:0,size:16,end:0},K9:{offset:0,size:8,end:0},F9:{offset:8,size:8,end:0},iZ:{offset:16,size:16,end:0},H9:{offset:16,size:8,end:0},G9:{offset:24,size:8,end:0},Iq:{offset:32,size:16,end:0},e8:{offset:32,size:8,end:0},
d8:{offset:40,size:8,end:0},iY:{offset:48,size:16,end:0},N6:{offset:48,size:8,end:0},M6:{offset:56,size:8,end:0},devicePixelRatio:{offset:64,size:4,end:0},Zx:{offset:68,size:4,end:0},Yx:{offset:72,size:4,end:0},lD:{offset:76,size:4,end:0},wZ:{offset:80,size:4,end:0},vZ:{offset:84,size:4,end:0},XJ:{offset:88,size:4,end:0}};mk(Uj);const Vj=Uj.XJ.end,pk=new Map([["float",4],["percent",4],["color",12]]),qk=new Map([["float",4],["percent",4],["color",16]]);
function Xj(a,b,d){for(const c of d.messages)d=`[WebGPU] Message (${c.type}) compiling ${b} shader '${a}': ${c.message} (line ${c.lineNum}, pos ${c.linePos})`,"error"===c.type?console.error(d):"warning"===c.type?console.warn(d):console.log(d)}function Yj(a){return`
		@binding(0) @group(1) var sampler0 : sampler;
		@binding(1) @group(1) var texture0 : texture_2d<f32>;
		@binding(2) @group(1) var sampler1 : sampler;
		@binding(3) @group(1) var texture1 : texture_2d<f32>;
		@binding(4) @group(1) var sampler2 : sampler;
		@binding(5) @group(1) var texture2 : texture_2d<f32>;
		@binding(6) @group(1) var sampler3 : sampler;
		@binding(7) @group(1) var texture3 : texture_2d<f32>;
		@binding(8) @group(1) var sampler4 : sampler;
		@binding(9) @group(1) var texture4 : texture_2d<f32>;
		@binding(10) @group(1) var sampler5 : sampler;
		@binding(11) @group(1) var texture5 : texture_2d<f32>;
		@binding(12) @group(1) var sampler6 : sampler;
		@binding(13) @group(1) var texture6 : texture_2d<f32>;
		@binding(14) @group(1) var sampler7 : sampler;
		@binding(15) @group(1) var texture7 : texture_2d<f32>;
		@binding(16) @group(1) var sampler8 : sampler;
		@binding(17) @group(1) var texture8 : texture_2d<f32>;
		@binding(18) @group(1) var sampler9 : sampler;
		@binding(19) @group(1) var texture9 : texture_2d<f32>;
		@binding(20) @group(1) var sampler10 : sampler;
		@binding(21) @group(1) var texture10 : texture_2d<f32>;
		@binding(22) @group(1) var sampler11 : sampler;
		@binding(23) @group(1) var texture11 : texture_2d<f32>;
		@binding(24) @group(1) var sampler12 : sampler;
		@binding(25) @group(1) var texture12 : texture_2d<f32>;
		@binding(26) @group(1) var sampler13 : sampler;
		@binding(27) @group(1) var texture13 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec3<f32>,
			@location(1) fragColor : vec4<f32>,
			${a?"@builtin(position) fragPos: vec4<f32>":""}
		};

		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var texXy : vec2<f32> = input.fragUV.xy;
			var texIndex : f32 = input.fragUV.z;
			var c : vec4<f32>;

			let dx = dpdx(texXy);
			let dy = dpdy(texXy);
			
			if (texIndex < 6.5)
			{
				if (texIndex < 2.5)
				{
					if (texIndex < 0.5)			{	c = textureSampleGrad(texture0, sampler0, texXy, dx, dy);	}
					else
					{
						if (texIndex < 1.5)		{	c = textureSampleGrad(texture1, sampler1, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture2, sampler2, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 4.5)
					{
						if (texIndex < 3.5)		{	c = textureSampleGrad(texture3, sampler3, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture4, sampler4, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 5.5)		{	c = textureSampleGrad(texture5, sampler5, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture6, sampler6, texXy, dx, dy);	}
					}
				}
			}
			else
			{
				if (texIndex < 9.5)
				{
					if (texIndex < 7.5)			{	c = textureSampleGrad(texture7, sampler7, texXy, dx, dy);	}
					else
					{
						if (texIndex < 8.5)		{	c = textureSampleGrad(texture8, sampler8, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture9, sampler9, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 11.5)
					{
						if (texIndex < 10.5)	{	c = textureSampleGrad(texture10, sampler10, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture11, sampler11, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 12.5)	{	c = textureSampleGrad(texture12, sampler12, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture13, sampler13, texXy, dx, dy);	}
					}
				}
			}

			output.color = c * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function Zj(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec2<f32>,
			@location(1) pointOpacity : f32,
			@builtin(position) fragPos : vec4<f32>
		};
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			output.color = textureSample(texture0, sampler0, input.fragUV) * uniforms.pointColor * input.pointOpacity;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function ak(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		%%FRAGMENTINPUT_STRUCT%%
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var halfPixelSize : vec2<f32> = vec2<f32>(0.5, 0.5) / vec2<f32>(textureDimensions(texture0));

			var tile : vec2<f32> = floor(input.fragUV);
			var tex : vec2<f32> = fract(input.fragUV);
			var tileOrigin : vec2<f32> = uniforms.srcRectStart + tile * (uniforms.tileSize + uniforms.tileSpacing);
			var lowerBound : vec2<f32> = tileOrigin + halfPixelSize;
			var upperBound : vec2<f32> = tileOrigin + uniforms.tileSize - halfPixelSize;

			output.color = textureSampleLevel(texture0, sampler0, clamp(tex, lowerBound, upperBound), 0.0) * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function rk(a,b){a=Wj(a,b);return lk.ZU(a)}function sk(a,b){return a.zf().createRenderPipelineAsync(Cj(a,0,b,0))}function Wj(a,b){return a?(b?"enable f16;\nalias f16or32 = f16;\n":"alias f16or32 = f32;\n")+a:a}
function Cj(a,b,d,c){const [e,f]=a.K.Uz[b];b={label:`${a.ka()} blendMode ${b} variant ${d} multisampleCount ${c}`,layout:a.ZE(),vertex:{module:4===d?a.bq:a.jJ,entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:a.ns,entryPoint:"main",targets:[{format:a.K.Ek,blend:{color:{srcFactor:e,dstFactor:f},alpha:{srcFactor:e,dstFactor:f}}}]}};2<=c&&(b.multisample=
{count:c});1===d?(b.fragment.module=a.JA||a.ns,b.depthStencil={format:qj(),depthWriteEnabled:!0,depthCompare:"less-equal"}):2===d?(b.fragment.module=a.JA||a.ns,b.fragment.targets=[],a={compare:"always",failOp:"keep",depthFailOp:"keep",passOp:"replace"},b.depthStencil={format:qj(),depthWriteEnabled:!0,depthCompare:"less-equal",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:1}):3===d&&(b.fragment.module=a.JA||a.ns,a={compare:"equal",failOp:"keep",depthFailOp:"keep",passOp:"keep"},b.depthStencil=
{format:qj(),depthWriteEnabled:!1,depthCompare:"always",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:0});return b}
lk.L.zz=class extends lk.L.CM{constructor(a,b){super(a,b);this.ns=b.nY;this.JA=b.pY;this.jJ=b.uZ;this.bq=b.SY;this.gt=Dj();this.UH=new Map;this.SH=new Map;this.aQ=this.YP=!1;this.ta=[];this.mA=0;if(b.parameters){a=0;for(const d of b.parameters){b=d[2];if(!pk.has(b))throw Error(`unrecognized effect param type '${b}'`);const c=pk.get(b),e=qk.get(b),f=a%e;0!==f&&(a+=e-f);this.ta.push({type:b,offset:a,size:c,end:a+c});a+=c}this.mA=16*Math.ceil(a/16)}}static async va(a,b){var d=a.zf();const c=b.name;var e=
hj(a,67108864);const f=b.src;var g=rk(f,e);g=d.createShaderModule({label:c,code:g});var h=null;b.ky&&(h=rk(b.ky,e),h=d.createShaderModule({label:c,code:h}));g.getCompilationInfo().then(l=>Xj(c,"fragment",l));var k;(k=Wj(b.Sq,e))?(k=d.createShaderModule({label:c,code:k}),k.getCompilationInfo().then(l=>Xj(c,"vertex",l))):k=a.qA;(e=Wj(b.TY,e))?(d=d.createShaderModule({label:c,code:e}),d.getCompilationInfo().then(l=>Xj(c,"vertex (norm)",l))):d=a.bq;b=lk.j(lk.L.zz,a,Object.assign({nY:g,pY:h,uZ:k,SY:d},
b));b.Hx=f.includes("%%C3PARAMS_STRUCT%%")&&nk.some(l=>f.includes(l));b.YP=b.Hx||f.includes("%%C3PARAMS_STRUCT%%")&&ok.some(l=>f.includes(l));b.aQ=f.includes("%%C3PARAMS_STRUCT%%")&&f.includes("isSrcTexRotated");if("<generate-mipmap>"!==c){d=sk(b,0);g=null;hj(a,131072)&&(g=sk(b,1));const [l,m]=await Promise.all([d,g]);b.gt[0]=l;m&&(b.gt[1]=m)}return b}m(){this.bq=this.jJ=this.JA=this.ns=null;for(let a=0,b=this.gt.length;a<b;++a)this.gt[a]=null;this.UH.clear();this.SH.clear();super.m()}zf(){return this.K.zf()}ZE(){return this.K.ZE()}wa(){return this.K}LM(){return this.aQ}lL(){return this.ta.length}ku(a){return 0>
a||a>=this.ta.length?null:this.ta[a].type}static br(){return"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}YE(){var a;
a||(a=this.K.TI);let b=this.SH.get(a);b||(b=this.zf().createRenderPipeline({label:"<mipmap generator>",layout:"auto",vertex:{module:this.jJ,entryPoint:"main"},primitive:{topology:"triangle-strip",stripIndexFormat:"uint16"},fragment:{module:this.ns,entryPoint:"main",targets:[{format:a,blend:{color:{srcFactor:"one",dstFactor:"zero"},alpha:{srcFactor:"one",dstFactor:"zero"}}}]}}),this.SH.set(a,b));return b}static Ty(a){return`
${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

%%FRAGMENTINPUT_STRUCT%%

struct FragmentOutput {
	@location(0) color : vec4<f32>,
	${a?"@builtin(frag_depth) fragDepth: f32":""} 
};

%%C3_UTILITY_FUNCTIONS%%

const PI : f32 = 3.1415926;

fn cospVec4(a : vec4<f32>, b : vec4<f32>, x : f32) -> vec4<f32>
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

fn randVec3(seed : vec2<f32>) -> vec3<f32>
{
	return vec3<f32>(
		fract(sin(dot(seed.xy, vec2<f32>(12.9898,78.233))) * 43758.5453),
		fract(sin(dot(seed.yx, vec2<f32>(12.9898,-78.233))) * 43758.5453),
		fract(sin(dot(seed.xy, vec2<f32>(-12.9898,-78.233))) * 43758.5453));
}

fn sampleTile(tile : vec2<f32>, uv : vec2<f32>, ddx : vec2<f32>, ddy : vec2<f32>) -> vec4<f32>
{
	var posRandom = uniforms.tileSize;
	var angleRandom = uniforms.outlineThickness;
	var pixelSize = c3_getPixelSize(texture0);
	
	var rand = (randVec3(round(tile)) - 0.5) * 2.0;
	
	var angle = angleRandom * rand.z * PI;
	var sin_a = sin(angle);
	var cos_a = cos(angle);
	var aspect = pixelSize.x / pixelSize.y;

	var mid = tile + vec2<f32>(0.5, 0.5);
	var dp = uv - mid;
	dp.x /= aspect;
	var r = vec2<f32>(dp.x * cos_a - dp.y * sin_a,
					  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	var p = mid + r + (posRandom * rand.xy / 2.0);
	
	return textureSampleGrad(texture0, sampler0, p, ddx, ddy);
}

@fragment
fn main(input : FragmentInput) -> FragmentOutput
{
	var output : FragmentOutput;
	
	var blendMarginX = uniforms.tileSpacing.x;
	var blendMarginY = uniforms.tileSpacing.y;
	
	var tile = floor(input.fragUV);
	var tex = fract(input.fragUV);
	var ddx = dpdx(input.fragUV);
	var ddy = dpdy(input.fragUV);
	
	var curTile = sampleTile(tile, input.fragUV, ddx, ddy);
	
	var inLeftMargin = (tex.x < blendMarginX);
	var inRightMargin = (tex.x > 1.0 - blendMarginX);
	var inTopMargin = (tex.y < blendMarginY);
	var inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		var leftTile = sampleTile(tile + vec2<f32>(-1.0, 0.0), input.fragUV, ddx, ddy);
		var leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		var leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			var topTile =     sampleTile(tile + vec2<f32>(0.0,  -1.0), input.fragUV, ddx, ddy);
			var topLeftTile = sampleTile(tile + vec2<f32>(-1.0, -1.0), input.fragUV, ddx, ddy);
			var topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			output.color = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =     sampleTile(tile + vec2<f32>(0.0,  1.0), input.fragUV, ddx, ddy);
			var bottomLeftTile = sampleTile(tile + vec2<f32>(-1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			output.color = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		var rightTile = sampleTile(tile + vec2(1.0, 0.0), input.fragUV, ddx, ddy);
		var rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		var rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			var topTile =      sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
			var topRightTile = sampleTile(tile + vec2<f32>(1.0, -1.0), input.fragUV, ddx, ddy);
			var topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			output.color = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =      sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightTile = sampleTile(tile + vec2<f32>(1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			output.color = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		var topTile = sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		var bottomTile = sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		output.color = curTile;
	}
	
	output.color *= input.fragColor;
	${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
	return output;
}
`}};"use strict";
const tk=self.A,uk=new Set(["nearest","bilinear","trilinear"]),vk=new Set(["clamp-to-edge","repeat","mirror-repeat"]),wk=self.GPUTextureUsage,xk={vo:"clamp-to-edge",wo:"clamp-to-edge",Lc:"trilinear",Gt:0,tm:!0,UJ:!1,Di:!1,po:!1,SC:!1,Pt:0,width:-1,height:-1},yk=[[1,["r8unorm","r8snorm","r8uint","r8sint","stencil8"]],[2,"r16uint r16sint r16float rg8unorm rg8snorm rg8uint rg8sint depth16unorm".split(" ")],[3,["depth24plus"]],[4,"r32uint r32sint r32float rg16uint rg16sint rg16float rgba8unorm rgba8unorm-srgb rgba8snorm rgba8uint rgba8sint bgra8unorm bgra8unorm-srgb rgb9e5ufloat rgb10a2uint rgb10a2unorm rg11b10ufloat depth24plus-stencil8 depth32float".split(" ")],[8,
"rg32uint rg32sint rg32float rgba16uint rgba16sint rgba16float".split(" ")],[16,["rgba32uint","rgba32sint","rgba32float"]],[5,["depth32float-stencil8"]]],zk=new Map;for(const [a,b]of yk)for(const d of b)zk.set(d,a);const Ak=new Set,Bk={premultiplyAlpha:!0,flipY:!1};function bk(a){a.JB=!1;a.kp(!1)}function ck(a,b,d){a.Eh=b;a.mn=d}
function dk(a){return a instanceof ImageBitmap||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas}
function Ck(a){const b=a.K,d=b.zf();a.Eh=0;a.Ol?(a.Eh=wk.RENDER_ATTACHMENT,a.th&&(a.Eh|=wk.TEXTURE_BINDING),a.rN&&(a.Eh|=wk.COPY_DST),a.mn=a.K.Ek):(a.Eh=wk.COPY_DST|wk.TEXTURE_BINDING,a.mn=a.K.TI);a.LF&&(a.Eh|=wk.COPY_SRC);a.Ha=d.createTexture({size:[a.M,a.N,1],mipLevelCount:Dk(a),format:a.mn,usage:a.Eh,sampleCount:2<=a.Od?a.Od:1});a.$n=a.Ha.createView();const c=[];for(let e=0;14>e;++e)c.push({binding:2*e,resource:a.Yw},{binding:2*e+1,resource:a.$n});if(!a.Ol||a.th)a.In=d.createBindGroup({layout:b.tx,
entries:c}),a.Jr=d.createBindGroup({layout:b.lv,entries:[{binding:0,resource:a.K.Om({Lc:"nearest"})},{binding:1,resource:a.$n}]});a.ye&&a.JB&&!a.Ol&&a.kp(!0);Ak.add(a)}
function Ek(a,b){a.Lk=b.vo;a.Mk=b.wo;a.uc=b.Lc;a.pp=b.Gt;a.Lg=!!b.tm&&a.K.Dp&&"nearest"!==b.Lc;a.Ol=!!b.UJ;a.th=!!b.Di;a.LF=!!b.po;a.rN=!!b.SC;a.Od=2<=b.Pt?4:1;if(!uk.has(a.uc))throw Error("invalid sampling");if(!vk.has(a.Lk)||!vk.has(a.Mk))throw Error("invalid wrap mode");if(2<=a.Od&&a.th)throw Error("invalid use of multisampling");"nearest"===a.uc&&(a.pp=0);a.Yw=a.K.Om({vo:a.Lk,wo:a.Mk,Lc:a.uc,Gt:a.pp});Ck(a);a.Mb=1}function Dk(a){return a.Lg?Math.floor(Math.log2(Math.max(a.M,a.N))+1):1}
function Fk(a){Ak.delete(a);a.Rl&&a.Rl.m();a.kp(!1);a.Ha.destroy();a.Ha=null;a.$n=null;a.In=null;a.Jr=null}function Gk(a){return"undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||a instanceof ImageData}
function Hk(a,b,d=!0){if(a.Lg)Ik(a,b,Dk(a),d);else{const c=a.K.zf(),e=c.createCommandEncoder(),f=c.createTexture({size:[a.M,a.N,1],mipLevelCount:1,format:a.mn,usage:wk.COPY_SRC|wk.COPY_DST|wk.RENDER_ATTACHMENT});Jk(a,f,b,d);e.copyTextureToTexture({texture:f,mipLevel:0},{texture:a.Ha,mipLevel:0},[a.M,a.N,1]);c.queue.submit([e.finish()]);f.destroy()}}
function Ik(a,b,d,c=!0){const e=a.K.zf(),f=e.createTexture({size:[a.M,a.N,1],mipLevelCount:Dk(a),format:a.mn,usage:wk.COPY_DST|wk.COPY_SRC|wk.TEXTURE_BINDING|wk.RENDER_ATTACHMENT}),g=a.K.YE(),h=g.getBindGroupLayout(0),k=a.K.Om({Lc:"bilinear"}),l=e.createCommandEncoder();Jk(a,f,b,c);l.copyTextureToTexture({texture:f,mipLevel:0},{texture:a.Ha,mipLevel:0},[a.M,a.N,1]);b=[];for(c=0;c<d;++c)b.push(f.createView({baseMipLevel:c,mipLevelCount:1}));c=a.M;let m=a.N;for(let n=1;n<d;++n){c/=2;m/=2;const p=Math.max(Math.floor(c),
1),q=Math.max(Math.floor(m),1),t=l.beginRenderPass({colorAttachments:[{view:b[n],loadOp:"clear",clearValue:[0,0,0,0],storeOp:"store"}]}),r=e.createBindGroup({layout:h,entries:[{binding:0,resource:k},{binding:1,resource:b[n-1]}]});t.setPipeline(g);t.setBindGroup(0,r);t.draw(4);t.end();l.copyTextureToTexture({texture:f,mipLevel:n},{texture:a.Ha,mipLevel:n},[p,q,1])}e.queue.submit([l.finish()]);f.destroy()}
function Jk(a,b,d,c=!0){const [e,f]=[d.width||d.videoWidth,d.height||d.videoHeight];a.K.zf().queue.copyExternalImageToTexture({source:d},{texture:b,mipLevel:0,premultipliedAlpha:!!c},[e,f,1])}
tk.L.Qu=class{constructor(a,b){this.K=a;this.Ha=null;this.mn="";this.Jr=this.In=this.Yw=this.$n=null;this.N=this.M=0;this.ye=!0;this.Mk=this.Lk="clamp-to-edge";this.uc="trilinear";this.pp=0;this.Lg=!1;this.Mb=0;this.rN=this.LF=this.th=this.Ol=!1;this.Eh=this.Od=0;this.JB=!0;this.Rl=null;this.TH=0;if(this.fH=!!b)this.mn=this.K.Ek,this.th=this.Ol=!0,this.Yw=this.K.Om({Lc:"nearest"})}Tu(a,b){if(a&&!dk(a))throw new TypeError("invalid texture source");b=Object.assign({},xk,b);if(this.Ha)throw Error("already created texture");
this.ye=!0;if(a){const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];this.M=d;this.N=c}else if(this.M=b.width,this.N=b.height,0>=this.M||0>=this.N)throw Error("invalid texture size");Ek(this,b);if(this.Ol||this.th)throw Error("static texture cannot be render target");a&&Hk(this,a)}UE(a,b,d){d=Object.assign({},xk,d);if(this.Ha)throw Error("already created texture");this.ye=!1;this.M=a;this.N=b;Ek(this,d)}async Lz(a){if(!dk(a)&&!Gk(a))throw Error("invalid texture source");if(!this.Ha||0>=this.Mb)throw Error("texture not created");
if(this.ye)throw Error("cannot update static texture");var b=Object.assign({},Bk,b);if(Gk(a)||b.flipY||!b.premultiplyAlpha)if(a=await createImageBitmap(a,{premultiplyAlpha:b.premultiplyAlpha?"premultiply":"none",imageOrientation:b.flipY?"flipY":"none"}),!this.Ha)return;this.K.Fd();const [d,c]=[a.width||a.videoWidth,a.height||a.videoHeight];if(this.M!==d||this.N!==c){Fk(this);this.M=d;this.N=c;Ck(this);var e=this.K;e.gj===this&&(tj(e),e.cn=this.In,e.B|=64)}Hk(this,a,b.premultiplyAlpha)}gp(){if(0<this.Mb)throw Error("texture still has references");
if(!this.Ha)throw Error("already deleted texture");Fk(this)}kp(a){this.K.kp(this,a)}S(){return this.fH?this.K.S():this.M}R(){return this.fH?this.K.R():this.N}wa(){return this.K}Pm(){return this.$n}Om(){return this.Yw}Mo(){return"nearest"!==this.uc}mr(){return this.th}uy(){return this.LF}eu(){var a=this.S()*this.R();const b=zk.get(this.mn);a*="number"===typeof b?b:NaN;this.Lg&&(a+=Math.floor(a/3));return a}static pd(){}static tJ(){return Ak.values()}};"use strict";const Kk=self.A;
function Lk(a){if(null!==a.Ts){var b=a.K;b.cn===a.Ts&&(tj(b),b.cn=(null===b.gj?b.Tl:b.gj).In,b.bn=0,b.B|=64)}a.Ts=null}
Kk.L.vV=class{constructor(a,b){if(2>b.length)throw Error("invalid multi-texture group");this.K=a;this.AC=b;this.Ts=null;for(let c=0,e=b.length;c<e;++c){a=b[c];var d=c;if(a.Rl)throw Error("already in a group");a.Rl=this;a.TH=d;a.kp(!1)}14>b.length&&this.K.NB.add(this);Lk(this);b=this.K.zf();a=[];for(d=0;14>d;++d){const c=this.AC[Math.min(d,this.AC.length-1)];a.push({binding:2*d,resource:c.Om()},{binding:2*d+1,resource:c.Pm()})}this.Ts=b.createBindGroup({layout:this.K.tx,entries:a})}m(){this.K.NB.delete(this);
for(const a of this.AC)a.Rl=null,a.TH=0,a.ye&&a.JB&&!a.Ol&&a.kp(!0);Lk(this);Kk.D(this.AC);this.K=null}};"use strict";const Mk=self.A,Nk=self.Dd.Rj,Ok={Lc:"trilinear",alpha:!0,depth:!1,Di:!0,po:!1,SC:!1,Xx:!0,Pt:0},Pk=new Set;
Mk.L.SE=class{constructor(a,b){this.K=a;this.un=!!b;this.Dc=b?hj(a,131072):!1;this.de=null;this.Nl=!0;this.Od=0;this.pj=!1;this.tp=Mk.j(Mk.bb);this.li=Nk.create();this.vB=this.yB=this.wB=0;this.un&&(this.de=Mk.j(Mk.L.Qu,a,!0))}Tu(a,b,d){d=Object.assign({},Ok,d);if(this.de)throw Error("already created render target");this.Dc=!!d.depth;this.Nl=!!d.Xx;this.Od=2<=d.Pt?4:1;if(2<=this.Od&&d.Di)throw Error("invalid use of multisampling");this.de=this.K.St(a,b,{Lc:d.Lc,tm:!1,UJ:!0,Di:d.Di,po:d.po,SC:d.SC,
Pt:this.Od});this.ep();Pk.add(this)}gp(){Pk.delete(this);Fk(this.de);this.K=this.de=null}Yu(a,b){if(a!==this.S()||b!==this.R()){var d=this.de.uc,c=this.de.mr(),e=this.de.uy();Fk(this.de);this.de=null;this.de=this.K.St(a,b,{Lc:d,tm:!1,UJ:!0,Di:c,po:e});this.ep()}}Pm(){return this.un?this.K.nt:this.de.Pm()}ep(){Hg(this.K,this.li,this.S()/this.R());this.wB=this.K.Hp;this.yB=this.K.Gn;this.vB=this.K.gn}S(){return this.un?this.K.S():this.de.S()}R(){return this.un?this.K.R():this.de.R()}Rc(){if(this.de)return this.de;
throw Error("no texture");}wa(){return this.K}Mo(){return this.de.Mo()}mr(){return this.de.mr()}uy(){return this.de.uy()}GL(a){a=Object.assign({},Ok,a);return"nearest"!==a.Lc!==this.Mo()||!!a.Di!==this.mr()||!!a.po!==this.uy()||!!a.depth!==this.Dc?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Nl&&this.S()===Math.floor(a.width)&&this.R()===Math.floor(a.height):this.Nl}static pd(){}};"use strict";
async function gk(a){var b=8*a.ct;await a.Uw.mapAsync(self.GPUMapMode.READ,0,b);b=a.Uw.getMappedRange(0,b);a.$l=new BigUint64Array(b.slice(0));a.Uw.destroy();a.Uw=null;a.hC.destroy();a.hC=null;a.cC.destroy();a.cC=null}
self.A.L.yV=class{constructor(a,b){this.K=a;this.Ue=this.K.Ue;this.ct=b;a=this.K.zf();this.cC=a.createQuerySet({count:this.ct,type:"timestamp"});b=self.GPUBufferUsage;this.hC=a.createBuffer({size:8*this.ct,usage:b.QUERY_RESOLVE|b.COPY_SRC});this.Uw=a.createBuffer({size:8*this.ct,usage:b.COPY_DST|b.MAP_READ});this.$l=null}wu(){return null!==this.$l}nu(){if(!this.$l)throw Error("not yet got result");return this.$l}};"use strict";const Qk={FQ:null,GQ:null,fR:null,getTime:null,eR:null};
function Rk(a,b){return a.tN?a.tN(b):[b.S(),b.R()]}self.A.L.sS=class{constructor(a){a=Object.assign({},Qk,a);this.tN=a.FQ;this.qW=a.GQ;this.uN=a.fR;this.rW=a.getTime;this.sW=a.eR;this.nm=null;this.sF=new Set}pd(){this.nm=null;for(const a of this.sF)a.pd()}Ni(a){return this.qW(a)}xa(){return this.rW()}jz(a){this.sW(a)}};"use strict";
const Sk=self.A,Tk=self.Dd.Rj,Hd=Sk.j(Sk.Rect),Uk=Sk.j(Sk.Rect),Vk=Sk.j(Sk.Rect),Wk=Sk.j(Sk.Rect),Xk=Tk.create(),Yk=Tk.create(),Zk={YC:null,HQ:null,bD:null,QJ:!1},$k={Jt:null,KJ:!1,EQ:!1,NQ:!1,fD:!1,VJ:!1,GK:!1};
function al(a,b,d){d=Object.assign({},$k,d);Sk.D(a.Wn);a.Nr=0;a.Or=0;a.ZG=!1;a.eB=!1;a.dB=!1;a.$G=!1;a.cB=!1;a.Dq=!1;a.cq=0;a.qH=!!d.fD;a.km=!!d.GK;a.Ew=!1;Sk.Yc(a.$w,b);if(0!==b.length){if(d.Jt){if(d.Jt.length!==b.length)throw Error("incorrect indexMap length");Sk.Yc(a.Vn,d.Jt)}else{Sk.D(a.Vn);for(let f=0,g=b.length;f<g;++f)a.Vn.push(f)}for(var c of b)a.Nr+=c.GW,a.Or+=c.HW,c.$V&&(a.ZG=!0),c.hJ&&(a.eB=!0),c.Mr&&(a.dB=!0),c.WF&&(a.$G=!0),c.LM()&&(a.cB=!0);a.Dq=b[0].wa().nd()&&a.dB&&!a.$G;c=b[0];c=
d.KJ||c.Qo()||d.NQ&&!c.HX||c.hJ&&!a.km||0!==a.Nr||0!==a.Or?!0:c.wa().Qh()?c.Mr&&(d.VJ||d.fD)||c.Hx&&d.fD:c.Mr&&!a.Dq&&d.VJ;var e=b.at(-1);d=d.EQ?!0:e.wa().Qh()?e.Mr||e.WF:(e.Mr||e.WF)&&!a.Dq;if(1!==b.length||c||d){a.sv=!1;e=0;c&&(a.cq=1,a.Wn.push(Sk.j(Sk.L.qf.Th.BU,a,-1,1)),e=1);for(let f=0,g=b.length;f<g;++f)0!==f||c?(b=1===e?2:1,f!==g-1||d||(b=0),a.cq=Math.max(a.cq,b),a.Wn.push(Sk.j(Sk.L.qf.Th.bS,a,e,b,f)),e=b):(a.cq=1,a.Wn.push(Sk.j(Sk.L.qf.Th.BS,a,-1,1,f)),e=1);d&&a.Wn.push(Sk.j(Sk.L.qf.Th.zU,
a,e,0))}else a.sv=!0}}function bl(a,b,d){const [c,e]=Rk(a.Nd,b);if(0>=c||0>=e)throw Error("invalid draw size");a.td===c&&a.bd===e||cl(b,c,e,0,0,a.li,a.Cw);a.td=c;a.bd=e;a.Gs.ua(d.Iq);d.ZC?a.lh.ua(d.ZC):a.lh.set(0,0,a.td,a.bd);a.Cj.ua(a.lh);a.Cj.qm(a.td,a.bd);b=a.Fs*a.rk;Ed(a.lh,a.Nr*b,a.Or*b);a.Sn.ua(a.lh);a.Sn.qm(a.td,a.bd);b=a.lh;d=a.td;var f=a.bd,g;var h=g=0;d=+d;f=+f;b.V=Ad.ia(b.V,g,d);b.T=Ad.ia(b.T,h,f);b.da=Ad.ia(b.da,g,d);b.aa=Ad.ia(b.aa,h,f);a.Bj.ua(a.lh);a.Bj.qm(a.td,a.bd)}
function cl(a,b,d,c,e,f,g){c=b/2+c;e=d/2+e;Hg(a,f,b/d);a=Jg(a,c,e,a.He(d),c,e,d);Tk.ua(g,a)}function dl(a,b){Ti(b);a.km||(a.SF&&b.xy(),b.re(!1),a.eB&&b.rr(!0));b.nd()&&Nj(b,!0)}function el(a){a.Sn.ia(0,0,1,1)}function fl(a,b){a.Yz?a.Yz(a,b,()=>a.NF(b,a)):a.NF(b,a);a.sv||dl(a,b)}function gl(a,b){if(a.km)return!0;if(0!==a.QF||0!==a.RF)return!1;const [d,c]=b.mu(b.Ni());return d!==a.td||c!==a.bd?!1:!0}
function hl(a,b,d){let c=a.li,e=a.Cw;if(d&&!gl(a,b)){c=Xk;e=Yk;const [f,g]=b.mu(b.Ni());cl(b,f,g,a.QF,a.RF,c,e);a.km||b.AE()}b.gl(c);b.ur(e)}function il(a,b,d){var c=a.Sn,e=a.Bj,f=a.Cj;b.Qh()&&(Uk.ua(c),Fd(Uk),c=Uk,Vk.ua(e),Fd(Vk),e=Vk,Wk.ua(f),Fd(Wk),f=Wk);var g=1/a.td,h=1/a.bd;b.vz(jl(a,b),c,e,f,a.Gs,g,h,a.rk,a.Fs,a.CB,a.fd);b.uz(a.Zz(a.Vn[d],b))}
function kl(a,b,d){var c=a.Bj,e=a.Cj,f=1/a.td,g=1/a.bd;if(a.tv){let {nR:k,oR:l,lR:m}=a.tv(a.an);k||(Hd.set(0,0,0,0),k=Hd);l||(l=a.td);m||(m=a.bd);e=c=k;f=1/l;g=1/m}else b.Qh()&&(Vk.ua(c),Fd(Vk),c=Vk,Wk.ua(e),Fd(Wk),e=Wk);var h=a.Sn;b.Qh()&&(h=Uk,h.ua(a.Sn),Fd(h));b.vz(jl(a,b),h,c,e,a.Gs,f,g,a.rk,a.Fs,a.CB,a.fd);b.uz(a.Zz(a.Vn[d],b));b.nd()&&a.cB&&Ij(b,a.qH?1:0,b.sG.XJ)}function jl(a,b){return a.dB?b.nd()?a.Dq?a.Qz:a.Bp.Rc():a.Bp:null}
Sk.L.qf=class{constructor(a,b){b=Object.assign({},Zk,b);this.Nd=a;this.NF=b.YC;this.tv=b.HQ;this.Zz=b.bD;this.Yz=null;this.$w=[];this.Vn=[];this.Wn=[];this.Ew=!1;this.Zf=0;this.qH=this.km=this.sv=this.SF=this.BN=this.dn=this.Dq=this.cB=this.$G=this.dB=this.eB=this.ZG=!1;this.cq=0;this.Ck=[null,null,null];this.oO=!!b.QJ;this.bd=this.td=this.Or=this.Nr=0;this.an=null;this.Gs=Sk.j(Sk.Rect);this.lh=Sk.j(Sk.Rect);this.Cj=Sk.j(Sk.Rect);this.Bj=Sk.j(Sk.Rect);this.Sn=Sk.j(Sk.Rect);this.Fs=this.rk=1;this.fd=
this.CB=0;this.Qz=this.Bp=null;this.RF=this.QF=0;this.fJ=!1;this.li=Tk.create();this.Cw=Tk.create();this.Nd.sF.add(this)}m(){this.Nd.sF.delete(this);Sk.D(this.Wn);Sk.D(this.$w);Sk.D(this.Vn);this.Zz=this.tv=this.NF=this.an=null}pd(){this.Ew=!0;Sk.D(this.Wn);Sk.D(this.$w);Sk.D(this.Vn)}Xo(a,b,d){a.nd()&&null===b&&(b=a.Yh);this.Bp=b;this.an=d.CJ||null;this.Zf=d.Ok||0;this.rk=d.devicePixelRatio||1;this.Fs=d.Zx||1;this.CB=d.Yx||0;this.fd="number"===typeof d.time?d.time:this.Nd.xa();this.dn=!1;a.oM();
this.ZG&&this.Nd.jz(this);var c=!1;if(this.Dq){bl(this,a,d);c=!0;var e=this.Nd,f=this.td,g=this.bd;f=Math.floor(f);g=Math.floor(g);!e.nm||e.nm.S()===f&&e.nm.R()===g||(a.Zg(e.nm),e.nm=null);null===e.nm&&(e.nm=a.Wq(null,{width:f,height:g,Lc:"nearest",tm:!1}));this.Qz=e.nm;Hd.ua(this.lh);Gd();a.nd()&&Ej(a,this.Bp);e=this.Bp.Rc();f=this.Qz;g=Hd.V;var h=Hd.T,k=Hd.width(),l=Hd.height(),m=f.Eh;if(0===(e.Eh&aj.COPY_SRC))throw Error("source texture missing COPY_SRC usage");if(0===(m&aj.COPY_DST))throw Error("destination texture missing COPY_DST usage");
if(e===f)throw Error("invalid destination");m=Math.min(e.S(),f.S());const p=Math.min(e.R(),f.R());k=Math.min(k,m-g);l=Math.min(l,p-h);0>=k||0>=l||(yj(a),fj&&gj(`Copying texture to texture, from (${g}, ${h}), size ${k} x ${l}`),a.ej.copyTextureToTexture({texture:e.Ha,origin:[g,h]},{texture:f.Ha,origin:[g,h]},[k,l]),a.B|=16384)}if(this.sv){c=this.$w[0];var n=a.xu();if(b=c.hJ)a.re(!1),a.rr(!0),this.Sn.set(0,0,1,1),this.Cj.set(0,0,1,1);a.hk(c);a.Le(this.Zf);a.xd(this.Bp);this.Cj.set(0,0,1,1);if(c.Hx&&
this.tv){const {nR:p,oR:q,lR:t}=this.tv(this.an);p&&this.Cj.ua(p);c=Number.isFinite(q)?1/q:0;e=Number.isFinite(t)?1/t:0}else{const [p,q]=Rk(this.Nd,a);c=1/p;e=1/q}d.Iq?this.Gs.ua(d.Iq):this.Gs.set(0,0,0,0);a.vz(jl(this,a),this.Sn,this.Cj,this.Cj,this.Gs,c,e,this.rk,this.Fs,this.CB,this.fd);a.uz(this.Zz(this.Vn[0],a));a.nd()&&this.cB&&Ij(a,this.qH?1:0,a.sG.XJ);a.Fg=0;fl(this,a);b&&(a.rr(!1),a.re(n))}else if(c||bl(this,a,d),0!==this.Cj.width()||0!==this.Cj.height()){a.Ku();Ti(a);a.Fg=0;Pg(a,0);this.Yz=
d.kY||null;this.QF=d.aY||0;this.RF=d.bY||0;this.fJ=!!d.tZ;this.BN=a.xu();this.SF=a.HL();this.km?(a.re(!1),this.eB&&a.rr(!0)):(Hd.ua(this.lh),a.Qh()?(d=this.Fs*this.rk,Ed(Hd,Math.max(this.Nr,1)*d,Math.max(this.Or,1)*d),Gd(),Hd.ia(0,0,this.td,this.bd)):Gd(),a.zM(Hd.V,Hd.T,Hd.width(),Hd.height(),this.bd));this.Ck[0]=b;this.Ck[1]=1<=this.cq?this.Nd.Ni(this):null;this.Ck[2]=2===this.cq?this.Nd.Ni(this):null;for(n of this.Wn)d=n.EX,d=0>d?null:this.Ck[d],b=n.bG,b=0>b?null:this.Ck[b],a.nd()?n.Ju(a,d,b):n.Iu(a,
d,b);a.te(null);this.Ck[1]&&this.Nd.uN(this.Ck[1],this);this.Ck[2]&&this.Nd.uN(this.Ck[2],this);this.Ck.fill(null);a.rr(!1);this.SF&&a.yy();a.re(this.BN);this.km||a.AE();a.nd()&&Nj(a,!1);this.dn=a.Cy();this.Yz=this.an=this.Qz=this.Bp=null}}Cy(){return this.dn}};"use strict";self.A.L.qf.Th=class{constructor(a,b,d,c=-1){this.Se=a;this.EX=b;this.bG=d;this.ga=c}Tf(){return this.Se}Aa(){return this.ga}Td(){return this.Tf().$w[this.Aa()]}Iu(){}Ju(){}};"use strict";const ll=self.A;
ll.L.qf.Th.BU=class extends ll.L.qf.Th{constructor(a,b,d,c){super(a,b,d,c)}Iu(a,b,d){b=this.Tf();a.Ku();Lg(a);a.xd(d,b.fJ);a.Yg(0,0,0,0);fl(b,a);el(b)}Ju(a,b,d){b=this.Tf();a.Ku();Lg(a);a.xd(d,!1);a.Yg(0,0,0,0);fl(b,a);el(b)}};"use strict";const ml=self.A,nl=ml.j(ml.Rect),ol=ml.j(ml.wd);
ml.L.qf.Th.zU=class extends ml.L.qf.Th{constructor(a,b,d,c){super(a,b,d,c)}Iu(a,b,d){const c=this.Tf();Lg(a);a.xd(d);hl(c,a,!0);a.Le(c.Zf);a.te(b.Rc());ol.rg(c.lh);nl.ua(c.Bj);Fd(nl);a.Jm(ol,nl);c.oO&&a.Ko(b)}Ju(a,b,d){const c=this.Tf();Lg(a);a.xd(d,!1);gl(c,a)?ol.rg(c.Bj):(Nj(a,!1),hl(c,a,!0),ol.rg(c.lh));sj(a,null);a.Le(c.Zf);a.te(b.Rc());c.km?a.Yt():a.Jm(ol,c.Bj)}};"use strict";const pl=self.A;
pl.L.qf.Th.BS=class extends pl.L.qf.Th{constructor(a,b,d,c){super(a,b,d,c)}Iu(a,b,d){b=this.Tf();a.xd(d,b.fJ);a.Yg(0,0,0,0);a.Zo();a.hk(this.Td());kl(b,a,this.Aa());fl(b,a);el(b)}Ju(a,b,d){b=this.Tf();a.xd(d,!1);a.Yg(0,0,0,0);a.Zo();a.hk(this.Td());kl(b,a,this.Aa());fl(b,a);el(b)}};"use strict";const ql=self.A,rl=ql.j(ql.Rect),sl=ql.j(ql.wd);
ql.L.qf.Th.bS=class extends ql.L.qf.Th{constructor(a,b,d,c){super(a,b,d,c)}Iu(a,b,d){const c=this.Tf();a.xd(d);(d=0===this.bG)?a.Le(c.Zf):(a.Yg(0,0,0,0),a.Zo());a.hk(this.Td());il(c,a,this.Aa());a.te(b.Rc());hl(c,a,d);sl.rg(c.lh);rl.ua(c.Bj);Fd(rl);a.Jm(sl,rl);c.oO&&a.Ko(b)}Ju(a,b,d){const c=this.Tf();a.xd(d,!1);0===this.bG?(a.Le(c.Zf),sj(a,null),gl(c,a)?sl.rg(c.Bj):(Nj(a,!1),hl(c,a,!0),sl.rg(c.lh))):(a.Yg(0,0,0,0),a.Zo(),sl.rg(c.Bj));a.hk(this.Td());il(c,a,this.Aa());a.te(b.Rc());c.km?a.Yt():a.Jm(sl,
c.Bj)}};"use strict";const tl=self.nf;let ul=null;const vl=new Set;let wl=!1,xl=!1;
self.pT=class{constructor(a){ul=a;Object.defineProperties(this,{UY:{value:{},writable:!1},wY:{value:{},writable:!1},storage:{value:new self.rT,writable:!1},J7:{value:ul.wf(),writable:!1},Lc:{value:ul.uc,writable:!1}});ul.Ee.addEventListener("keydown",b=>{vl.has(b.key)?b.stopPropagation():vl.add(b.key)});ul.Ee.addEventListener("keyup",b=>vl.delete(b.key));ul.lb().addEventListener("window-blur",()=>vl.clear());ul.wf()&&(self.alert=b=>{wl||(wl=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(b)})}addEventListener(a,b){ul.Ee.addEventListener(a,b)}removeEventListener(a,b){ul.Ee.removeEventListener(a,b)}signal(a){tl.ad(a);ul.ja().LE(a)}get HJ(){return yl(ul)}get mY(){xl||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),xl=!0);return ul.ls}get framesPerSecond(){return ul.ls}random(){return ul.oq()}get layout(){const a=ul.Cb();if(!a)throw Error("no layout is running - make sure a layout is loaded before accessing");return a.Uk()}get keyboard(){const a=
ul.yv.keyboard;if(!a)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return a}get XQ(){const a=ul.yv.XQ;if(!a)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");return a}get uR(){const a=ul.yv.uR;if(!a)throw Error("runtime.touch used but Touch object missing - add it to your project first");return a}get sR(){const a=ul.yv.sR;if(!a)throw Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");
return a}get $Q(){const a=ul.yv.$Q;if(!a)throw Error("runtime.platformInfo used but Platform Info object missing - add it to your project first");return a}alert(a){return zl(ul,"runtime","alert",{message:a+(ul.wf()?" [via Web Worker]":"")})}};"use strict";self.kT=class{constructor(){}};"use strict";let Al=null;self.lT=class{constructor(a){Al=a;Object.defineProperties(this,{jd:{value:Al.F(),writable:!1}})}};"use strict";const Bl=self.nf;
self.rT=class{constructor(){ul.mI||(ul.mI=localforage.DJ({name:"c3-localstorage-"+ul.nI,description:ul.$B}));this.ox=ul.mI}getItem(a){Bl.ad(a);return this.ox.getItem(a)}setItem(a,b){Bl.ad(a);return this.ox.setItem(a,b)}removeItem(a){Bl.ad(a);return this.ox.removeItem(a)}clear(){return this.ox.clear()}keys(){return this.ox.keys()}};"use strict";const Cl=self.A,Dl=new WeakMap,El=cc();
self.aE=class{constructor(){const a=Cl.nb.Yf(El);Dl.set(this,a);Object.defineProperties(this,{jd:{value:a.F().fg,writable:!1},WJ:{value:a.ei,writable:!1},RQ:{value:a.gH,writable:!1},SQ:{value:a.Im(),writable:!1},IQ:{value:a.Vy(),writable:!1},OQ:{value:a.pO,writable:!1},qR:{value:a.MP,writable:!1}})}};"use strict";const Fl=self.A,Gl=self.nf,Hl=new WeakMap,Il=cc();
self.tL=class{constructor(){const a=Fl.nb.Yf(Il);Hl.set(this,a);Object.defineProperties(this,{name:{value:a.ka(),writable:!1},jd:{value:a.F().fg,writable:!1},iD:{value:a.Ka().ss,writable:!1}});a.F().oj.set(this,a)}addEventListener(a,b){Gl.ad(a);Gl.fk(b);Hl.get(this).Ee.addEventListener(a,b)}removeEventListener(a,b){Gl.ad(a);Gl.fk(b);Hl.get(this).Ee.removeEventListener(a,b)}*MQ(){for(const a of Jl(Hl.get(this)))yield Kl(a)}DJ(a){Gl.xg(void 0);Gl.xg(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");
var b=Hl.get(this);const d=b.F();a=d.Cb().Z(a);if(!a)throw Error("invalid layer");b=Ll(d,b,a);a=d.ja();Ml(a,!0);Nl(b);Ml(a,!1);Ol(a)||0<d.Wa.ys||Pl(d);return Kl(b)}};"use strict";const Ql=self.nf,Rl=new WeakMap;
self.nT=class{constructor(a){Rl.set(this,a);const b=[],d=a.Ga,c=d.ah().length;for(let e=0;e<c;++e)b.push(new self.$D(d,e));Object.defineProperties(this,{name:{value:a.ka(),writable:!1},index:{value:a.Aa(),writable:!1}})}addEventListener(a,b){Ql.ad(a);Ql.fk(b);Rl.get(this).Ee.addEventListener(a,b)}removeEventListener(a,b){Ql.ad(a);Ql.fk(b);Rl.get(this).Ee.removeEventListener(a,b)}get width(){return Rl.get(this).S()}set width(a){Ql.xf(a);Rl.get(this).fh(a)}get height(){return Rl.get(this).R()}set height(a){Ql.xf(a);
Rl.get(this).Sh(a)}getSize(){const a=Rl.get(this);return[a.S(),a.R()]}set scale(a){Ql.xf(a);Sl(Rl.get(this),a)}get scale(){return Rl.get(this).Ce}set angle(a){Ql.xf(a);Rl.get(this).qe(a)}get angle(){return Rl.get(this).hb()}set scrollX(a){Ql.xg(a);Rl.get(this).Ui(a)}get scrollX(){return Rl.get(this).vg()}set scrollY(a){Ql.xg(a);Rl.get(this).Vi(a)}get scrollY(){return Rl.get(this).wg()}scrollTo(a,b){Ql.xg(a);Ql.xg(b);const d=Rl.get(this);d.Ui(a);d.Vi(b)}*Ft(){for(const a of Rl.get(this).Ft())yield a.dr()}set cR(a){Ql.ad(a);
const b=Rl.get(this);if("perspective"===a)Tl(b);else if("orthographic"===a)Ul(b);else throw Error("invalid projection");}get cR(){return Rl.get(this).ig?"orthographic":"perspective"}};"use strict";const Vl=self.A,Wl=self.nf,Xl=new WeakMap,Yl=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Zl=new Map([...Yl.entries()].map(a=>[a[1],a[0]])),$l=Vl.j(Vl.bb);
self.mT=class{constructor(a){Xl.set(this,a);const b=[],d=a.Ga,c=d.ah().length;for(let e=0;e<c;++e)b.push(new self.$D(d,e));Object.defineProperties(this,{name:{value:a.ka(),writable:!1},layout:{value:a.Sb().Uk(),writable:!1}});a.F().oj.set(this,a)}*ey(){for(const a of Xl.get(this).ey())yield a.dr()}get index(){return Xl.get(this).Aa()}get isVisible(){return Xl.get(this).Cs}set isVisible(a){Xl.get(this).eh(a)}get eD(){return Xl.get(this).zs}set eD(a){Xl.get(this).zs=!!a}get dD(){return Xl.get(this).Vp}set dD(a){am(Xl.get(this),
!!a)}get opacity(){return Xl.get(this).kc()}set opacity(a){a=Vl.ia(+a,0,1);isNaN(a)||Xl.get(this).yg(a)}set scale(a){Wl.xf(a);bm(Xl.get(this),a)}get scale(){return Xl.get(this).Ce}set kD(a){Wl.xf(a);cm(Xl.get(this),a)}get kD(){return Xl.get(this).cm}set angle(a){Wl.xf(a);Xl.get(this).qe(a)}get angle(){return Xl.get(this).Eg}set Tj(a){Wl.xf(a);Xl.get(this).Xf(a)}get Tj(){return Xl.get(this).Xa()}set gD(a){dm(Xl.get(this),a)}get gD(){return Xl.get(this).uj}set cD(a){em(Xl.get(this),a)}get cD(){return Xl.get(this).kB}set Ok(a){Wl.ad(a);
a=Yl.get(a);if("number"!==typeof a)throw Error("invalid blend mode");Xl.get(this).Le(a)}get Ok(){return Zl.get(Xl.get(this).Xj())}set backgroundColor(a){Wl.kz(a);if(3>a.length)throw Error("expected 3 elements");nd($l,a[0],a[1],a[2]);a=Xl.get(this);const b=a.sl;rd(b,$l)||(pd(b,$l),a.F().ya())}get backgroundColor(){const a=Xl.get(this).sl;return[a.Ua,a.Ya,a.Sa]}set scrollX(a){Wl.xg(a);const b=Xl.get(this);fm(b,!0);b.Ui(a)}get scrollX(){return Xl.get(this).vg()}set scrollY(a){Wl.xg(a);const b=Xl.get(this);
fm(b,!0);b.Vi(a)}get scrollY(){return Xl.get(this).wg()}scrollTo(a,b){Wl.xg(a);Wl.xg(b);const d=Xl.get(this);fm(d,!0);d.Ui(a);d.Vi(b)}};"use strict";const gm=self.A,hm=self.nf,im=new WeakMap,jm=new WeakMap,km=cc();function lm(a){let b=jm.get(a);if(b)return b;b=gm.j(gm.Event.lb);jm.set(a,b);return b}
self.vf=class{constructor(){const a=gm.nb.Yf(km);im.set(this,a);const b={jd:{value:a.F().fg,writable:!1},fK:{value:a.G().er(),writable:!1},iD:{value:a.Ka().ss,writable:!1}};if(0!==a.gg.length){var d={},c=mm(a.ae);for(let f=0,g=c.length;f<g;++f)d[c[f]]={configurable:!1,enumerable:!0,get:nm.Instance.prototype.OV.bind(a,f),set:nm.Instance.prototype.Lm.bind(a,f)};d=Object.create(Object.prototype,d);b.H7={value:d,writable:!1}}d=a.sd;if(0!==d.length){c={};for(var e of d)c[e.Qf().Ki()]={value:e.hr(),writable:!1};
e=Object.create(Object.prototype,c);b.Qx={value:e,writable:!1}}Object.defineProperties(this,b);a.F().oj.set(this,a)}static Ez(){return gm.nb.Fz()}Dj(){const a=jm.get(this);a&&(a.m(),jm.delete(this));im.delete(this)}addEventListener(a,b,d){hm.ad(a);hm.fk(b);lm(this).addEventListener(a,b,d)}removeEventListener(a,b,d){hm.ad(a);hm.fk(b);lm(this).removeEventListener(a,b,d)}dispatchEvent(a){lm(this).dispatchEvent(a)}get uid(){return im.get(this).Rb}get HJ(){const a=im.get(this);return yl(a.F(),a)}signal(a){hm.ad(a);
const b=im.get(this);b.F().ja().eE(b,a)}};"use strict";const om=self.A,pm=self.nf,qm=new WeakMap,rm=cc();function sm(a,b,d){pm.ad(b);if(!a.Nw)throw Error("no DOM component id set");le(qm.get(a).F(),a.Nw,b,d)}
self.vL=class extends self.vf{constructor(a){super();qm.set(this,om.nb.Yf(rm));this.eq=!1;this.RB=null;this.fq=!1;this.SB=null;this.Nw=a?.GJ}Dj(){super.Dj();qm.delete(this)}BI(a){a=!!a;if(this.eq!==a){this.eq=a;var b=qm.get(this).F();a?(this.RB||(this.RB=()=>this.vx()),b.lb().addEventListener("tick",this.RB)):b.lb().removeEventListener("tick",this.RB)}}tj(){return this.eq}vx(){}AP(a){a=!!a;if(this.fq!==a){this.fq=a;var b=qm.get(this).F();a?(this.SB||(this.SB=()=>{}),b.lb().addEventListener("tick2",
this.SB)):b.lb().removeEventListener("tick2",this.SB)}}Wp(){return this.fq}xk(){}};"use strict";const tm=self.A,um=self.nf,vm=new WeakMap,wm=cc(),xm=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),ym=new Map([...xm.entries()].map(a=>[a[1],a[0]]));tm.j(tm.bb);
function zm(a){return class b extends a{constructor(d){super(d);var c=tm.nb.Yf(wm);vm.set(this,c);d=[];var e=c.C();if(c=e.Ve){e=e.G().Ga.ah().length;for(let f=0;f<e;++f)d.push(new self.$D(c,f))}}get layout(){return vm.get(this).C().Sb().Uk()}get Hq(){return vm.get(this).C().Z().dr()}get x(){return vm.get(this).C().Da()}set x(d){d=+d;const c=vm.get(this).C();isNaN(d)||c.Da()===d||(c.Wi(d),Am(c))}get y(){return vm.get(this).C().Ea()}set y(d){d=+d;const c=vm.get(this).C();isNaN(d)||c.Ea()===d||(c.Xi(d),
Am(c))}setPosition(d,c){d=+d;c=+c;const e=vm.get(this).C();isNaN(d)||isNaN(c)||e.Da()===d&&e.Ea()===c||(Bm(e,d,c),Am(e))}get Tj(){return vm.get(this).C().Xa()}set Tj(d){d=+d;const c=vm.get(this),e=c.C();isNaN(d)||e.Xa()===d||(e.Xf(d),c.F().ya())}get width(){return vm.get(this).C().S()}set width(d){d=+d;const c=vm.get(this).C();isNaN(d)||c.S()===d||(c.fh(d),Am(c))}get height(){return vm.get(this).C().R()}set height(d){d=+d;const c=vm.get(this).C();isNaN(d)||c.R()===d||(c.Sh(d),Am(c))}getSize(){const d=
vm.get(this).C();return[d.S(),d.R()]}get angle(){return vm.get(this).C().hb()}set angle(d){d=tm.Cd(+d);const c=vm.get(this).C();isNaN(d)||c.hb()===d||(c.qe(d),Am(c))}OJ(){var d=Cm(vm.get(this).C());new DOMRect(d.V,d.T,d.width(),d.height())}get isVisible(){return vm.get(this).C().mc()}set isVisible(d){d=!!d;const c=vm.get(this),e=c.C();e.mc()!==d&&(e.eh(d),c.F().ya())}get opacity(){return vm.get(this).C().kc()}set opacity(d){d=tm.ia(+d,0,1);const c=vm.get(this),e=c.C();isNaN(d)||e.kc()===d||(e.yg(d),
c.F().ya())}set Ok(d){um.ad(d);d=xm.get(d);if("number"!==typeof d)throw Error("invalid blend mode");const c=vm.get(this);c.C().Le(d);c.F().ya()}get Ok(){return ym.get(vm.get(this).C().Xj())}get zIndex(){return Dm(vm.get(this).C())}qg(d,c){um.xg(d);um.xg(c);return Em(vm.get(this).C(),+d,+c)}getParent(){const d=vm.get(this).qa();return d?Kl(d):null}*Qt(){for(const d of vm.get(this).Qt())yield Kl(d)}*children(){for(const d of vm.get(this).children())yield Kl(d)}*Ai(){for(const d of vm.get(this).Ai())yield Kl(d)}removeChild(d){um.lz(d,
b);const c=vm.get(this);d=vm.get(d);c.ek(d)}}}self.AL=zm(self.vf);self.uT=zm(self.vL);"use strict";const Fm=new WeakMap;self.rL=class extends self.AL{constructor(){super();Fm.set(this,self.vf.Ez())}focus(){Gm(L(Fm.get(this)),{focus:!0})}blur(){Gm(L(Fm.get(this)),{focus:!1})}};"use strict";const Hm=self.A,Im=self.nf,Jm=new WeakMap,Km=new WeakMap,Lm=cc();function Mm(a){let b=Km.get(a);if(b)return b;b=Hm.j(Hm.Event.lb);Km.set(a,b);return b}
self.oL=class{constructor(){const a=Hm.nb.Yf(Lm);Jm.set(this,a);const b={jd:{value:a.F().fg,writable:!1},behavior:{value:a.rf().Zv,writable:!1},RC:{value:a.Qf().RA,writable:!1}};Object.defineProperties(this,b);a.F().oj.set(this,a)}static Ez(){return Hm.nb.Fz()}get instance(){return Kl(Jm.get(this).Ja)}Dj(){const a=Km.get(this);a&&(a.m(),Km.delete(this));Jm.delete(this)}addEventListener(a,b,d){Im.ad(a);Im.fk(b);Mm(this).addEventListener(a,b,d)}removeEventListener(a,b,d){Im.ad(a);Im.fk(b);Mm(this).removeEventListener(a,
b,d)}dispatchEvent(a){Mm(this).dispatchEvent(a)}};"use strict";const Nm=self.A,Om=cc();self.pL=class{constructor(){const a=Nm.nb.Yf(Om);Object.defineProperties(this,{jd:{value:a.F().fg,writable:!1},behavior:{value:a.rf().Zv,writable:!1},name:{value:a.ka(),writable:!1}})}};"use strict";const Pm=self.A,Qm=new WeakMap,Rm=cc();self.nL=class{constructor(){const a=Pm.nb.Yf(Rm);Qm.set(this,a);Object.defineProperties(this,{jd:{value:a.F().fg,writable:!1}})}};"use strict";const Sm=self.A,Tm=self.nf,Um=new WeakMap;
Sm.j(Sm.bb);self.$D=class{constructor(a,b){Um.set(this,a);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return Um.get(this).ah()[this.index].ka()}get isActive(){return Um.get(this).Gm(this.index)}set isActive(a){a=!!a;const b=Um.get(this);b.Gm(this.index)!==a&&(b.GE(this.index,a),b.Ag(),b.F().ya())}getParameter(a){Tm.xf(a);a=Math.floor(+a);a=Um.get(this).gL(this.index,a);if(null===a)throw new RangeError("invalid index");return a instanceof Sm.bb?[a.Ua,a.Ya,a.Sa]:a}};"use strict";
const Vm=new WeakMap;self.iT=class{constructor(a){Vm.set(this,a);Object.defineProperties(this,{name:{value:a.ka(),writable:!1}})}get speed(){return Vm.get(this).DX}get e9(){return Vm.get(this).Nh()}get frameCount(){return Vm.get(this).El.length}*frames(){for(const a of Vm.get(this).El)yield a.NW}};"use strict";const Wm=new WeakMap;self.sL=class{constructor(a){Wm.set(this,a)}get width(){return Wm.get(this).S()}get height(){return Wm.get(this).R()}getSize(){const a=Wm.get(this);return[a.S(),a.R()]}};
"use strict";const Xm=new WeakMap;self.jT=class extends self.sL{constructor(a){super(a.Dm());Xm.set(this,a);Object.defineProperties(this,{duration:{value:a.fG,writable:!1}})}get tag(){return Xm.get(this).Rg}};"use strict";const Ym=self.nf,Zm=new WeakMap;function $m(a){a=Zm.get(a);if(a.Qd)throw Error("timeline/tween was released and is no longer valid");return a}
self.zL=class{constructor(a){Zm.set(this,a);a.F().oj.set(this,a)}pause(){$m(this).Oe()}resume(){var a=$m(this);a.Qd||an(a)&&a.Play(!0)}stop(){$m(this).dc()}set time(a){Ym.xf(a);$m(this).$o(a)}get time(){return $m(this).xa()}set totalTime(a){Ym.xf(a);$m(this).KE(a)}get totalTime(){return $m(this).xc()}set playbackRate(a){Ym.xf(a);$m(this).Ri(a)}get playbackRate(){return $m(this).Gc}get progress(){const a=$m(this);return a.xa()/a.xc()}get rR(){return $m(this).ef}get finished(){return bn($m(this))}get L7(){return $m(this).IsPlaying()}};
"use strict";const cn=new WeakMap;self.tT=class extends self.zL{constructor(a){super(a);cn.set(this,a);Object.defineProperties(this,{name:{value:a.ka(),writable:!1}})}};"use strict";const dn=new WeakMap,en=new WeakMap;let fn=null;function gn(a){a=dn.get(a);if(a.Qd)throw Error("tween was released and is no longer valid");return a}
self.l0=class extends self.zL{constructor(a,b,d){super(a);fn||(fn=d.S6);dn.set(this,a);b&&en.set(this,b)}stop(){const a=gn(this);en.get(this).M2(a)}get instance(){const a=gn(this).Y();return a?Kl(a):null}get value(){const a=gn(this);if("value"!==a.Vk())throw Error("not a value tween");return a.ld("value").qb().Sc()}};"use strict";self.xL=class extends self.aE{constructor(){super()}};"use strict";const hn=self.A,jn=new WeakMap,kn=cc();
function ln(a,b,d){mn(jn.get(a).F(),a.Nw,b,c=>{const e=a.eI.get(c.elementId);d(e,c)})}self.j0=class extends self.xL{constructor(a){super();jn.set(this,hn.nb.Yf(kn));if(!a?.GJ)throw Error("no DOM component ID specified");this.Nw=a.GJ;this.xX=0;this.eI=new Map;ln(this,"elem-focused",b=>{b.dI=!0});ln(this,"elem-blurred",b=>{b&&(b.dI=!1)})}};"use strict";const nn=self.A,pn=new WeakMap,qn=cc();self.wL=class extends self.tL{constructor(){super();const a=nn.nb.Yf(qn);pn.set(this,a)}};"use strict";
const rn=self.A,sn=new WeakMap,tn=cc();self.yL=class extends self.uT{constructor(a){super(a);sn.set(this,rn.nb.Yf(tn));this.kP=this.gI=null}Dj(){super.Dj();if(this.gI){const a=sn.get(this).F().lb();a.removeEventListener("renderercontextlost",this.gI);a.removeEventListener("renderercontextrestored",this.kP);this.kP=this.gI=null}sn.delete(this)}};"use strict";const un=self.A,vn=un.j(un.Rect),wn=new WeakMap,xn=cc();function yn(a,b,d){d||(d={});d.elementId=a.QB;sm(a,b,d)}
function zn(a,b){b||(b={});b.elementId=a.QB;qm.get(a).F().wf()?sm(a,"focus",b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.Nw,handler:"focus",data:b,responseId:null})}function An(a,b){b=!!b;a.fP!==b&&(a.fP=b,yn(a,"set-visible",{isVisible:b}))}
self.i0=class extends self.yL{constructor(a){if(!a?.GJ)throw Error("no DOM component ID specified");super(a);a=un.nb.Yf(xn);wn.set(this,a);var b=this.iD;const d=b.xX++;b.eI.set(d,this);this.QB=d;this.fP=!0;this.vX=this.dI=!1;this.wX=-.2;this.Ws=un.j(un.Rect,0,0,-1,-1);a=a.F().$;this.jP=a.Kk;this.iP=a.Jk;this.hP=this.gP=-1;this.BI(!0)}Dj(){super.Dj();this.iD.eI.delete(this.QB);yn(this,"destroy");this.QB=-1;wn.delete(this)}vx(){var a=wn.get(this);if(!Bn(a)){var b=a.C(),d=b.Z(),c=Cm(b),[e,f]=Cn(d,c.V,
c.T),[g,h]=Cn(d,c.da,c.aa);a=a.F().$;c=a.Nc;var k=a.Cc;if(b.mc()&&d.mc()){const l=wn.get(this).F().$.fu();("Android"!==un.U.od||"scale-inner"!==l&&"scale-outer"!==l&&"crop"!==l)&&(0>=g||0>=h||e>=c||f>=k)?An(this,!1):(vn.set(e,f,g,h),c=a.Kk,k=a.Jk,a=d.Mp,b=Dn(b),vn.Xc(this.Ws)&&this.jP===c&&this.iP===k&&this.gP===a&&this.hP===b?An(this,!0):(this.Ws.ua(vn),this.jP=c,this.iP=k,this.gP=a,this.hP=b,An(this,!0),c=null,this.vX&&(c=d.Lh()+this.wX),yn(this,"update-position",{left:Math.round(this.Ws.V),top:Math.round(this.Ws.T),
width:Math.round(this.Ws.width()),height:Math.round(this.Ws.height()),htmlIndex:a,htmlZIndex:b,fontSize:c})))}else An(this,!1)}}};"use strict";self.qT=class extends self.nL{constructor(){super()}};"use strict";self.uL=class extends globalThis.pL{constructor(){super()}};"use strict";const En=self.A,Fn=new WeakMap,Gn=cc();
self.bE=class extends self.oL{constructor(){super();Fn.set(this,En.nb.Yf(Gn));this.fI=this.fq=this.eq=!1}Dj(){super.Dj();this.BI(!1);this.AP(!1);var a=!1;if(this.fI!==a){this.fI=a;var b=Fn.get(this).F();a?b.tl.Fb(this):b.tl.Ke(this)}Fn.delete(this)}BI(a){a=!!a;if(this.eq!==a){this.eq=a;var b=Fn.get(this).F();a?b.mk.Fb(this):b.mk.Ke(this)}}tj(){return this.eq}vx(){}AP(a){a=!!a;if(this.fq!==a){this.fq=a;var b=Fn.get(this).F();a?b.ul.Fb(this):b.ul.Ke(this)}}Wp(){return this.fq}pH(){return this.fI}xk(){}};
"use strict";self.k0=class{constructor(){}};"use strict";const Hn=new WeakMap;self.g0=class{constructor(a,b){var d=a.ja();const c=a.Kb(),e=c.$c();var f=a.Qc();const g=In(f);f=f.Pa(c);d=d.Xe.Pa();b&&d.Mu(b);Jn(a,!1);Hn.set(this,{jd:a,E6:c,C9:e,B8:g,u8:f,loop:d})}release(){const {jd:a}=Hn.get(this),b=a.Qc(),d=a.ja().Xe;Jn(a,!0);d.Ma();b.Ma();Hn.delete(this)}};"use strict";const Kn=self.nf;let Ln=null,Mn=null;
self.oT=class{constructor(a,b){Mn=a;Ln=b}setColor(a){Ln.Me(a[0],a[1],a[2],a[3])}rect(a){Ln.Gu(a.left,a.top,a.right,a.bottom)}line(a,b,d,c){Ln.lE(a,b,d,c)}deleteTexture(a){Kn.lz(a,self.sT);a=Mn.oj.get(a);Ln.Zg(a)}};"use strict";const Nn=new WeakMap,On=new WeakMap;self.sT=class{constructor(a,b){Nn.set(this,{jd:a,P9:b});On.set(b,this);a.oj.set(this,b);Object.defineProperties(this,{width:{value:b.S(),writable:!1},height:{value:b.R(),writable:!1}})}};"use strict";const Pn=self.nf,Qn=new WeakMap;
function Rn(a){return Qn.get(a).dZ}self.h0=class{constructor(a,b){Qn.set(this,{jd:a,dZ:b});a.oj.set(this,b)}release(){Rn(this).m()}set lineHeight(a){Pn.xf(a);var b=Rn(this);b.Js!==a&&(b.Js=a,di(b))}get lineHeight(){return Rn(this).Js}setColor(a){Pn.kz(a);var b=a[0],d=a[1];a=a[2];var c=Rn(this);nd(Wh,b,d,a);c.el(Wh)}set verticalAlign(a){mi(Rn(this),a)}get verticalAlign(){return Rn(this).Jx}set text(a){Pn.ad(a);Rn(this).wr(a)}get text(){return Rn(this).jb}};"use strict";
const Sn=self.A,Tn=new Set(["local","remote"]),Un=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);function Vn(a){const b=Sn.j(Sn.Event,"loadingprogress");a.xB=Sn.ia(a.gv/a.Ax,0,1);b.progress=a.xB;a.g.lb().dispatchEvent(b)}
async function Wn(a,b){a=await Xn(a,b,"buffer");b?(b=b.split("."),2>b.length?b="":(b=b.at(-1).toLowerCase(),b=Un.get(b)||"")):b="";return new Blob([a],{type:b})}function Xn(a,b,d){"flat"===a.hn&&(b=b.toLowerCase());return zl(a.g,"runtime","cordova-fetch-local-file",{filename:b,as:d})}async function Yn(a,b){"flat"===a.hn&&(b=b.toLowerCase());var d=a.wN.get(b);if(d)return d;d=await Wn(a,b);d=URL.createObjectURL(d);a.wN.set(b,d);return d}
function Zn(a,b){if(Sn.EL(b))return Promise.resolve(b);if(a.hB&&a.vn)return Yn(a,b);if("playable-ad-single-file"===a.g.dg)return URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(b));"flat"===a.hn&&(b=b.toLowerCase());return Promise.resolve(b)}async function $n(a){try{await Promise.all(a.EB),a.xB=1}catch(b){console.error("Error loading: ",b),a.GG=!0,Vn(a)}}
async function ao(a){const b=[],d=[];for(const [c,e,f]of a.pJ)a.Ax+=f,b.push(bo(a,c,e,d).then(()=>{a.gv+=f;cf(a.MO)}));await Promise.all(b);a.g.wf()&&0<d.length&&await zl(a.g,"runtime","load-webfonts",{webfonts:d})}
async function bo(a,b,d,c){try{let g=await Zn(a,d);"Gecko"===Sn.U.Of&&(b=`'${b}'`);if("Gecko"===Sn.U.Of&&"preview"===a.g.dg||"playable-ad-single-file"===a.g.dg){{d=g;let k=a.LN.get(d);if(k)g=k;else{var e,f=d;"preview"===a.g.dg&&(f=(new URL(f,location.href)).toString());(e=a.JW.get(f)||null)?(k=URL.createObjectURL(e),a.LN.set(d,k),g=k):g=d}}}const h=new FontFace(b,`url('${g}')`);a.g.wf()?self.fonts.add(h):document.fonts.add(h);await h.load();a.g.wf()&&c.push({name:b,url:g})}catch(g){console.warn(`[C3 runtime] Failed to load web font '${b}': `,
g)}}function co(a,b){for(const [d,c,e]of b)a.aW.set(d,{fileName:d,d7:c.map(f=>({type:f[0],Y6:f[1],p7:d+f[1],fileSize:f[2]})),K7:e})}
Sn.VR=class extends Sn.pa{constructor(a,b){super();const d=b.exportType;this.g=a;this.hn="folders";this.wN=new Map;this.hB="cordova"===d;this.wO=!!b.isiOSCordova;this.vn=!!b.isFileProtocol;this.GX=b.supportedAudioFormats||{};this.aW=new Map;this.BX=b.scriptFolder;this.hO="";this.JW=b.fileMap||new Map;this.LN=new Map;this.pA="html5"===d||"scirra-arcade"===d||"instant-games"===d?"remote":"local";this.hv=new Map;this.pJ=[];this.EB=[];this.$N=!1;this.xB=this.gv=this.Ax=0;this.GG=!1;this.MO=Sn.j(Sn.EU,
()=>Vn(this),50);this.IH=Sn.j(Sn.hz,Math.max(Sn.hardwareConcurrency,8));this.rI=Sn.j(Sn.hz,20);new self.kT}m(){for(const a of this.hv.values())a.m();this.hv.clear();Sn.D(this.EB);this.g=null}F(){return this.g}Rk(a,b){b=b||this.pA;return Sn.Zy(a)?("flat"===this.hn&&(a=a.toLowerCase()),this.hB&&this.vn?Wn(this,a):"playable-ad-single-file"===this.g.dg?self.c3_runtimeInterface._PlayableAdFetchBlob(a):"local"===b?this.IH.Fb(()=>Sn.Rk(a)):this.rI.Fb(()=>Sn.Rk(a))):Sn.Rk(a)}Wt(a){return Sn.Zy(a)?("flat"===
this.hn&&(a=a.toLowerCase()),this.hB&&this.vn?Xn(this,a,"buffer"):"playable-ad-single-file"===this.g.dg?Sn.aS(self.c3_runtimeInterface._PlayableAdFetchBlob(a)):"local"===this.pA?this.IH.Fb(()=>Sn.Wt(a)):this.rI.Fb(()=>Sn.Wt(a))):Sn.Wt(a)}Xt(a){return Sn.Zy(a)?("flat"===this.hn&&(a=a.toLowerCase()),this.hB&&this.vn?Xn(this,a,"text"):"playable-ad-single-file"===this.g.dg?Sn.MK(self.c3_runtimeInterface._PlayableAdFetchBlob(a)):"local"===this.pA?this.IH.Fb(()=>Sn.Xt(a)):this.rI.Fb(()=>Sn.Xt(a))):Sn.Xt(a)}async bL(a){a=
await this.Xt(a);return JSON.parse(a)}nE(a){if(a.hD&&!Tn.has(a.hD))throw Error("invalid load policy");let b=this.hv.get(a.url);if(b)return b;b=Sn.j(Sn.CL,this,{url:a.url,size:a.size||0,hD:a.hD||this.pA});this.hv.set(b.Ct,b);this.$N||(this.Ax+=b.Oh(),this.EB.push(eo(b).then(()=>{var d=b.Oh();this.gv+=d;cf(this.MO)})));return b}};"use strict";const fo=self.A;
function eo(a){if("local"===a.EH||a.qv)return Promise.resolve();if(a.yk)return a.yk;a.yk=a.rd.Rk(a.Ct,a.EH).then(b=>{a.yk=null;return a.qv=b}).catch(b=>{console.error("Error loading resource: ",b);a.yk=null});return a.yk}function go(a){return a.qv?Promise.resolve(a.qv):a.yk?a.yk:a.rd.Rk(a.Ct,a.EH)}fo.UR=class extends fo.pa{constructor(a,b){super();this.rd=a;this.g=a.F();this.Ct=b.url||"";this.it=b.size;this.EH=b.hD;this.qv=b.blob||null;this.yk=null}m(){this.qv=this.g=this.rd=this.yk=null}Oh(){return this.it}};
"use strict";const ho=self.A,io=new ho.hz,jo=new Set;async function ko(a,b,d){try{const c=await go(a);return 0===a.Mb?a.Yn=null:await io.Fb(async()=>{const e=await b.Tt(c,d);a.Yn=null;if(0===a.Mb)return b.Zg(e),null;a.Ik=e;a.jO=e.S();a.iO=e.R();return a.Ik})}catch(c){throw console.error("Failed to load texture: ",c),c;}}async function lo(a){a=await go(a);return ho.cb.ImageBitmap?await createImageBitmap(a):await ho.LK(a)}
ho.CL=class extends ho.UR{constructor(a,b){super(a,b);this.Ik=this.Yn=null;this.Mb=0;this.iO=this.jO=-1;jo.add(this)}m(){if(0!==this.Mb)throw Error("released image asset which still has texture references");this.rd.hv.delete(this.Ct);this.Yn=null;jo.delete(this);super.m()}static ez(){for(const a of jo)a.Yn=null,a.Ik=null,a.Mb=0}oE(a,b){b=b||{};this.Mb++;if(this.Ik)return Promise.resolve(this.Ik);if(this.Yn)return this.Yn;b.Gt=this.g.$.OP;return this.Yn=ko(this,a,b)}Km(){if(0>=this.Mb)throw Error("texture released too many times");
this.Mb--;0===this.Mb&&this.Ik&&(this.Ik.wa().Zg(this.Ik),this.Ik=null)}Rc(){return this.Ik}S(){return this.jO}R(){return this.iO}};"use strict";const mo=self.A;function no(a,b){return a.C().Gh-b.C().Gh}function oo(a){a.hw&&(a.H.length===a.xj.size?a.dc():(mo.Vg(a.H,a.xj),a.xj.clear(),a.hw=!1))}
mo.GU=class extends mo.pa{constructor(a,b,d){super();this.ma=b;this.fa=d;this.H=[];this.mw=!0;this.xj=new Set;this.hw=!1}m(){mo.D(this.H);this.xj.clear()}dc(){mo.D(this.H);this.mw=!0;this.xj.clear();this.hw=!1}Pi(){if(!this.H.length)return!0;if(this.H.length>this.xj.size)return!1;oo(this);return!0}dE(a){this.xj.has(a)?(this.xj.delete(a),0===this.xj.size&&(this.hw=!1)):(this.H.push(a),this.mw=1===this.H.length)}Ke(a){this.xj.add(a);this.hw=!0;50<=this.xj.size&&oo(this)}HD(a){oo(this);this.mw||(this.H.sort(no),
this.mw=!0);this.H.length&&a.push(this.H)}};"use strict";const po=self.A;
po.HU=class extends po.pa{constructor(a,b){super();this.aA=a;this.$z=b;this.bi=po.j(po.Du)}m(){this.bi.m();this.bi=null}Bm(a,b,d){let c=this.bi.W(a,b);return c?c:d?(c=po.j(po.GU,this,a,b),this.bi.Set(a,b,c),c):null}Zi(a){return Math.floor(a/this.aA)}$i(a){return Math.floor(a/this.$z)}cp(a,b,d){if(b)for(let c=b.V,e=b.da;c<=e;++c)for(let f=b.T,g=b.aa;f<=g;++f){if(d&&d.qg(c,f))continue;const h=this.Bm(c,f,!1);h&&(h.Ke(a),h.Pi()&&this.bi.Bo(c,f))}if(d)for(let c=d.V,e=d.da;c<=e;++c)for(let f=d.T,g=d.aa;f<=
g;++f)b&&b.qg(c,f)||this.Bm(c,f,!0).dE(a)}iz(a,b){let d=this.Zi(a.V);const c=this.$i(a.T),e=this.Zi(a.da);for(a=this.$i(a.aa);d<=e;++d)for(let f=c;f<=a;++f){const g=this.Bm(d,f,!1);g&&g.HD(b)}}};"use strict";const M=self.A,qo=new M.Rect,ro=new M.wd,so=[];new M.Rect;new M.Rect;const to=self.Dd,uo=to.sD,vo=to.my,wo=to.Rj;wo.create();const xo=uo.create(),yo=vo.create(),zo=uo.create(),Ao=uo.create(),Bo=uo.create(),Do=M.j(M.Pu);M.j(M.Rect);function Eo(a,b){return a.C().Gh-b.C().Gh}
function Fo(a,b){return a.C().Xa()-b.C().Xa()}const Go=[],Ho=[],Io=[],Jo={name:"",Lq:-1,SJ:!1,isVisible:!0,eD:!0,dD:!1,backgroundColor:[1,1,1,1],gD:!0,lK:[1,1],opacity:1,cD:!1,gR:!1,yR:!1,zR:!1,kD:1,Ok:0,Tj:0,KQ:[],CQ:[],pR:[]};
function Ko(a,b,d=!1){if(a.H.includes(b))d&&a.H.sort((f,g)=>{f=Lo(f.C());g=Lo(g.C());return f-g});else if(b.oe()){var c=[...b.Ai()];c.push(b);c.sort((f,g)=>{f=Lo(f.C());g=Lo(g.C());return f-g});for(var e of c)if(e.cc())for(const f of e.Ic)c.includes(f)||(b=[...f.Ai()],b.push(f),b.sort((g,h)=>{g=Lo(g.C());h=Lo(h.C());return g-h}),b&&b.length&&c.splice(c.length,0,...b));for(const f of c)f.Ka().Md&&a.ih(f,!0)}else if(b.Ka().Md&&a.ih(b,!0),b.cc())for(c of b.Ic)if(e=[...c.Ai()],e.push(c),e.sort((f,g)=>
{f=Lo(f.C());g=Lo(g.C());return f-g}),e&&e.length)for(const f of e)f.Ka().Md&&a.ih(f,!0)}function am(a,b){b=!!b;a.Vp!==b&&(a.Vp=b,Mo(a.Ef),a.g.ya())}function bm(a,b){a.Ce!==b&&(a.Ce=b,No(a.Ef),Oo(a),a.g.ya())}function cm(a,b){a.cm!==b&&(a.cm=b,Oo(a),a.g.ya())}function dm(a,b){b=!!b;a.uj!==b&&(a.uj=b,a.g.ya())}function em(a,b){b=!!b;a.kB!==b&&(a.kB=b,a.g.ya())}function fm(a,b){b=!!b;if(a.Fl!==b){if(a.Fl=b)b=a.Sb(),a.ri=b.vg(),a.si=b.wg();Oo(a);a.g.ya()}}
function Cn(a,b,d){return Po(a,b,d,0,a.Lh())}function Qo(a){a.YB.ua(a.ec);td(a.YB)}function Ro(a){return a.PX&&!a.VP}function So(a,b,d){return M.j(M.kE,a,b,{name:d[0],Lq:d[2],isVisible:d[3],eD:d[13],dD:d[19],backgroundColor:d[4].map(c=>c/255),gD:d[5],lK:[d[6],d[7]],opacity:d[8],cD:d[9],gR:d[17],yR:d[18],zR:d[10],kD:d[11],Ok:d[12],Tj:d[16],KQ:d[14],CQ:d[15],pR:d[20]})}
function To(a){for(const b of a.lO){const d=Uo(a.g,b[1]);Vo(a.Ef,d);d.Ap||(d.Ap=b);a.uk.push(b);a.mO.set(b[2],b)}M.Yc(a.KP,a.uk);a.lO=null}function Wo(a,b){return a.mO.get(b)}function Xo(a,b){a.rJ=!1;a.pB=!1;if(!b||b.G().Ka().gH)a.KG=!1}function Yo(a,b){if(b){b=new Set;for(var d of a.H){var c=d.C().Gh;0<=c&&b.add(c)}d=-1;for(const e of a.H)if(c=e.C(),!(0<=c.Gh)){for(++d;b.has(d);)++d;c.Gh=d|0}}a.H.sort(Eo)}function*Zo(a){yield a;yield*a.ey()}function Oo(a){a.mH=!0;a.pw=!0;a.qw=!0}
function $o(a){if(a.qw){a.qw=!1;var b=a.g.TB,d=a.g.UB,c=(a.vg()-b)*a.hi+b,e=(a.wg()-d)*a.ii+d;b=ap(a);d=a.g.Jf/b;b=a.g.Ge/b;c-=d/2;var f=e-b/2;a.g.lw&&(c=Math.round(c),f=Math.round(f));e=a.dQ;e.set(c,f,c+d,f+b);d=a.hb();0!==d&&(qo.ua(e),qo.offset(-e.Nt(),-e.Ot()),0===d?ro.rg(qo):Ld(ro,qo,Math.sin(d),Math.cos(d)),ro.OJ(qo),qo.offset(e.Nt(),e.Ot()),e.ua(qo));b=a.Bd;bp(a,b,a.Kx);if(cp(a)){d=a.lJ;e=a.g.$;c=e.Nc;e=e.Cc;const [g,h]=dp(a,0,0,b),[k,l]=dp(a,c,0,b),[m,n]=dp(a,c,e,b),[p,q]=dp(a,0,e,b);a=Math.min(g,
k,m,p);b=Math.min(h,l,n,q);c=Math.max(g,k,m,p);e=Math.max(h,l,n,q);isFinite(a)||(a=-Infinity);isFinite(b)||(b=-Infinity);isFinite(c)||(c=Infinity);isFinite(e)||(e=Infinity);d.set(a,b,c,e)}else a.lJ.ua(a.Kx)}}function ep(a){$o(a);return a.Kx}function fp(a){$o(a);return a.lJ}function gp(a){a=a.Sb();return[hp(a),ip(a)]}
function bp(a,b,d){$o(a);var c=a.dQ;if(0===b)d.ua(c);else{let h=c.Nt(),k=c.Ot();if(a.Ef.ig)var e=1;else e=cp(a)?a.Sb().KF[2]:a.He()/ap(a),e/=e-b;var f=e;e=c.width()/f;c=c.height()/f;const [l,m]=gp(a);if(.5!==l||.5!==m){const n=a.He()/ap(a);var g=a.g;const p=a.He()/n;f=(l-.5)*g.Jf/p;g=(m-.5)*g.Ge/p;a=a.hb();0!==a&&(Do.set(f,g),Do.rotate(a),f=Do.ma,g=Do.fa);b=M.rD(n,0,b);h+=M.Nf(f,0,b);k+=M.Nf(g,0,b)}d.set(h-e/2,k-c/2,h+e/2,k+c/2)}}
function jp(a){return a.F().Fh&&a.sI&&a.VP?(M.Yc(Io,a.H),Io.sort((b,d)=>{var c=a.Sb().KF,e=c[0],f=c[1];c=c[2];var g=b.C();const h=d.C();d=g.Da()-e;b=g.Ea()-f;g=g.Xa()-c;e=h.Da()-e;f=h.Ea()-f;c=h.Xa()-c;return e*e+f*f+c*c-(d*d+b*b+g*g)}),Io):a.H}function kp(a,b){M.om(b,jp(a));for(const d of a.ge)d.mc()&&0<d.kc()&&kp(d,b)}function cp(a){return!(!a.F().Fh||!a.sI)&&a.Sb().WW}function lp(a){if(!cp(a))return!1;for(const b of a.ge)if(!lp(b))return!1;return!0}
function mp(a,b,d=!0){d?a.ge.push(b):a.ge.unshift(b)}function np(a){return a.mc()&&0<a.kc()&&op(a)}function pp(){var a=qp[0];for(const b of a.ge)if(np(b))return!0;return!1}function*rp(a){for(const b of a.ge)yield*rp(b);yield a}function sp(a,b){for(const d of a.ey())if(d===b)return!0;return!1}function tp(a,b){return a===b||a.hi===b.hi&&a.ii===b.ii&&a.Ce===b.Ce&&a.cm===b.cm&&a.Eg===b.Eg&&a.vg()===b.vg()&&a.wg()===b.wg()}
function up(a){if(!a.rJ){a.H.sort(Fo);if(Ro(a))for(let e=0,f=a.H.length;e<f;++e){var b=a.H[e].C();b.Gh=e|0;var d=a.ft,c=b.Ww;b=c.V;const g=c.T,h=c.da;for(c=c.aa;b<=h;++b)for(let k=g;k<=c;++k){const l=d.Bm(b,k,!1);l&&(l.mw=!1)}}else for(let e=0,f=a.H.length;e<f;++e)a.H[e].C().Gh=e|0;a.rJ=!0}}function vp(a){if(!a.KG){a=wp(a.Ef,a.Mp).map(d=>[...rp(d)]).flat();var b=0;for(const d of a){for(const c of d.H)c.G().Ka().gH&&xp(c.C(),b++);d.KG=!0}}}
function op(a){if(0<a.H.length||!a.uj)return!0;for(const b of a.ge)if(op(b))return!0;return!1}function yp(a){if(a.zr())return!0;for(const b of a.ge)if(yp(b))return!0;return!1}
function zp(a,b){if(a.mH){var d=a.Cw;const l=a.g;var c=a.Sb();if(cp(a)){uo.ua(zo,c.KF);uo.ua(Ao,c.nW);uo.ua(Bo,c.oW);c=l.TB;var e=l.UB,f=Ao[0]-zo[0],g=Ao[1]-zo[1],h=Ao[2]-zo[2];zo[0]=(zo[0]-c)*a.hi+c;zo[1]=(zo[1]-e)*a.ii+e;zo[2]*=Math.max(a.hi,a.ii);Ao[0]=zo[0]+f;Ao[1]=zo[1]+g;Ao[2]=zo[2]+h}else{c=a.g;g=a.Sb();f=c.TB;e=c.UB;f=(a.vg()-f)*a.hi+f;h=(a.wg()-e)*a.ii+e;c.lw&&(f=Math.round(f),h=Math.round(h));e=f+0;f=h+0;g=g.ig?a.He(null):a.He(null)/ap(a);const [m,n]=gp(a);if(.5!==m||.5!==n){var k=a.He(null)/
g;h=(m-.5)*c.Jf/k;c=(n-.5)*c.Ge/k;k=a.hb();0!==k&&(Do.set(h,c),Do.rotate(k),h=Do.ma,c=Do.fa);e+=h;f+=c}const [p,q,t]=[e,f,g];uo.set(zo,p,q,t);uo.set(Ao,p,q,t-100);c=a.hb();0===c?uo.set(Bo,0,1,0):uo.set(Bo,Math.sin(c),Math.cos(c),0)}Ig(b,d,zo,Ao,Bo,l.Ge);a.mH=!1}return a.Cw}function ap(a){return(a.Ce*a.Ef.Ce-1)*a.cm+1}
function Ap(a,b){if(a.oB){var d=a.g.$;const [h,k]=gp(a);if(a.Ef.ig){var c=a.li,e=d.Yj(),f=self.devicePixelRatio,g=2*b.He(e)*f*b.qx/e;d=d.Zj()*g/(2*f);e=e*g/(2*f);f=-d;g=-e;b.nd()?vg.WY(c,f,d,g,e,b.Gn,b.gn):vg.VY(c,f,d,g,e,b.Gn,b.gn)}else.5===h&&.5===k?wo.ua(a.li,d.ZF):Hg(b,a.li,d.Zj()/d.Yj(),h,k);a.oB=!1}return a.li}function Bp(a,b){b.gl(Ap(a,b));a=zp(a,b);b.ur(a)}
function Cp(a,b){let d=null;if(b.Qh()&&Dp(a.g)){var c=a.g.$;if(c.wa().zg()){var e=c.AH.get(a);e||(e={Hq:a,name:a.ka(),DK:N.j(N.L.NM,c.ke),VC:0,ZJ:0,UQ:0},c.AH.set(a,e));a=e.DK}else a=null;a&&(a=d=zi(a),b.zg()&&(c=Si(b),c.ea=18,c.ff=a,b.Nb=0))}return d}function Ep(a,b){b.nd()&&Dp(a.g)&&(a=2*(a.Aa()+1),zj(b,a,a+1))}
function Fp(a,b,d){const c=ep(a),e=a.ve,f=a.Sb().ig,g=Gp(a.Sb());let h=null;for(let k=0,l=d.length;k<l;++k){const m=d[k];if(m===h)continue;h=m;const n=m.C();n.mc()&&Hp(n,c,g,f)&&Ip(a,m,n,b,e)}}
function Ip(a,b,d,c,e){if(d.vu()){const t=d.Ve.Tf();var f=t.Xo,g=d.Xj(),h=a.g.cu();var k=b.g;var l=k.ws.get(b);k=l?l.W():Jp(k);l=a.g.du()*ap(a);var m=a.hb(),n=Cm(d);if(t.sv&&!t.Dq)var p=null;else a:{var q=Cm(d);p=Kp(d);d=d.Dc;const r=p+d,u=q.V,v=q.T,w=q.da;q=q.aa;if(cp(a)){if(Lp(a,u,v,p)||Lp(a,w,v,p)||Lp(a,w,q,p)||Lp(a,u,q,p)||0<d&&(Lp(a,u,v,r)||Lp(a,w,v,r)||Lp(a,w,q,r)||Lp(a,u,q,r))){p=null;break a}}else if(r>=a.He()/ap(a)){p=null;break a}let [y,C]=Mp(a,u,v,p),[F,O]=Mp(a,w,q,p);if(0!==a.hb()||0<
d||cp(a)){const [ka,la]=Mp(a,w,v,p),[Y,ra]=Mp(a,u,q,p);if(0<d){const [Na,bb]=Mp(a,u,v,r),[ya,ee]=Mp(a,w,v,r),[fe,Jj]=Mp(a,w,q,r),[Ot,Pt]=Mp(a,u,q,r);p=Math.min(y,F,ka,Y,Na,ya,fe,Ot);F=Math.max(y,F,ka,Y,Na,ya,fe,Ot);y=p;p=Math.min(C,O,la,ra,bb,ee,Jj,Pt);O=Math.max(C,O,la,ra,bb,ee,Jj,Pt);C=p}else p=Math.min(y,F,ka,Y),F=Math.max(y,F,ka,Y),y=p,p=Math.min(C,O,la,ra),O=Math.max(C,O,la,ra),C=p}qo.set(y,C,F,O);p=qo}f.call(t,c,e,{CJ:b,Ok:g,devicePixelRatio:h,time:k,Zx:l,Yx:m,Iq:n,ZC:p,kY:null,aY:null,bY:null,
tZ:null});b=a.Xa();c.Fg=b;t.Cy()&&Bp(a,c)}else Np(b,d,c)}function Op(a){if(a.pw){var b=a.g.wa();const d=Ap(a,b),c=zp(a,b);b=a.cQ;ng(0,1,0,c,d,mg,eg);ng(1,1,0,c,d,mg,fg);ng(0,0,0,c,d,mg,gg);ng(1,0,0,c,d,mg,hg);ng(0,1,1,c,d,mg,ig);ng(1,1,1,c,d,mg,jg);ng(0,0,1,c,d,mg,kg);ng(1,0,1,c,d,mg,lg);og(gg,eg,ig,b.IO);og(eg,fg,jg,b.TP);og(fg,hg,lg,b.xP);og(hg,gg,kg,b.pN);og(kg,ig,jg,b.JN);og(hg,fg,eg,b.WH);a.pw=!1}return a.cQ}
function Np(a,b,d){b=b.vq;if(d.Cf!==b){const c=b.K;c.hk(b.ic);c.Le(b.Zf);c.el(b.ec);Pg(c,b.Bd);c.Cf=b}a.zm(d)}
function dp(a,b,d,c=0){var e=a.Lh();const f=a.g,g=f.wa(),h=ap(a);vo.set(yo,0,0,f.Jf/h,f.Ge/h);b/=e;d=yo[3]-d/e;e=Ap(a,g);a=zp(a,g);a:if(ng(b,d,0,a,e,yo,$f)&&ng(b,d,1,a,e,yo,ag)){Xf.xm(ag,ag,$f);Xf.set(bg,0,0,1);c=-c;a=Xf.rm(bg,ag);b=0;if(0===a){if(0!==Xf.rm(bg,$f)+c){c=!1;break a}}else if(b=-(Xf.rm($f,bg)+c)/a,0>b){c=!1;break a}Xf.uK(xo,$f,ag,b);c=!0}else c=!1;return c?[xo[0],xo[1]]:[NaN,NaN]}
function Po(a,b,d,c,e){var f=a.g;const g=f.wa(),h=ap(a);vo.set(yo,0,0,f.Jf/h,f.Ge/h);f=Ap(a,g);a=zp(a,g);return M.L.gz(b,d,c,a,f,yo,xo)?[xo[0]*e,(yo[3]-xo[1])*e]:[NaN,NaN]}function Mp(a,b,d,c=0){return Po(a,b,d,c,a.lu()*a.Sk())}function Lp(a,b,d,c){a=Op(a).WH;return!(a.x*b+a.y*d+a.z*c>=a.w)}
M.kE=class extends M.pa{constructor(a,b,d){super();d=Object.assign({},Jo,d);this.Ef=a;this.g=a.F();this.ji=b;this.Ca=d.name;this.ga=-1;this.Vp=!!d.dD;this.Mp=-1;this.fb=d.Lq;this.kw=!!d.SJ;this.Cs=!!d.isVisible;this.zs=!!d.eD;this.sl=M.j(M.bb);xd(this.sl,d.backgroundColor);this.uj=!!d.gD;this.hi=d.lK[0];this.ii=d.lK[1];this.ec=M.j(M.bb,1,1,1,d.opacity);this.YB=M.j(M.bb);this.kB=!!d.cD;this.sI=!!d.gR;this.VP=!!d.yR;this.PX=!!d.zR;this.cm=d.kD;this.Zf=d.Ok;this.ve=null;this.Ce=1;this.Bd=d.Tj;this.si=
this.ri=this.Eg=0;this.Fl=!1;this.Kx=M.j(M.Rect);this.dQ=M.j(M.Rect);this.lJ=M.j(M.Rect);this.qw=!0;this.li=wo.create();this.oB=!0;this.Cw=wo.create();this.mH=!0;this.cQ=M.j(M.L.nV);this.pw=!0;this.KP=[];this.lO=d.KQ;this.uk=[];this.jA=[];this.mO=new Map;this.H=[];this.nl=this.KG=this.rJ=!1;const c=this.g.$;this.Ga=M.j(M.Do,this,d.CQ);this.Se=M.j(M.L.qf,c.Lv,{YC:(e,f)=>{f=f.an;const g=f.Ni();e.el(f.TD());e.Zq(g);e.Ko(g);c.Vo(g)},bD:e=>this.Ga.Dz(e)});this.Mx=this.Sl=!0;this.ft=null;this.tH=[];this.pB=
!1;this.iX=M.j(M.Rect,0,0,-1,-1);this.uW=M.j(M.Rect,0,0,-1,-1);this.fO=new self.mT(this);Qo(this);Ro(this)&&(this.ft=M.j(M.HU,this.g.wh,this.g.vh));this.ge=d.pR.map(e=>So(this.Ef,this,e))}m(){for(const a of this.ge)a.m();M.D(this.ge);for(const a of this.H)Pp(this.g,a);M.D(this.H);this.Ga.m();this.Ga=null;this.Se.m();this.g=this.Ef=this.ji=this.fO=this.Se=null}ih(a,b){if(!a.Ka().Md)throw Error("instance is not of world type");const d=a.C();if(d.Z()!==this)throw Error("instance added to wrong layer");
this.H.push(a);0!==d.Xa()&&(this.nl=!0);b&&Ro(this)&&Am(a.C());Xo(this,a)}ip(a,b){const d=this.H.indexOf(a);0>d||(b&&Ro(this)&&Qp(a.C()),this.H.splice(d,1),Xo(this,a),0===this.H.length&&(this.nl=!1))}Fu(a,b,d,c,e,f){const g=this.g.ja(),h=this.g.Mc,k=a.La,l=[];for(const p of this.uk){var m=p[0];if(b.qg(m[0],m[1])){m=h[p[1]];if(m!==a)if(k){if(!a.AA.has(m))continue}else continue;m=e;if(!m){var n=P(this.g);this.Sb()===n?m=this:(m=Rp(n,this.ka()))||(m=Sp(n,this.Aa()))}n=Tp(this.g,p,m,!1,void 0,void 0,
!1,f);Ko(m,n);m=n.C();Up(m,d,c);Am(m);Ml(g,!0);Nl(n);Ml(g,!1);l.push(n)}}return l}Sb(){return this.Ef}ka(){return this.Ca}iF(a){this.ga=a}Aa(){return this.ga}F(){return this.g}Sk(){return this.g.Sk()}Tf(){this.Wu();return this.Se}Wu(){const a=this.jr();if(this.Sl||a!==this.Mx||this.Se.Ew){var b=this.Ga.Cg;al(this.Se,b.map(d=>d.Td()),{Jt:b.map(d=>d.Aa()),KJ:!a,GK:!0});this.Sl=!1;this.Mx=a}}Ag(){this.Ga.Ag();this.Sl=!0}mc(){for(const a of Zo(this))if(!a.Cs)return!1;return!0}eh(a){a=!!a;this.Cs!==a&&
(this.Cs=a,this.g.ya())}Ui(a){var b=this.Sb();const d=b.yn?-Infinity:Vp(b);b=b.yn?Infinity:b.S()-Vp(b);a>b&&(a=b);a<d&&(a=d);this.ri!==a&&(this.ri=a,this.Fl&&(Oo(this),this.g.ya()))}Vi(a){var b=this.Sb();const d=b.yn?-Infinity:Wp(b);b=b.yn?Infinity:b.R()-Wp(b);a>b&&(a=b);a<d&&(a=d);this.si!==a&&(this.si=a,this.Fl&&(Oo(this),this.g.ya()))}vg(){return this.Fl?this.ri:this.Sb().vg()}wg(){return this.Fl?this.si:this.Sb().wg()}He(a){return this.g.He(a)}kc(){return this.ec.Oa}yg(a){a=M.ia(a,0,1);this.ec.Oa!==
a&&(qd(this.ec,a),Qo(this),this.g.ya())}TD(){return this.YB}jr(){return sd(this.ec,1,1,1,1)}Xf(a){this.Bd!==a&&(this.Bd=a,this.g.ya())}Xa(){return this.Bd}qe(a){a=M.Cd(a);this.Eg!==a&&(this.Eg=a,Oo(this),this.g.ya())}hb(){return M.Cd(this.Ef.hb()+this.Eg)}Le(a){this.Zf!==a&&(this.Zf=a,this.g.ya())}Xj(){return this.Zf}*ey(){let a=this.ji;for(;a;)yield a,a=a.ji}zr(){return this.kB||!this.jr()||0!==this.Xj()||this.Ga.vu()}Ni(){return this.ve}zm(a,b,d){var c=this.g.$,e=this.zr(),f=null;const g=Cp(this,
a);Ep(this,a);e?(f={Lc:this.g.uc,Di:!0,po:a.nd()?this.g.Eq:!1},"low"===c.ph&&(f.width=c.Zj(),f.height=c.Yj()),this.ve=f=this.g.Zt(f),a.xd(f),this.uj&&a.Yg(0,0,0,0)):(this.ve=b,a.xd(b));this.uj||a.Ed(this.sl);Xp(a,this.ve,this.ge,e&&this.uj);Ep(this,a);Bp(this,a);c=this.Xa();a.Fg=c;a.re(!(!this.F().Fh||!this.sI));if(ap(this)>Number.EPSILON)if(up(this),c=Ro(this)&&0===this.Xa()&&!this.nl,cp(this)){c=this.ve;var h=Op(this),k=jp(this);for(let u=0,v=k.length;u<v;){var l=k[u],m=l.C();if(m.mc()&&Yp(m,h)){(!l.pr()||
0<m.Dc)&&Ho.push(l);var n=Kp(l.C());Go.push(l);for(var p=u+1;p<v;++p){var q=k[p],t=q.C();if(t.mc()&&Yp(t,h)){if(Kp(t)!==n)break;q.pr()?(0<t.Dc&&Ho.push(q),Go.push(q)):Ho.push(q)}}if(1!==Go.length||0!==(Go[0].B&32)){l=a;m=this.ve;l.ED();for(let w=0,y=Go.length;w<y;++w)n=Go[w],q=n.C(),q.xb(1048576,!0),Np(n,q,l);l.yy();for(let w=0,y=Go.length;w<y;++w)n=Go[w],q=n.C(),Ip(this,n,q,l,m),q.xb(1048576,!1);l.xy();for(let w=0,y=Ho.length;w<y;++w)l=Ho[w],m=l.C(),m.xb(2097152,!0),Ip(this,l,m,a,c),m.xb(2097152,
!1)}else{Ip(this,l,m,a,c);for(let w=0,y=Ho.length;w<y;++w)m=Ho[w],m!==l&&(n=m.C(),Ip(n.Z(),m,n,a,c))}u=p;M.D(Go);M.D(Ho)}else++u}}else if(c){k=this.ft;c=this.uW;h=this.iX;p=ep(this);c.set(k.Zi(p.V),k.$i(p.T),k.Zi(p.da),k.$i(p.aa));if(this.pB&&c.Xc(h))k=this.tH;else{up(this);M.D(so);this.ft.iz(ep(this),so);if(so.length)if(1===so.length)k=so[0];else{for(k=so;1<k.length;){m=[];n=k.length;for(q=0;q<n-1;q+=2){p=m;l=p.push;t=k[q];var r=k[q+1];const u=[];let v=0,w=0,y=t.length,C=r.length;for(;v<y&&w<C;){const F=
t[v],O=r[w];F.C().Gh<O.C().Gh?(u.push(F),++v):(u.push(O),++w)}for(;v<y;++v)u.push(t[v]);for(;w<C;++w)u.push(r[w]);t=u;l.call(p,t)}1===n%2&&m.push(k[n-1]);k=m}k=k[0]}else k=[];this.pB=!0;h.ua(c)}Fp(this,a,k);k!==this.tH&&M.Yc(this.tH,k)}else Fp(this,a,jp(this));a.Fg=0;Pg(a,0);e&&(a.re(!1),e=f,f=this.g,0===this.Ga.Cg.length?(a.xd(b),Lg(a),d&&0===this.Zf&&this.jr()?a.zy(e):(a.Le(this.Zf),a.el(this.YB),a.Zq(e)),a.Ko(e),f.Vo(e)):this.Tf().Xo(a,b,{CJ:this,Ok:this.Xj(),devicePixelRatio:f.cu(),Zx:f.du()*
ap(this),Yx:this.hb(),Iq:ep(this),ZC:null,QJ:!0}));g&&Xi(a,g);this.ve=null}lu(){return ap(this)*this.g.lu()}Lh(){return ap(this)*this.g.Lh()}la(){return{d:this.kw,s:this.Ce,a:this.Eg,v:this.Cs,i:this.zs,html:this.Vp,bc:this.sl.toJSON(),t:this.uj,sx:this.ri,sy:this.si,hosp:this.Fl,px:this.hi,py:this.ii,c:this.ec.toJSON(),sr:this.cm,fx:this.Ga.Gd(),cg:this.jA}}oa(a){this.kw=!!a.d;this.Ce=a.s;this.Eg=a.a;this.Cs=!!a.v;this.zs=a.hasOwnProperty("i")?a.i:!0;this.Vp=!!a.html;xd(this.sl,a.bc);this.uj=!!a.t;
a.hasOwnProperty("sx")&&(this.ri=a.sx);a.hasOwnProperty("sy")&&(this.si=a.sy);a.hasOwnProperty("hosp")&&(this.Fl=!!a.hosp);this.hi=a.px;this.ii=a.py;xd(this.ec,a.c);Qo(this);this.cm=a.sr;M.Yc(this.jA,a.cg);M.Yc(this.uk,this.KP);const b=new Set(this.jA);let d=0;for(let c=0,e=this.uk.length;c<e;++c)b.has(this.uk[c][2])||(this.uk[d]=this.uk[c],++d);M.lf(this.uk,d);this.Ga.Tc(a.fx);this.Sl=!0}dr(){return this.fO}};"use strict";const Q=self.A,Zp=self.Jh;Q.j(Q.Rect);Q.j(Q.Rect);
const $p=Q.j(Q.Rect),aq=Q.j(Q.bb),bq=self.Dd.sD,qp=[],cq=[],dq=[],eq=[];let fq=null;function gq(a,b){if(fq!==a){Bp(a,b);var d=a.Xa();b.Fg=d;fq=a}}function Sl(a,b){a.Ce!==b&&(a.Ce=b,hq(a),No(a),a.g.ya())}function Tl(a){a.ig&&(a.ig=!1,iq(a),hq(a),a.g.ya())}function Ul(a){a.ig||(a.ig=!0,iq(a),hq(a),a.g.ya())}function Vo(a,b){if(b.cc())for(const d of b.Hg.zk)a.Pp.add(d);else a.Pp.add(b)}function Rp(a,b){return a.yH.get(b.toLowerCase())||null}
function Sp(a,b){b=Q.ia(Math.floor(b),0,a.pc.length-1);return a.pc[b]}async function Mo(a){jq(a);kq(a);a.jI=a.gu()}function hp(a){return a.ig?.5:a.JC}function ip(a){return a.ig?.5:a.KC}function wp(a,b){const d=[];for(const c of a.bf)if(a=c.Mp,a===b)d.push(c);else if(a>b)break;return d}
function Xp(a,b,d,c){d=d.filter(e=>np(e));for(let e=0,f=d.length;e<f;){const g=d[e];if(lp(g)&&!yp(g)){qp.push(g);for(let h=e+1;h<f;++h){const k=d[h];if(lp(k)&&!yp(k))qp.push(d[h]);else break}if(2<=qp.length||1===qp.length&&pp()){lq(a,b);e+=qp.length;Q.D(qp);continue}Q.D(qp)}g.zm(a,b,c&&0===e);++e}}function Gp(a){const b=hp(a);a=ip(a);return 0>b||1<b||0>a||1<a}function No(a){a.Ui(a.vg());a.Vi(a.wg());for(const b of a.pc)b.Fl&&(b.Ui(b.vg()),b.Vi(b.wg()))}
function jq(a){a.pc=[...a.Ft()];a.yH.clear();a.zH.clear();for(let b=0,d=a.pc.length;b<d;++b){const c=a.pc[b];c.iF(b);a.yH.set(c.ka().toLowerCase(),c);a.zH.set(c.fb,c)}}function mq(a){let b=ap(a.pc[0]);for(let d=1,c=a.pc.length;d<c;++d){const e=a.pc[d];if(0!==e.hi||0!==e.ii)b=Math.min(b,ap(e))}return b}function Vp(a){return.5*a.g.Jf/mq(a)}function Wp(a){return.5*a.g.Ge/mq(a)}function hq(a){for(const b of a.pc)Oo(b)}function iq(a){for(const b of a.pc)b.oB=!0,b.pw=!0,b.qw=!0}
function nq(a,b){return a.zH.get(b)||null}
function oq(a,b,d,c){if(2<=c)if(d){if(d===b||sp(d,b))throw Error(`cannot move layer '${b.ka()}' to sub-layer of itself`);mp(d,b,2===c);b.ji=d}else 2===c?a.bf.push(b):a.bf.unshift(b),b.ji=null;else{var e=d.ji;if(e){if(sp(d,b))throw Error(`cannot move layer '${b.ka()}' to sub-layer of itself`);a=e.ge.indexOf(d);if(-1===a)throw Error("cannot find layer to insert by");0===c&&++a;e.ge.splice(a,0,b);b.ji=e}else{e=a.bf.indexOf(d);if(-1===e)throw Error("cannot find layer to insert by");0===c&&++e;a.bf.splice(e,
0,b);b.ji=null}}}function pq(a,b){var d=b.ji;if(d){a=d.ge.indexOf(b);if(-1===a)throw Error("cannot find layer to remove");d.ge.splice(a,1);return!0}if(1<a.bf.length){d=a.bf.indexOf(b);if(-1===d)throw Error("cannot find layer to remove");a.bf.splice(d,1);return!0}return!1}function kq(a){let b=0;for(const d of a.bf){for(const c of rp(d))c.Mp=b;d.Vp&&b++}}
function qq(a){for(a=a.bf.filter(b=>np(b))[0];a;){if(!a.uj)return pd(aq,a.sl),qd(aq,1),aq;if(a.zr())return md(aq,0,0,0,0),aq;a=a.ge.filter(b=>np(b))[0]}md(aq,0,0,0,0);return aq}function rq(a,b,d){if(b===a||!d)return Promise.resolve();b&&(Q.mS(a.Bh,b.Bh),b.Bh.clear());b=[];for(const c of a.Pp)a.Bh.has(c)||(b.push(c.az(d)),a.Bh.add(c));return Promise.all(b)}function sq(a,b){a.ux.add(b);b.then(()=>a.ux.delete(b)).catch(()=>a.ux.delete(b))}
async function tq(a,b){if(b.La)throw Error("cannot load textures for family");var d=a.g.wa();!d||d.Oi()||a.Bh.has(b)||(a.Bh.add(b),d=b.az(d),sq(a,d),await d,b.rE(),a.g.ya())}function uq(a,b){if(b.La||0<b.H.length)throw Error("cannot unload textures");a.g.wa()&&a.Bh.has(b)&&(a.Bh.delete(b),b.Hu())}
function vq(a,b){for(const c of a.g.Mc)if(!c.La&&c.Md)for(const e of c.na()){const f=e.C();var d=f.Z();d=Q.ia(d.Aa(),0,a.pc.length-1);d=a.pc[d];wq(f,d,!0);d.H.includes(e)||(d.H.push(e),0!==e.C().Xa()&&(d.nl=!0),Xo(d,e))}if(!b)for(const c of a.pc)Yo(c,!1)}
function xq(a){for(const e of a.pc){var b=e,d=a.zv;const f=b.Ef.Up;let g=0;const h=b.uk;for(let k=0,l=h.length;k<l;++k){var c=h[k];const m=Uo(b.g,c[1]);let n=!0;if(!yq(m)||f)c=Tp(b.g,c,b,!0),d.push(c),m.Ie()&&(n=!1,b.jA.push(c.Rb));n&&(h[g]=h[k],++g)}M.lf(h,g);Pl(b.g);Xo(b)}}
function zq(a){let b=!1;for(const [c,e]of Object.entries(a.Nn)){const f=Aq(a.g,parseInt(c,10));if(f&&!f.La&&yq(f))for(const g of e){var d=null;if(f.Md&&(d=g.hasOwnProperty("instJson")?nq(a,g.instJson.w.l):nq(a,g.w.l),!d))continue;d=Tp(a.g,f,d,!1,0,0,!0);g.hasOwnProperty("instJson")?d.Tc(g.instJson):d.Tc(g);b=!0;a.Av.push(d);g.hasOwnProperty("instJson")&&(a.VF.set(d,g),a.UF.set(g.index,d))}}for(const c of a.pc)Yo(c,!0),Xo(c);b&&(Pl(a.g),Bq(a.g))}
function Cq(a,b){for(const c of b){if(!c.cc())continue;const e=c.C(),f=Dq(c);for(const g of c.G().Hg.zk)if(g!==c.G()){var d=g.na();d.length>f?c.Ic.push(d[f]):(d=e?Tp(a.g,g,e.Z(),!0,e.Da(),e.Ea(),!0):Tp(a.g,g,null,!0,0,0,!0),Pl(a.g),Eq(g),c.Ic.push(d),b.push(d))}}}function Fq(a){for(const b of a.QG)Uo(a.g,b[1]).cc()||Tp(a.g,b,null,!0)}function Gq(a,b){b.layout=a.Uk();return a.g.Vj(b)}
async function Hq(a,b){const d=a.g,c=a.Wa,e=d.ja();a.FN&&(a.Oc=e.mC.get(a.FN.toLowerCase())||null,Iq(a.Oc));c.Ps=a;a.M=a.uX;a.N=a.tX;a.ri=d.wh/2;a.si=d.vh/2;No(a);iq(a);hq(a);kq(a);await Jq(a.g.$,a.gu(),!0);vq(a,b);xq(a);a.Up||zq(a);Cq(a,a.zv);Cq(a,a.Av);Fq(a);c.xh=null;Pl(d);var f=a.g.XV;await Promise.all(f);Q.D(f);if(!d.rh){for(const g of a.zv)Kq(g);for(const g of a.Av)Lq(g,a.VF,a.UF);for(const [g,h]of Object.entries(a.Nn))(f=Aq(a.g,parseInt(g,10)))&&!f.La&&yq(f)&&Q.D(h);for(const g of a.zv)Mq(g);
for(const g of a.Av)Mq(g)}Q.D(a.zv);Q.D(a.Av);a.VF.clear();a.UF.clear();await Promise.all([...a.Pp].map(g=>g.tE(a.g.wa())));b&&(d.lb().dispatchEvent(new Q.Event("beforefirstlayoutstart")),await d.Vj(new Q.Event("beforeprojectstart")));await Gq(a,new Q.Event("beforeanylayoutstart"));d.lb().dispatchEvent(new Q.Event("beforelayoutstart"));await a.Vj(new Q.Event("beforelayoutstart"));d.rh||await d.qd(Q.O.Ob.P.kU,null,null);d.lb().dispatchEvent(new Q.Event("afterlayoutstart"));await a.Vj(new Q.Event("afterlayoutstart"));
await Gq(a,new Q.Event("afteranylayoutstart"));b&&(d.lb().dispatchEvent(new Q.Event("afterfirstlayoutstart")),await d.Vj(new Q.Event("afterprojectstart")));Nq(e,c);await Promise.all([...a.ux]);a.Up=!1}function Oq(a){const b=[],d=a.QG;let c=0;for(let e=0,f=d.length;e<f;++e){const g=d[e],h=Uo(a.g,g[1]);h.Ie()?h.cc()&&Pq(h.Hg)||b.push(Tp(a.g,g,null,!0)):(d[c]=g,++c)}Q.lf(d,c);Pl(a.g);Cq(a,b)}
async function Qq(a){const b=a.Wa;a.g.rh||(await Gq(a,new Q.Event("beforeanylayoutend")),await a.Vj(new Q.Event("beforelayoutend")),await a.g.qd(Q.O.Ob.P.jU,null,null),await a.Vj(new Q.Event("afterlayoutend")),await Gq(a,new Q.Event("afteranylayoutend")));Rq(b,!0);Sq(a.g.ja());if(!a.Up){a.Pw.clear();var d=0;for(var c of a.pc){up(c);for(var e of c.H){var f=e.G();if(!f.Ie()&&yq(f)){f=a;var g=e,h=d,k=g.G().fb.toString();f.Nn.hasOwnProperty(k)||(f.Nn[k]=[]);k=f.Nn[k];h={index:h,instJson:g.Gd(),sceneGraphJson:{children:[]}};
k.push(h);f.Pw.set(g,h);d++}}}for(const l of a.pc)for(const m of l.H)if(d=m.G(),!d.Ie()&&yq(d)){d=a;c=d.Pw.get(m);for(const n of m.kd())(e=d.Pw.get(n))&&c.sceneGraphJson.children.push({index:e.index,flags:Tq(n.C())})}a.Pw.clear()}for(const l of a.pc){for(const m of l.H)m.G().Ie()||Pp(l.g,m);Pl(l.g);M.D(l.H);l.nl=!1;Xo(l)}for(const l of a.g.Mc)if(!(l.Ie()||l.Md||l.Ka().ei||l.La)){for(const m of l.na())Pp(a.g,m);Pl(a.g)}Rq(b,!1);b.Cb()===a&&(b.Ps=null)}
function Uq(a,b){const d=a.g.$;a.zr()?(b.xd(null),b.Yg(0,0,0,0),b={Lc:a.g.uc,Di:b.nd()||a.g.Eq||a.Ga.vu(),po:b.nd()?a.g.Eq:!1},"low"===d.ph&&(b.width=d.Zj(),b.height=d.Yj()),a.ve=a.g.Zt(b)):a.ve=null}
function lq(a,b){var d=qp;d[0].uj||(pd(aq,d[0].sl),qd(aq,1),a.Ed(aq));a.re(!0);for(var c of d)up(c),kp(c,cq);c=d[0];d=Cp(c,a);Ep(c,a);for(let m=0,n=cq.length;m<n;){var e=cq[m],f=e.C(),g=f.Z();if(f.mc()&&Yp(f,Op(g))){(!e.pr()||0<f.Dc)&&eq.push(e);var h=Kp(e.C());dq.push(e);for(c=m+1;c<n;++c){var k=cq[c],l=k.C();if(l.mc()&&Yp(l,Op(l.Z()))){if(Kp(l)!==h)break;k.pr()?(0<l.Dc&&eq.push(k),dq.push(k)):eq.push(k)}}if(1!==dq.length||0!==(dq[0].B&32)){e=a;f=b;g=dq;e.ED();for(let p=0,q=g.length;p<q;++p)h=g[p],
k=h.C(),l=k.Z(),k.xb(1048576,!0),gq(l,e),Np(h,k,e);e.yy();for(let p=0,q=g.length;p<q;++p)h=g[p],k=h.C(),l=k.Z(),gq(l,e),Ip(l,h,k,e,f),k.xb(1048576,!1);e.xy();for(let p=0,q=eq.length;p<q;++p)e=eq[p],f=e.C(),g=f.Z(),f.xb(2097152,!0),gq(g,a),Ip(g,e,f,a,b),f.xb(2097152,!1)}else{gq(g,a);Ip(g,e,f,a,b);for(let p=0,q=eq.length;p<q;++p)f=eq[p],f!==e&&(g=f.C(),h=g.Z(),gq(h,a),Ip(h,f,g,a,b))}m=c;Q.D(dq);Q.D(eq)}else++m}d&&Xi(a,d);Q.D(cq);fq=null}
Q.PT=class extends Q.pa{constructor(a,b,d){super();this.Wa=a;this.g=a.F();this.Ca=d[0];this.uX=d[1];this.tX=d[2];this.M=d[1];this.N=d[2];this.yn=!!d[3];this.ig=!!d[4];this.JC=d[5];this.KC=d[6];this.FN=d[7];this.Oc=null;this.fb=d[8];this.ga=b;this.si=this.ri=0;this.Ce=1;this.Eg=0;this.Pp=new Set;this.Bh=new Set;this.ux=new Set;this.zv=[];this.Av=[];this.VF=new Map;this.UF=new Map;this.QG=[];this.WW=!1;this.KF=bq.create();this.nW=bq.create();this.oW=bq.create();this.bf=[];this.pc=[];this.yH=new Map;
this.zH=new Map;this.jI=-1;const c=this.g.$;this.Ga=Q.j(Q.Do,this,d[11]);this.Se=Q.j(Q.L.qf,c.Lv,{YC:(e,f)=>{f=f.an.Ni();Ti(e);e.Zq(f);e.Ko(f);c.Vo(f)},bD:e=>this.Ga.Dz(e)});this.Sl=!0;this.fQ=!1;this.ve=null;this.Nn={};this.Pw=new Map;this.Up=!0;this.OW=new self.nT(this);this.Ee=Q.j(Q.Event.lb);for(const e of d[9])this.bf.push(So(this,null,e));jq(this);for(const e of this.Ft())To(e);for(const e of d[10]){a=Uo(this.g,e[1]);if(!a)throw Error("missing nonworld object class");a.Ap||(a.Ap=e);this.QG.push(e);
Vo(this,a)}}m(){for(const a of this.pc)a.m();Q.D(this.pc);this.ux.clear();this.g=this.Wa=this.Oc=null}F(){return this.g}ka(){return this.Ca}Aa(){return this.ga}Tf(){this.Wu();return this.Se}Wu(){const a="low"===this.g.$.ph;if(this.Sl||this.fQ!==a||this.Se.Ew){var b=this.Ga.Cg;al(this.Se,b.map(d=>d.Td()),{Jt:b.map(d=>d.Aa()),EQ:a,GK:!0});this.Sl=!1;this.fQ=a}}Ag(){this.Ga.Ag();this.Sl=!0}Ui(a){const b=this.yn?-Infinity:Vp(this),d=this.yn?Infinity:this.S()-Vp(this);a>d&&(a=d);a<b&&(a=b);this.ri!==a&&
(this.ri=a,hq(this),this.g.ya())}vg(){return this.ri}Vi(a){const b=this.yn?-Infinity:Wp(this),d=this.yn?Infinity:this.R()-Wp(this);a>d&&(a=d);a<b&&(a=b);this.si!==a&&(this.si=a,hq(this),this.g.ya())}wg(){return this.si}qe(a){a=Q.Cd(a);this.Eg!==a&&(this.Eg=a,hq(this),this.g.ya())}hb(){return this.Eg}S(){return this.M}fh(a){!isFinite(a)||1>a||(this.M=a)}R(){return this.N}Sh(a){!isFinite(a)||1>a||(this.N=a)}*Ft(){for(const a of this.bf)yield*rp(a)}Z(a){return"number"===typeof a?Sp(this,a):Rp(this,a.toString())}IK(a,
b,d){if(Rp(this,a))throw Error(`layer name '${a}' already in use`);if(!b&&2>d)throw Error("invalid insert position");a=Q.j(Q.kE,this,2<=d?b:b.ji,{name:a,Lq:Math.floor(1E15*Math.random()),SJ:!0});oq(this,a,b,d);this.F().ya();Mo(this)}QL(a,b,d){if(!b&&2>d)throw Error("invalid insert position");a===b&&2>d||(pq(this,a),oq(this,a,b,d),this.F().ya(),Mo(this))}eM(a){if(pq(this,a)){const b=this.g.ja();Ml(b,!0);a.m();Ml(b,!1);this.F().ya();Mo(this)}}yE(){const a=new Set;for(var b of this.Ft()){var d;if(d=
b.kw){a:{for(const c of b.ey())if(c.kw){d=!0;break a}d=!1}d=!d}d&&a.add(b)}if(0!==a.size){b=this.g.ja();Ml(b,!0);for(const c of a)pq(this,c),c.m();Ml(b,!1);this.F().ya();Mo(this)}}gu(){return this.bf.at(-1).Mp+1}Iz(){this.Bh.clear()}Fu(a,b,d,c,e,f,g){if(d)return d.Fu(a,b,e,f,c,g);d=[];for(const h of this.pc)d.push(h.Fu(a,b,e,f,c,g));return d.flat()}Ni(){return this.ve}zr(){const a=this.g,b=a.wa().Qh();return"low"===a.$.ph||b&&a.Eq||this.Ga.vu()||b&&a.Fh}la(){const a={sx:this.vg(),sy:this.wg(),s:this.Ce,
a:this.hb(),w:this.S(),h:this.R(),ortho:this.ig,vpX:hp(this),vpY:ip(this),fv:this.Up,persist:this.Nn,fx:this.Ga.Gd(),layers:{},dynamicLayers:[]};for(const h of this.pc)if(h.kw){var b=h.ji,d=a.dynamicLayers,c=d.push,e=h.fb,f=h.ka();b=b?b.fb:null;var g=(g=h.ji)?g.ge.indexOf(h):h.Sb().bf.indexOf(h);c.call(d,{sid:e,name:f,parentSid:b,siblingIndex:g,data:h.la()})}else a.layers[h.fb.toString()]=h.la();return a}oa(a){this.ri=a.sx;this.si=a.sy;this.Ce=a.s;this.Eg=a.a;this.M=a.w;this.N=a.h;this.ig=!!a.ortho;
a.hasOwnProperty("vpX")&&(this.JC=a.vpX);a.hasOwnProperty("vpY")&&(this.KC=a.vpY);this.Up=!!a.fv;this.Nn=a.persist;this.Ga.Tc(a.fx);this.Sl=!0;for(const [g,h]of Object.entries(a.layers)){var b=nq(this,parseInt(g,10));b&&b.oa(h)}if(a.hasOwnProperty("dynamicLayers")){this.yE();Pl(this.g);b=new Map;a=a.dynamicLayers;for(let g=a.length-1;0<=g;--g){var d=a[g],c=d.sid,e=d.name,f=d.parentSid;const h=d.siblingIndex;d=d.data;jq(this);if(Rp(this,e)||nq(this,c))continue;let k;if(null===f)k=null,f=this.bf;else{k=
nq(this,f);if(!k)continue;f=k.ge}c=Q.j(Q.kE,this,k,{name:e,Lq:c,SJ:!0});f.push(c);e=b.get(f);e||(e=[],b.set(f,e));e.push({Hq:c,zK:h});c.oa(d)}for(const [g,h]of b){h.sort((k,l)=>k.zK-l.zK);for(const k of h)b=k.Hq,a=k.zK,g.splice(g.indexOf(b),1),g.splice(a,0,b)}}Mo(this);iq(this);hq(this)}Uk(){return this.OW}Pf(a){a.layout=this.Uk();var b=this.g;(b=b.zb&&!Ol(b.ja()))&&Zp.NE();this.Ee.dispatchEvent(a);b&&Zp.vD()}Vj(a){a.layout=this.Uk();return ve(this.Ee,a)}};"use strict";const Vq=self.A;
function Rq(a,b){if(b)a.ys++;else{if(0>=a.ys)throw Error("already unset");a.ys--}}function Wq(a){if(a.BA)return a.BA;if(a.Wh.length)return a.Wh[0];throw Error("no first layout");}function Xq(a,b){return a.CH.get(b.toLowerCase())||null}function*Yq(a){a.Ps&&(yield a.Ps);a.wI.length&&(yield*a.wI)}function Zq(a){(a=a.Cb())&&iq(a)}function $q(a){(a=a.Cb())&&hq(a)}
Vq.QT=class extends Vq.pa{constructor(a){super();this.g=a;this.Wh=[];this.CH=new Map;this.Hs=new Map;this.Ps=null;this.wI=[];this.BA=null;this.ys=0;this.xh=null}m(){this.xh=this.BA=this.Ps=this.g=null;Vq.D(this.Wh);this.CH.clear();this.Hs.clear();Vq.D(this.wI)}va(a){a=Vq.j(Vq.PT,this,this.Wh.length,a);this.Wh.push(a);this.CH.set(a.ka().toLowerCase(),a);this.Hs.set(a.fb,a)}F(){return this.g}Sb(a){"number"===typeof a?(a=Vq.ia(Math.floor(a),0,this.Wh.length-1),a=this.Wh[a]):a=Xq(this,a.toString());return a}Cb(){return this.Ps}};
"use strict";const ar=self.A;function*br(a){for(const b of a.Pd)yield b}function cr(a,b,d){a.Vl.has(b)||a.Vl.set(b,new Set);a.Vl.get(b).add(d)}function dr(a){a.uh.length||a.Pd.length||a.mg.length||a.ow||(a.Gl=!1)}function er(a,b){a.Pd.includes(b)?(b.vk=!0,b.jg=!1,b.Ql=!1):(b.vk=!1,b.jg=!0,b.Ql=!1,a.mg.includes(b)||a.mg.push(b));a.Gl||(a.Gl=!0)}function fr(a,b){b.vk=!1;b.jg=!1;gr(b);ar.Nk(a.mg,b);dr(a)}
function hr(a,b){b.vk=!1;b.jg=!1;a.Pd.includes(b)&&(b.Ql=!0,a.uh.push(b),ar.Nk(a.Pd,b));a.mg.includes(b)&&(b.Ql=!0)}function ir(a,b){b.vk=!1;b.jg=!1;b.Ql=!1;b.Ri(1);ar.Nk(a.Pd,b)}function jr(a){a.Qd||lr(a)&&a.Gg&&a.sn&&a.cL()}function mr(a){return a.Fk.map(b=>b.la())}function nr(a){return a.map(b=>b.ka())}function or(a,b,d){var c=new Set;for(const e of d)pr(e,b)||c.add(e);ar.Vg(d,c);if(b){c=e=>f=>f.ka()===e;for(const e of b)(b=a.ao.get(e.toLowerCase())||null)&&(d.find(c(e))||d.push(b))}}
function pr(a,b){if(!b)return!1;for(const d of b)if(d===a.ka())return!0;return!1}
ar.hV=class extends ar.pa{constructor(a){super();this.g=a;this.xx=ar.j(ar.fV);this.Xl=null;this.Fk=[];this.ao=new Map;this.Vl=new Map;this.Gk=new Map;this.mg=[];this.Pd=[];this.uh=[];this.ow=this.Tr=this.Gl=!1;this.gm=()=>{if(!this.F().rh&&this.Gl&&!this.Tr){for(this.ow=!0;this.mg.length;){var b=this.mg.pop();b.Ql?(b.nc(!1,!0),b.vk=!1,b.jg=!1,this.uh.push(b)):(b.nc(),this.Pd.push(b));0!==b.Qb&&(this.Qb=1)}b=this.g.Kv;var d=this.g.Cp,c=this.g.hf;for(let e=this.Pd.length-1;0<=e;e--){const f=this.Pd[e];
f&&f.hh(b,c,d)}this.ow=!1;0!==this.Qb&&this.F().ya()}};this.ut=()=>{if(!this.F().rh&&this.Gl&&!this.Tr){var b;for(let d=0,c=this.uh.length;d<c;d++){const e=this.uh[d];b||(b=new Set);qr(e);jr(e);b.add(e)}if(b){ar.Vg(this.uh,b);this.Qb=0;for(let d=0,c=this.Pd.length;d<c;d++)if(0!==this.Pd[d].Qb){this.Qb=1;break}}dr(this)}};this.BF=()=>this.Xu();this.BH=()=>{this.Tr=!1};this.vs=b=>this.Hz(b.instance);this.nN=()=>this.Er();this.rF=()=>this.Bg();this.fN=()=>{const b=this.g.Wa.Cb();if(b)for(const d of this.Fk){const c=
d.WD();c&&b.ka()===c&&er(this,d)}};this.Jv=[];this.Qb=0}m(){this.zE();this.rF=this.vs=this.BH=this.BF=this.ut=this.gm=null;for(const a of this.Fk)a.Oe(),a.m();ar.D(this.Fk);this.Fk=null;this.xx.m();this.xx=null;ar.D(this.mg);this.mg=null;ar.D(this.Pd);this.Pd=null;ar.D(this.uh);this.uh=null;this.ao.clear();this.ao=null;this.Vl.clear();this.Vl=null;this.Gk.clear();this.Gk=null;ar.D(this.Jv);this.g=this.Jv=null}uD(){const a=this.g.lb();a.addEventListener("pretick",this.gm);a.addEventListener("tick2",
this.ut);a.addEventListener("beforelayoutchange",this.BF);a.addEventListener("layoutchange",this.BH);a.addEventListener("instancedestroy",this.vs);a.addEventListener("beforeload",this.nN);a.addEventListener("afterload",this.rF);a.addEventListener("afterlayoutstart",this.fN)}zE(){const a=this.g.lb();a.removeEventListener("pretick",this.gm);a.removeEventListener("tick2",this.ut);a.removeEventListener("beforelayoutchange",this.BF);a.removeEventListener("layoutchange",this.BH);a.removeEventListener("instancedestroy",
this.vs);a.removeEventListener("beforeload",this.nN);a.removeEventListener("afterload",this.rF);a.removeEventListener("afterlayoutstart",this.fN)}va(a){this.xx.Fb(a);const b=this.xx.W(a[0]);a=R.j(R.Nm,a[0],b,this);a.Bs=!0;this.Fb(a);for(const d of a.kL())cr(this,d,a);this.Gk.set(a.ka(),0)}GD(a){var b=this.xx;a=a.ir();b=b.W(a);b=ar.Nm.GD(`${a}:${this.Gk.get(a)}`,b,this);this.Gk.set(a,this.Gk.get(a)+1);this.Fb(b);return b}Fb(a){this.Fk.push(a);this.ao.set(a.ka().toLowerCase(),a)}Ke(a){qr(a);if(!a.Bs){ar.Nk(this.Fk,
a);ar.Nk(this.mg,a);ar.Nk(this.Pd,a);ar.Nk(this.uh,a);this.ao.delete(a.ka().toLowerCase());for(const [b,d]of this.Vl.entries())d.has(a)&&(d.delete(a),0===d.size&&this.Vl.delete(b));a.Qd||a.m()}}$a(a){this.g.$a(a,this.Xl,null)}F(){return this.g}Qy(){return this.Xl}Xu(){for(this.Tr=!0;this.mg.length;)fr(this,this.mg.pop());const a=new Set;for(const b of this.Pd)b.Xu()&&(qr(b),a.add(b));ar.Vg(this.Pd,a);a.clear();for(const b of this.uh)b.Xu()&&(qr(b),a.add(b));ar.Vg(this.uh,a);dr(this);for(const b of this.Fk)b.Uj()}Hz(a){var b=
a.G();b=this.Vl.has(b)?this.Vl.get(b):void 0;if(b)if(this.g.rh)this.Jv.push(a);else for(const d of b)d.Bs||(d.Qd?this.Ke(d):lr(d)||(jr(d),this.Ke(d)))}Er(){for(const a of this.mg.map(b=>b))jr(a),this.Ke(a);for(const a of this.Pd.map(b=>b))jr(a),this.Ke(a)}Bg(){for(const a of this.Jv)this.Hz(a);ar.D(this.Jv);for(const a of this.Fk)a.Bg()}la(){return{timelinesJson:mr(this),scheduledTimelinesJson:nr(this.mg),playingTimelinesJson:nr(this.Pd),markedForRemovalTimelinesJson:nr(this.uh),hasRuntimeListeners:this.Gl,
changingLayout:this.Tr,isTickingTimelines:this.ow}}oa(a){if(a){for(var b of this.Gk.keys())this.Gk.set(b,0);b=a.timelinesJson;for(const d of b){b=this.ao.get(d.name.toLowerCase())||null;if(!b){b=(b=d.name.split(":"))&&2===b.length?b[0]:null;if(!b)continue;b=this.ao.get(b.toLowerCase())||null;b=this.GD(b)}b.oa(d);b.Va.length||this.Ke(b)}or(this,a.scheduledTimelinesJson,this.mg);or(this,a.playingTimelinesJson,this.Pd);or(this,a.markedForRemovalTimelinesJson,this.uh);this.Gl=!a.hasRuntimeListeners;this.Tr=
!!a.changingLayout;this.ow=!!a.isTickingTimelines;for(const d of this.Fk)d.Bs||(a=d.ir(),this.Gk.set(a,this.Gk.get(a)+1));this.Gl||(this.Gl=!0);dr(this)}}};"use strict";const rr=self.A,sr=[0,0],tr=[0,0],ur=[0,0,0,0,0],vr=Array(4),wr=[{x:0,y:0,t:0,hd:0},{x:0,y:0,t:0,hd:0},{x:0,y:0,t:0,hd:0}],xr={x:0,y:0,t:0,hd:0};
rr.C5=class{constructor(a,b){this.Rp=!1;this.he=a;this.dm=[];var d;if(b)a:{a=this.he;for(d of a.Va)if(R.Qj(d.Vk(),b)){b=d;break a}b=null}else b=rr.first(this.he.Va);if(d=b)if(b=d.ld("offsetX"),d=d.ld("offsetY"),b&&d){b=b.Sy();d=d.Sy();for(let c=1,e=Math.min(b.length,d.length);c<e;++c){a=b[c];const f=a.Qn,g=d[c],h=g.Qn;f&&"cubic-bezier"===f.iI&&h&&"cubic-bezier"===h.iI?this.dm.push(rr.j(rr.dV,f,h,a,g,this.dm.length)):this.dm.push(rr.j(rr.gV,a,g,this.dm.length))}this.Rp=!0}}m(){for(const a of this.dm)a.m();
rr.D(this.dm);this.he=this.dm=null}gz(a,b){let d=NaN,c=this.dm.length;for(let e=0;e<c;e++){const f=this.dm[e];if("cubic-bezier"===f.Tb()){const g=f.gz(a,b);isNaN(d)?(d=g[3],tr[0]=g[2],tr[1]=f.Aa()):g[3]<d&&(d=g[3],tr[0]=g[2],tr[1]=f.Aa())}}return tr}};function yr(a,b){return a.Rp?self.Co.Xk("cubicbezier")(b,a.VV+a.Lw,a.cW+a.Lw,a.lW+a.Lw,a.xW+a.Lw):NaN}function zr(a,b){return a.Rp?self.Co.Xk("cubicbezier")(b,a.WV+a.Mw,a.dW+a.Mw,a.mW+a.Mw,a.yW+a.Mw):NaN}
rr.dV=class{constructor(a,b,d,c,e){this.ga=e;e=Ar(a,"cubic-bezier");var f=Ar(d,"cubic-bezier");const g=Ar(b,"cubic-bezier"),h=Ar(c,"cubic-bezier");this.VV=Br(a);this.WV=Br(b);this.cW=Br(a)+e.mx;this.dW=Br(b)+g.mx;this.lW=Br(d)+f.Nv;this.mW=Br(c)+h.Nv;this.xW=Br(d);this.yW=Br(c);this.pQ=this.oQ=this.nQ=this.mQ=this.lQ=this.kQ=this.dN=this.cN=0;this.Os=NaN;this.Rp=!1;this.Is=100;this.pl=Array(this.Is+1);this.pl[0]=0;this.Ns=[];this.En=[];for(a=0;100>a;a++)this.En.push({x:0,y:0,t:0,hd:0});this.Rp=!0;
a=yr(this,0);b=zr(this,0);d=0;for(c=1;c<=this.Is;c++)e=yr(this,.01*c),f=zr(this,.01*c),d+=Math.hypot(a-e,b-f),this.pl[c]=d,a=e,b=f}m(){rr.D(this.pl);this.pl=null;rr.D(this.Ns);this.Ns=null;rr.D(this.En);this.En=null}Tb(){return"cubic-bezier"}Aa(){return this.ga}Map(a){if(!this.Rp)return NaN;if(this.Rp){a*=this.pl[this.Is];for(var b=0,d=this.Is,c=0;b<d;)c=b+((d-b)/2|0),this.pl[c]<a?b=c+1:d=c;this.pl[c]>a&&c--;b=this.pl[c];a=b===a?c/this.Is:(c+(a-b)/(this.pl[c+1]-b))/this.Is}else a=void 0;sr[0]=yr(this,
a);sr[1]=zr(this,a);return sr}gz(a,b){var d=100;if(!(this.Ns.length>=d)){this.Ns=Array(d);d++;for(var c=0;c<d-1;c++){var e=c/(d-1),f=e**2,g=e**3,h=this.dN+this.nQ*e+this.oQ*f+this.pQ*g;this.En[c].x=this.cN+this.kQ*e+this.lQ*f+this.mQ*g;this.En[c].y=h;this.En[c].t=e;this.En[c].hd=0;this.Ns[c]=this.En[c]}}d=this.Ns;e=Number.MAX_SAFE_INTEGER;c=0;if(isNaN(this.Os))for(f=0;100>f;f++){g=d[f];h=g.x-a;var k=g.y-b;g.hd=h*h+k*k;g.hd<e&&(e=g.hd,c=f)}else{for(f=this.Os;f<this.Os+5&&!(f>=d.length);f++)g=d[f],
h=g.x-a,k=g.y-b,g.hd=h*h+k*k,g.hd<e&&(e=g.hd,c=f);for(f=this.Os;f>this.Os-5&&!(0>f);f--)g=d[f],h=g.x-a,k=g.y-b,g.hd=h*h+k*k,g.hd<e&&(e=g.hd,c=f)}this.Os=c;e=d[c];f=1;g=Number.MAX_SAFE_INTEGER;a:do{h=d.length;var l=0===c?0:c-1;h=c===h-1?h-1:c+1;k=d[l].t;let q=(d[h].t-k)/4;if(.001>q)break;vr[0]=d[l];for(l=1;2>=l;l++){const t=k+l*q;var m=t**2,n=t**3;const r=this.cN+this.kQ*t+this.lQ*m+this.mQ*n;m=this.dN+this.nQ*t+this.oQ*m+this.pQ*n;n=r-a;var p=m-b;n=n*n+p*p;if(n<g){xr.x=r;xr.y=m;xr.t=t;xr.hd=n;e=xr;
break a}p=wr[l-1];p.x=r;p.y=m;p.t=t;p.hd=n;vr[l]=p}vr[3]=d[h];d=vr}while(20>f++);a=e;ur[0]=a.x;ur[1]=a.y;ur[2]=a.t;ur[3]=a.hd;return ur}};rr.gV=class{constructor(a,b,d){this.ga=d;this.IX=Br(a);this.JX=Br(b);this.Mw=this.Lw=0}m(){}Tb(){return"line"}Aa(){return this.ga}Da(){return this.IX+this.Lw}Ea(){return this.JX+this.Mw}};"use strict";const R=self.A;function bn(a){if(a.hq)return a.hq;a.hq=new Promise(b=>{a.XB=b});return a.hq}function qr(a){if(!a.Qd)for(const b of a.Va)b.hl()}
function gr(a){a.hq&&(a.XB(),a.hq=null,a.XB=null)}function lr(a){return a.Va.some(b=>Cr(b)?Dr(b):!0)}function Er(a,b,d,c,e){if(a.NA){var f;for(let h=0;h<a.Va.length;h++){var g=a.Va[h];b===g.Y()&&(g=g.ld(c))&&d.constructor===g.qb().constructor&&g.lc()===e.lc()&&(f||(f=[]),f.push(g))}return f}}function Fr(a){return a.IsPlaying()?0<a.Gc:!0}function Gr(a){if(R.$k(a))return a.slice(0);if(R.Ph(a))return a.split(" ");throw Error("invalid tags");}
function Hr(a,b){a.Gg=b;b=a.xa();if(0>=b||b>=a.xc())a.Gg=!0}function Ir(a,b){R.Ub(b)||(b=a.xc());a.tb=0>b?0:b>=a.xc()?a.xc():b}function Jr(a){a.NA=0;for(const b of a.Va)b.wn&&(a.NA=1)}function Kr(a,b,d=!1,c=NaN,e=!1,f=!1){for(var g of a.Va)g.yo();for(const h of a.Va){g=b;if("number"===typeof c&&!isNaN(c)){const k=a.xa()-h.Uf(),l=c-h.Uf();0>k&&0<l&&(g=h.Uf(),Ir(a,g))}h.Ba(g,!1,d,!0,a.Df,f)}for(const h of a.Va)h.xo();a.Df&&e&&(a.Df=!1)}
function Lr(a){a.Qb=0;for(const b of a.Va)b.Kz(),0===a.Qb&&1===b.Qb&&(a.Qb=1),a.Kr||1!==b.Og||(a.Kr||(a.Kr=[]),a.mN=a.Kr.push(b))}function Mr(a){R.O.oc&&a.constructor===R.Nm&&(R.O.oc.P.uE(a),a.Ab.$a(R.O.oc.P.N1),a.Ab.$a(R.O.oc.P.O1),a.Ab.$a(R.O.oc.P.P1),R.O.oc.P.sE())}function an(a){if(!a.fr())if(a.gr()&&1===a.wb)if(Fr(a)){if(a.xa()>=a.xc())return!1}else{if(0>=a.xa())return!1}else if(!a.fr()&&!a.gr())if(Fr(a)){if(a.xa()>=a.xc())return!1}else if(0>=a.xa())return!1;return!0}
function Nr(a){return a.Va.some(b=>Cr(b)?Dr(b)?(b=b.G())?b.Ie():!1:!1:!1)}function Or(a){for(const b of a.Va)b.sc=null,b.Kl=NaN,b.Na=null,b.Ul=NaN,b.vv=!0}function Pr(a,b){for(const d of a.Va)if(b===d.Y())return d;return null}function Qr(a){return a.Va.map(b=>b.la())}function Rr(a,b){Or(a);b.forEach((d,c)=>{a.Va[c].oa(d)});a.Va.filter(d=>Dr(d))}
R.Nm=class extends R.pa{constructor(a,b,d){super();this.g=d.F();this.Ab=d;this.gd=b;this.Ca=a;this.Va=[];this.UP=0;this.Kr=null;this.mN=0;this.UK();this.XB=this.hq=null;this.Hn=this.tb=0;this.Gc=1;this.wb=0;this.Xd=1;this.sn=this.jg=this.vk=!1;this.Gg=!0;this.Ql=this.Qd=!1;this.$m=-1;this.Df=this.Cl=this.Bs=this.ts=!1;this.Ds=NaN;this.ef=[""];this.LP="";this.SI=!1;this.NA=this.Qb=0;this.MG=null}static GD(a,b,d){return R.j(R.Nm,a,b,d)}m(){if(!this.Qd){var a=this.g.lb();fr(this.Ab,this);hr(this.Ab,
this);gr(this);for(const b of this.Va)b.m();R.D(this.Va);this.gd=this.Ab=this.g=this.Va=null;this.Qd=!0;this.XB=this.hq=null;this.dL(a)}}dL(a){const b=R.j(R.Event,"timelinestatereleased");b.T9=this;a.dispatchEvent(b)}Tb(){return 0}UK(){for(const a of Sr(this.gd.ru()))this.UP=this.Va.push(R.PE.va(this,a))}F(){return this.g}Mu(a){this.Ca=a}ka(){return this.Ca}ir(){return this.gd.ka()}xc(){return this.gd.xc()}KE(a){this.gd.KE(a)}ou(){return this.gd.ou()}Mh(){return this.gd.Mh()}lc(){return this.gd.lc()}gk(a){for(const b of this.Va)b.gk(a)}fr(){return this.gd.fr()}gr(){return this.gd.gr()}Nh(){return this.gd.Nh()}Ri(a){this.Gc=
a}WD(){return this.gd.WD()}Uy(){return this.gd.Uy()}XD(){return this.gd.XD()}AM(a){this.ef=Gr(a);this.SI=!0}hT(a){return this.ef&&this.ef.length?(a=Gr(a))&&a.length?a.every(R.Nm.PV,this):!1:!1}YL(){R.O.oc&&this.constructor===R.Nm&&(R.O.oc.P.uE(this),this.Ab.$a(R.O.oc.P.T1),this.Ab.$a(R.O.oc.P.U1),this.Ab.$a(R.O.oc.P.V1),this.Ab.$a(R.O.oc.P.D1),R.O.oc.P.sE())}cL(){this.Cl||(this.Cl=!0,R.O.oc&&this.constructor===R.Nm&&(R.O.oc.P.uE(this),this.Ab.$a(R.O.oc.P.Q1),this.Ab.$a(R.O.oc.P.R1),this.Ab.$a(R.O.oc.P.S1),
this.Ab.$a(R.O.oc.P.C1),R.O.oc.P.sE()))}IsPlaying(a=!1){return this.$m===this.g.Ch||this.jg&&!a?!0:this.vk}xa(){return this.tb}$o(a){const b=this.xa();Ir(this,a);Hr(this,!1);this.Gg||(this.ts=!0);if(this.IsPlaying(!0)||this.jg||!this.sn)this.IsPlaying(!0)||this.jg||this.sn?this.IsPlaying(!0)?this.Oe():this.jg&&(fr(this.Ab,this),this.nc(!0)):this.nc(!0);Jr(this);Kr(this,this.xa(),!0,b);Lr(this);this.Qb&&this.F().ya();Mr(this)}kl(a){R.Ub(a)||(a=this.xc());this.tb=0>a?0:a>=this.xc()?this.xc():a;for(const b of this.Va)b.Ti()}Play(a=
!1){this.Qd||this.jg?a=!1:this.IsPlaying(!0)&&this.$m===this.g.Ch?(this.ts=!1,a=this.Ab,ar.Nk(a.Pd,this),dr(a),er(this.Ab,this),bn(this),a=!0):this.IsPlaying(!0)||!this.Gg&&!a&&!this.ts?a=!1:(this.ts=!1,er(this.Ab,this),bn(this),a=!0);return a}Oe(a=!1){this.Qd||(Hr(this,a),hr(this.Ab,this),this.Gg&&gr(this))}dc(a=!0,b=!1){if(!this.Qd)if(!this.IsPlaying(!0)&&this.jg)fr(this.Ab,this);else if(!this.Gg){this.Oe(!0);Fr(this)?Ir(this,0):Ir(this,this.xc());var d=this.xa();Jr(this);b?Kr(this,d,!1,NaN,!1,
!0):Kr(this,d,!1);a&&Mr(this);Lr(this);this.Qb&&a&&this.F().ya()}}Xu(){if(this.Qd)return!0;if(!this.F().rh&&Nr(this))return!1;ir(this.Ab,this);this.F().rh||this.dc(!1,!0);return!0}nc(a=!1,b=!1){if(!this.Ql||b){if(a){this.Cl=!1;this.Df=this.sn=!0;Jr(this);for(const d of this.Va)d.nc()}else if(this.vk=!0,this.jg=!1,this.YL(),this.Gg){this.$m=-1;0!==this.wb&&(this.Gc=Math.abs(this.Gc));this.wb=0;this.Xd=1;this.Cl=this.Gg=!1;this.Df=this.sn=!0;Fr(this)?Ir(this,0):Ir(this,this.xc());Jr(this);for(const d of this.Va)d.nc()}else{this.Df=
!0;this.Cl=!1;Jr(this);for(const d of this.Va)d.yf()}Lr(this)}}hh(a,b,d){if(this.XD()){if(0===a&&0===this.Ds)return;this.Ds=a;a=d}else{if(0===d&&0===this.Ds)return;a=this.Ds=d;b=1}d=this.tb+this.Hn;b=d+a*b*this.Gc;a=this.gd.yq;0>b?(this.tb=0,this.Hn=-b):b>=a?(this.tb=a,this.Hn=this.tb-b):(this.tb=b,this.Hn=0);var c=!1;b=!1;var e=this.fr(),f=this.gr();e||f?e&&!f?0<this.Gc?this.tb>=a&&(this.kl(0),b=!0):0>=this.tb&&(this.kl(a),b=!0):!e&&f?0<this.Gc?this.tb>=a&&(Ir(this,a),this.Ri(-1*this.Gc),b=!0,1===
this.wb?this.Xd<this.Nh()?(this.Xd++,this.wb=0):c=!0:0===this.wb&&(this.wb=1)):0>=this.tb&&(Ir(this,0),this.Ri(-1*this.Gc),b=!0,1===this.wb?this.Xd<this.Nh()?(this.Xd++,this.wb=0):c=!0:0===this.wb&&(this.wb=1)):e&&f&&(0<this.Gc?this.tb>=a&&(Ir(this,a),this.Ri(-1*this.Gc),b=!0,this.wb++,R.wrap(this.wb,0,2)):0>=this.tb&&(Ir(this,0),this.Ri(-1*this.Gc),b=!0,this.wb++,R.wrap(this.wb,0,2))):0<this.Gc?this.tb>=a&&(this.Xd<this.Nh()?(this.Xd++,this.kl(0),b=!0):(Ir(this,a),c=!0)):0>=this.tb&&(this.Xd<this.Nh()?
(this.Xd++,this.kl(a),b=!0):(Ir(this,0),c=!0));e=this.UP;if(c){for(c=0;c<e;c++)this.Va[c].Lu();this.Oe(!0);this.$m=this.g.Ch}else{f=this.mN;for(c=0;c<f;c++)this.Kr[c].yo();if(1===this.NA)for(c=0;c<e;c++){const g=this.Va[c],h=g.Uf(),k=d-h;0>this.tb-h&&0<k?(this.tb=0>h?0:h>=a?a:h,g.Ba(h,!0,!1,b,this.Df,!1)):g.Ba(this.tb,!0,!1,b,this.Df,!1)}else for(c=0;c<e;c++)this.Va[c].Ba(this.tb,!0,!1,b,this.Df,!1);for(c=0;c<f;c++)this.Kr[c].xo();this.Df&&(this.Df=!1)}}Uj(){for(const a of this.Va)a.Uj()}ld(a){for(const b of this.Va)for(const d of b.Ta)if(d.ha.Hc===
a)return d}kL(){const a=[];for(const b of this.Va)a.push(b.G());return a.filter(b=>b)}Bg(){for(const a of this.Va)a.Bg()}la(){return{tracksJson:Qr(this),name:this.Ca,playheadTime:this.xa(),playbackRate:this.Gc,pingPongState:this.wb,currentRepeatCount:this.Xd,isPlaying:this.vk,isScheduled:this.jg,initialStateSet:this.sn,finishedTriggers:this.Cl,complete:this.Gg,released:this.Qd,markedForRemoval:this.Ql,completedTick:this.$m,implicitPause:this.ts,isTemplate:this.Bs,tags:this.ef.join(" "),stringTags:this.LP,
tagsChanged:this.SI,firstTick:this.Df}}oa(a){a&&(Rr(this,a.tracksJson),this.Ca=a.name,this.tb=a.playheadTime,this.Gc=a.playbackRate,this.wb=a.pingPongState,this.Xd=a.currentRepeatCount,this.vk=!!a.isPlaying,this.jg=!!a.isScheduled,this.sn=!!a.initialStateSet,this.Cl=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Gg=!!a.complete,this.Qd=!!a.released,this.Ql=!!a.markedForRemoval,this.$m=a.completedTick,this.ts=!!a.implicitPause,this.Bs=!!a.isTemplate,this.ef=a.tags.split(" "),this.LP=
a.stringTags,this.SI=!!a.tagsChanged,this.Df=!!a.firstTick)}static PV(a){const b=this.ef;return""===a?1===b.length&&""===b[0]:b.map(d=>d.toLowerCase()).includes(a.toLowerCase())}QD(){this.MG||(this.MG=R.j(self.tT,this));return this.MG}};"use strict";const Tr=self.A;
function Ur(a,b){a.vv=!1;if(a.sc!==b){a.Uj();a.sc=b;a.Ul=b.G().Aa();a.Kl=b.Rb;a.Na=b.C();for(const h of Vr(a)){var d=h.gZ;switch(h.aZ.ne()){case "instance-variable":var c=b.G(),e=Wr(c,h.name),f=Xr(c,e);c=Yr(c,e);f===h.name&&c===h.type&&d.J.ha.Gf[0]!==e&&(d.Fx=e);break;case "behavior":var g=h.RC;f=a.G();c=b.G();e=d.Qf(c);g&&e&&(g=g.ka(),Zr(f,g),Zr(c,g),e=e.fb,d.J.ha.Gf[0]!==e&&(d.fb=e))}}}}function Cr(a){return 0===a.Tb()}function Dr(a){return Cr(a)?(a=$r(a.F(),a.hu()))?!Bn(a):!1:!1}
function as(a){if(a.tc)return a.tc;a.tc=a.Jb.Li().tc;return a.tc}function bs(a){a.sc||a.Y()}function cs(a){return a.sc?!Bn(a.sc):!1}function*Vr(a){for(const c of a.Ta){var b=c.qb(),d=a.G();const e={aZ:c,gZ:b};switch(c.ne()){case "world-instance":e.S8=c.ha.Hc;break;case "instance-variable":b=b.cr();e.name=Xr(d,b);e.type=Yr(d,b);break;case "effect":d=ds(d.Ga,b.J.ha.Gf[0]);e.T6=d;break;case "behavior":d=b.Qf(d);e.RC=d;break;case "plugin":e.iD=d.Ka()}yield e}}
function es(a,b){a:{var d=a.Jb.Li().tc;const c=d.length;for(let e=0;e<c;e++){const f=d[e];if(f.xa()===b){d=f;break a}}d=void 0}return d?d:fs(b,a.Jb)}function gs(a){return a.Ta.map(b=>b.la())}function hs(a,b){b.forEach((d,c)=>{a.Ta[c].oa(d)})}function is(a,b){b=a.Jb.Li().tc[b];a.vj=b}
Tr.PE=class extends Tr.pa{constructor(a,b){super();this.he=a;this.Jb=b;this.Dh=b.ru();this.Ul=this.Kl=NaN;this.Na=this.sc=null;this.vv=!1;this.wn=0<b.Uf();this.fn=this.Qp=!1;this.$A=NaN;this.vj=null;this.tc=this.Jb.Li().tc;this.Ta=[];this.SK();this.Og=this.Qb=this.Kf=0}static va(a,b){return Tr.j(Tr.PE,a,b)}m(){this.tc=null;for(const a of this.Ta)a.m();Tr.D(this.Ta);this.vj=this.Jb=this.Na=this.sc=this.he=this.Ta=null}SK(){for(const a of js(this.Jb.me()))this.Ta.push(Tr.gb.va(this,a))}hl(){for(const a of this.Ta)a.hl()}Uj(){for(const a of this.Ta)a.Uj();
this.Na=this.sc=null}Ra(){return this.he}F(){return this.he.F()}ld(a){for(let b=0;b<this.Ta.length;b++){const d=this.Ta[b];if(d.ha.Hc===a)return d}}G(){if(Cr(this)){var a=this.SD();if(-1!==a)return Uo(this.F(),a)}}Y(){if(!this.vv)return this.sc&&cs(this)?this.sc:this.sc=$r(this.F(),this.hu())}C(){if(this.Na&&cs(this))return this.Na;const a=this.Y();a&&(this.Na=a.C());return this.Na}hu(){return isNaN(this.Kl)?this.Jb.hu():this.Kl}Mh(){return this.Jb.Mh()}lc(){return this.Jb.lc()}Vk(){return this.Jb.Vk()}Uf(){return this.Jb.Uf()}Wk(){return this.Jb.Wk()}gk(a){for(const b of as(this))b.gk(a);
for(const b of this.Ta)b.gk(a)}Tk(){return this.Jb.Tk()}fl(a){this.Jb.fl(a)}SD(){return isNaN(this.Ul)?this.Jb.SD():this.Ul}ak(){this.Y();return this.Jb.ak()}$j(){this.Y();return this.Jb.$j()}Tb(){return this.Jb.Tb()}ka(){return this.Jb.ka()}Ti(){for(const a of this.Ta)a.Ti()}nc(){bs(this);if(cs(this)||!Cr(this)){var a=Fr(this.Ra())?0:this.Wk();for(const b of this.Ta)b.nc(a),0===this.Kf&&1===b.Kf&&(this.Kf=1),0===this.Qb&&1===b.Qb&&(this.Qb=1);this.Og=0;this.Ta.some(b=>b.Og)&&(this.Og=1);this.vj=
es(this,a);this.fn=this.Qp=!1;this.Ba(a);this.dz(es(this,a))}}yf(){bs(this);if(cs(this)||!Cr(this)){Fr(this.he);var a=this.he.xa()-this.Uf();this.vj=es(this,a);for(const b of this.Ta)b.yf(a)}}Lu(){if(!(this.Ra().Gg||(bs(this),!cs(this)&&Cr(this)||this.wn))){const a=this.he.xa();a>=this.Uf()+this.Wk()?this.Ba(this.Wk(),!0,!1,!0,!1,!1,!0):0>=a&&this.Ba(0,!0,!1,!0,!1,!1,!0)}}Kz(){for(let a=0,b=this.Ta.length;a<b;a++){const d=this.Ta[a];d.Kz();0===this.Kf&&1===d.Kf&&(this.Kf=1);0===this.Qb&&1===d.Qb&&
(this.Qb=1)}}yo(){const a=this.Ta.length;for(let b=0;b<a;b++)this.Ta[b].yo()}Ba(a,b=!1,d=!1,c=!1,e=!1,f=!1,g=!1){this.sc||this.Y();var h=0===this.Jb.ea;if(!((!this.sc||Bn(this.sc))&&h||f&&h&&this.G().Ie()||(a-=this.Uf(),0>a))){a:if(f=a,b&&this.wn&&!this.Qp){if(Fr(this.Ra())){if(0>f)break a}else if(f>this.Wk())break a;for(var k of this.Ta)k.nc();this.Qp=!0}k=a;if(!e&&b&&Tr.O.oc){e=this.Ra();f=this.vj.Ze;h=this.vj.xa();var l=f?f.xa():e.xc();if(k<=h||k>=l)this.vj=fs(k,this.Jb),Fr(e)?f&&this.dz(this.vj):
(e=this.vj.Ze)&&this.dz(e)}for(let m=0,n=this.Ta.length;m<n;m++)this.Ta[m].Ba(a,d,c,g);if(b&&this.wn&&!this.fn)if(Fr(this.Ra())){if(a>=this.Wk()){for(const m of this.Ta)m.Ba(this.Wk(),!1,!0);this.fn=!0}}else if(0>=a){for(const m of this.Ta)m.Ba(0,!1,!0);this.fn=!0}0!==this.Kf&&(this.Na||(this.Na=this.sc.C()),this.Na&&Am(this.Na))}}xo(){const a=this.Ta.length;for(let b=0;b<a;b++)this.Ta[b].xo()}dz(a){if(Tr.O.oc){var b=this.Ra(),d=b.Ab;Tr.O.oc.P.uE(b);Tr.O.oc.P.F2(a);d.$a(Tr.O.oc.P.A1);d.$a(Tr.O.oc.P.dz);
Tr.O.oc.P.sE(b);Tr.O.oc.P.z2(a)}}By(a){for(const b of this.Ta)b.By(a)}Yo(){for(const a of this.Ta)a.Yo()}Hi(){bs(this);if(cs(this)||!Cr(this))for(const a of this.Ta)a.Hi()}Ii(){bs(this);if(cs(this)||!Cr(this)){var a=!1;for(const b of this.Ta){const d=b.Ii();!a&&d&&(a=!0)}a&&(a=ks(this.Jb.Li()),a.$o(this.Ra().xa()),a.gk("noease"),a.fl(!0),a.AM(""))}}Bg(){if(!isNaN(this.$A)){var a=this.$A;if(Tr.Ub(a)&&(a=$r(this.F(),a))){var b=this.Ra(),d=this.Jb.Vk(),c=this.he.Va.indexOf(this);if(a)if("number"===typeof c&&
0<=c){var e=b.Va[c];e&&(Ur(e,a),cr(b.Ab,a.G(),b))}else for(e of b.Va)if(Cr(e)){if(d){if(e.Vk()!==d)continue}else if(e.sc)continue;Ur(e,a);cr(b.Ab,a.G(),b);break}}}this.$A=NaN}la(){var a=this.Y();a=a?a.Rb:this.hu();var b=gs(this);var d=this.Jb.Li().tc.indexOf(this.vj);return{propertyTracksJson:b,lastKeyframeDataItemJson:d,initialStateOfNestedSet:this.Qp,endStateOfNestedSet:this.fn,instanceUid:a,cleared:this.vv}}oa(a){if(a){hs(this,a.propertyTracksJson);is(this,a.lastKeyframeDataItemJson);this.$A=a.instanceUid;
this.Qp=!1;a.hasOwnProperty.initialStateOfNestedSet&&(this.Qp=a.initialStateOfNestedSet);this.fn=!1;a.hasOwnProperty.endStateOfNestedSet&&(this.fn=a.endStateOfNestedSet);this.vv=a.hasOwnProperty("cleared")?a.cleared:!1;for(const b of this.Ta)0===this.Kf&&1===b.Kf&&(this.Kf=1),0===this.Qb&&1===b.Qb&&(this.Qb=1);this.Og=0;this.Ta.some(b=>b.Og)&&(this.Og=1)}}};"use strict";const ls=self.A;function ms(a){a.me();return ns(a.ha).Db[0].Tb()}
function os(a){if(a.Db)return a.Db;a.Db=ns(a.ha).Db;return a.Db}function ps(a,b){const d=a.Ra(),c=a.hc.Ry(b,a.ha);return c?c:Fr(d)?a.hc.ug(b,a.ha):qs(b,a.ha)}
ls.gb=class extends ls.pa{constructor(a,b){super();this.kb=a;this.ha=b;this.hc=b.me();this.Og=this.Qb=this.Kf=0;this.df=this.qb();this.Db=ns(this.ha).Db;this.mp=this.Wc=null}static va(a,b){return ls.j(ls.gb,a,b)}m(){this.kb=null;this.df&&(this.df.m(),this.df=null);this.hc=this.ha=this.Db=null}me(){return this.hc}Ra(){return this.kb.Ra()}F(){return this.kb.F()}Y(){return this.kb.Y()}qb(){if(this.df)return this.df;let a;switch(this.ha.ne()){case "behavior":a=new ls.gb.$R(this);break;case "effect":a=
new ls.gb.tS(this);this.Qb=1;break;case "instance-variable":a=new ls.gb.yT(this);break;case "plugin":a=new ls.gb.xU(this);this.Qb=1;break;case "world-instance":a=new ls.gb.To(this);this.Kf=this.Qb=1;break;case "value":a=new ls.gb.mV(this);break;case "audio":a=new ls.gb.WR(this)}return this.df=a}ne(){return this.ha.ne()}Tk(){return this.ha.Tk()}fl(a){this.ha.fl(a)}Mh(){return this.ha.Mh()}lc(){return this.ha.lc()}gk(a){for(const b of os(this))b.gk(a)}zD(){return this.ha.zD()}Sy(){return ns(this.ha).Sy()}Ry(a){return this.hc.Ry(a,
this.ha)}ug(a){return this.hc.ug(a,this.ha)}hl(){this.qb().hl()}Uj(){this.qb().Uj()}tf(){return this.qb().tf()}Ti(){this.qb().Ti()}nc(a){this.qb().nc();this.Wc=ps(this,a);this.Kz()}yf(a){this.qb().yf();this.Wc=ps(this,a)}Kz(){var a=this.kb;this.Og=0;if(Cr(a)){var b=this.Ra();a=a.Y();const d=this.qb(),c=this.ha.Hc;d.dk()?(b=Er(b,a,d,c,this))&&b.length&&(this.Og=1):this.Og=0}}yo(){this.df.yo()}Ba(a,b=!1,d=!1,c=!1){let e,f=!1;if(b)var g=this.hc.ug(a,this.ha);else{if(this.Wc){var h=this.Ra();const k=
this.Wc.Ze;g=this.Wc.xa();h=k?k.xa():h.xc();if(a<=g||a>=h)this.Wc=this.hc.ug(a,this.ha),f=!0}else this.Wc=this.hc.ug(a,this.ha),f=!0;g=this.Wc}g&&(e=g.Ze);this.df.Ba(a,g,e,b,d,c,f)}uf(a){if(this.Wc){var b=this.Ra();const c=this.Wc.Ze;var d=this.Wc.xa();b=c?c.xa():b.xc();if(a<=d||a>=b)this.Wc=this.hc.ug(a,this.ha)}else this.Wc=this.hc.ug(a,this.ha);d=this.Wc;return this.df.uf(a,d,d.Ze)}xo(){this.df.xo()}JK(){const a=rs(ns(this.ha));this.Wc=null;return a}By(a){this.Wc=null;ss(ns(this.ha),a)}Yo(){this.qb().Yo()}Hi(){if(this.qb().Hi()){const a=
ns(this.ha).Db[0],b=this.qb().tf();ts(a,b)}}Ii(){const a=this.qb().Ii();if(a){const b=this.Ra().xa(),d=this.qb(),c=this.hc.ug(b,this.ha),e=this.JK();e.BM(c.Tb());e.$o(b);e.gk(c.Cm());e.fl(!0);e.Ne(us(d));ts(e,d.tf())}this.qb().vy();return a}la(){return{sourceAdapterJson:this.qb().la()}}oa(a){a&&this.qb().oa(a.sourceAdapterJson)}};"use strict";const vs=self.A.gb;
function us(a){a=a.J;const b=a.kb.Ra().xa(),d=a.hc.ug(b,a.ha),c=d.Ze;switch(ms(a)){case "numeric":return vs.Bu.Ba(b,d,c,a);case "angle":return vs.qy.Ba(b,d,c,a);case "boolean":return vs.ty.Ba(b,d,c,a);case "color":return vs.wy.Ba(b,d,c,a);case "text":return vs.wz.Ba(b,d,c,a)}}function ws(a){if(a.lg)return a.lg;a.lg=xs(a);return a.lg}
function xs(a){const b=a.J;switch(b.zD()?ms(b):""){case "combo":case "boolean":case "text":case "string":return new vs.Wf.SL(a);case "numeric":case "number":case "angle":return"combo"===a.J.ha.Tb()?new vs.Wf.SL(a):new vs.Wf.TL(a);case "color":case "offsetColor":return new vs.Wf.iS(a);default:return new vs.Wf.TL(a)}}
vs.To=class{constructor(a){this.J=a;this.lg=null;ws(this)}m(){this.lg&&(this.lg.m(),this.lg=null);this.J=null}dk(){return this.lg.dk()}ld(){return this.J}hl(){this.lg&&this.lg.hl()}Uj(){this.lg&&this.lg.Uj()}cr(){}Aa(){return this.cr()}qu(){}Ti(){ws(this).Ti()}nc(){ws(this).nc()}yf(){ws(this).yf()}yo(){this.lg.Vq()}Ba(a,b,d,c,e,f,g){let h;switch(ms(this.J)){case "numeric":h=vs.Bu.Ba(a,b,d,this.J);break;case "angle":h=vs.qy.Ba(a,b,d,this.J);break;case "boolean":h=vs.ty.Ba(a,b,d,this.J);break;case "color":h=
vs.wy.Ba(a,b,d,this.J);break;case "text":h=vs.wz.Ba(a,b,d,this.J)}this.lg.zo(a,h,b,d,c,e,f,g)}uf(a,b,d){switch(ms(this.J)){case "numeric":return vs.Bu.Ba(a,b,d,this.J);case "angle":return vs.qy.Ba(a,b,d,this.J);case "boolean":return vs.ty.Ba(a,b,d,this.J);case "color":return vs.wy.Ba(a,b,d,this.J);case "text":return vs.wz.Ba(a,b,d,this.J)}}xo(){this.lg.Tq()}Yo(){var a=ws(this);a.oi=a.tf()}vy(){ws(this).vy()}tf(){return ws(this).tf()}Hi(){return ws(this).Hi()}Ii(){return ws(this).Ii()}la(){return{propertyAdapterJson:ws(this).la()}}oa(a){a&&
ws(this).oa(a.propertyAdapterJson)}};"use strict";const ys=self.A;class zs extends ys.gb.To{constructor(a){super(a);this.Fx=NaN}cr(){return this.J.ha.Gf[0]}Aa(){return this.Fx?this.Fx:super.Aa()}qu(){return this.J.kb.Y()}Ba(a,b,d,c,e,f,g){ws(this).yD(b.Sc())&&super.Ba(a,b,d,c,e,f,g)}uf(a,b,d){if(ws(this).yD(b.Sc()))return super.uf(a,b,d)}la(){return Object.assign(super.la(),{index:this.Fx})}oa(a){a&&(super.oa(a),this.Fx=a.index)}}ys.gb.yT=zs;"use strict";const As=self.A;
class Bs extends As.gb.To{constructor(a){super(a);this.fb=NaN}cr(){return this.J.ha.Gf[1]}qu(){var a=this.J.ha,b=this.fb?this.fb:a.Gf[0];a=this.J.kb.Y();b=Cs(a,b);return L(a.sd[b])}Qf(a){return a.Lr.get(this.J.ha.Gf[2].toLowerCase())||null}Ba(a,b,d,c,e,f,g){const h=this.J.kb.Y();this.Qf(h.G())&&super.Ba(a,b,d,c,e,f,g)}uf(a,b,d){const c=this.J.kb.Y();if(this.Qf(c.G()))return super.uf(a,b,d)}la(){return Object.assign(super.la(),{sid:this.fb})}oa(a){a&&(super.oa(a),this.fb=a.sid)}}As.gb.$R=Bs;"use strict";
const Ds=self.A;function Es(a){const b=a.J.kb.C().Ve;if(a=ds(b.Ga,a.J.ha.Gf[0]))return b.Gm(a.Aa())}class Fs extends Ds.gb.To{constructor(a){super(a)}cr(){return this.J.ha.Gf[1]}qu(){const a=this.J.kb.C().Ve,b=ds(a.Ga,this.J.ha.Gf[0]).Aa();return a.Gm(b)?a.hL(b):null}Ba(a,b,d,c,e,f,g){Es(this)&&super.Ba(a,b,d,c,e,f,g)}uf(a,b,d){if(Es(this))return super.uf(a,b,d)}}Ds.gb.tS=Fs;"use strict";const Gs=self.A;
function Hs(a){const b=a.J.kb.G().Ka();if(Gs.O.XU&&b instanceof Gs.O.XU&&("initial-frame"===a.J.ha.Hc||"initial-animation"===a.J.ha.Hc))switch(a.J.lc()){case "relative":return null;case "absolute":return null}}
class Is extends Gs.gb.To{constructor(a){super(a)}cr(){return this.J.ha.Gf[0]}qu(){return L(this.J.kb.Y())}Ba(a,b,d,c,e,f,g){var h=this.J.kb;const k=h.G().Ka();h=h.Y().G().Ka();k===h&&super.Ba(a,b,d,c,e,f,g)}uf(a,b,d){var c=this.J.kb;const e=c.G().Ka();c=c.Y().G().Ka();if(e===c)return super.uf(a,b,d)}}Gs.gb.xU=Is;"use strict";const Js=self.A;
class Ks extends Js.gb.To{constructor(a){super(a);this.jc=0;this.VA=!1}dk(){return!1}nc(){this.J.me();let a=this.J.ha;a=ns(a).Db[0];this.jc=Br(a)}yf(){}Sc(){this.VA||this.J.Ba(0);return this.jc}Ba(a,b,d){this.jc=Js.gb.Bu.Ba(a,b,d,this.J);this.VA=!0}Yo(){}vy(){}tf(){return this.jc}Hi(){return!1}Ii(){return!1}la(){return{value:this.jc,init:this.VA}}oa(a){a&&(this.jc=a.value,this.VA=a.hasOwnProperty("init")?a.init:!0)}}Js.gb.mV=Ks;"use strict";const Ls=self.A;
function Ms(a){if(self.A.O.Audio){var b;if(b=Ns.get(self.A.O.Audio)||null){if(!b.ei)throw Error("must be single-global plugin");b=b.DI}else b=null;b&&(a.cf=L(b.bk()));a.Wb=self.A.O.Audio.Fi;a.es=self.A.O.Audio.$g}}function Os(a){if(!a.jh){var b=a.J.kb.ld("audioSource");b&&(a.jh=b.qb())}}
class Ps extends Ls.gb.To{constructor(a){super(a);this.lk=!1;this.es=this.Wb=this.cf=null;this.he=this.J.Ra();this.kb=this.J.kb;this.jx=this.J.ha.Gf;this.oG=this.jx[0];this.OI=this.jx[1];this.Xh=this.jx[3]?this.jx[3]:Math.random().toString(36).slice(2);this.Lx=this.gq=this.Mn=NaN;this.jh=null;Ms(this)}m(){super.m();this.jh=this.oG=this.jx=this.kb=this.he=this.es=this.Wb=this.cf=null}hl(){super.hl();this.lk=!1;this.cf&&(this.es&&(this.Mn=this.es.v2.call(this.cf,this.Xh),this.gq=this.es.P5.call(this.cf,
this.Xh)),this.Wb&&this.Wb.Oe.call(this.cf,this.Xh))}ap(a){this.Lx=a}nc(){super.nc();this.Mn=NaN;this.lk=!1}yf(){super.yf();const a=this.J.Ra().xa();this.Mn=a-this.OI;switch(this.J.ha.Hc){case "volume":this.gq=this.J.uf(a)}this.lk=!1}Ba(a,b,d,c,e,f,g){if(this.cf)switch(this.J.ha.Hc){case "audioSource":if(!Fr(this.he))break;if(c){this.Wb&&this.Wb.Oe.call(this.cf,this.Xh);break}if(a<this.OI){this.lk=!1;break}b=this.es.u2.call(this.cf,this.Xh);this.he.Gc!==b&&this.Wb.Ri.call(this.cf,this.Xh);if(this.lk)break;
if(!this.J.Ra().IsPlaying())break;this.lk=!0;isNaN(this.Mn)?(b=self.performance.now(),a-=this.OI,"suspended"===this.cf.KS()?this.lk=!1:(a+=(self.performance.now()-b)/1E3,this.Wb&&(b=this.Lx,isNaN(b)?(this.ap(0),b=0):this.ap(b),this.Wb.wU.call(this.cf,this.oG,b,this.Xh,a)))):(a=this.Mn,this.Mn=NaN,b=(b=this.J.kb.ld("volume"))?b.qb().gq:this.gq,this.gq=NaN,"suspended"===this.cf.KS()?this.lk=!1:this.Wb&&(this.ap(b),this.Wb.wU.call(this.cf,this.oG,b,this.Xh,a)));break;case "volume":Os(this),super.Ba(a,
b,d,c,e,f,g)}}uf(a,b,d){if(this.cf)switch(this.J.ha.Hc){case "volume":return Os(this),super.uf(a,b,d)}}mL(){return this.jh?this.jh.Lx:0}TU(a,b){this.jh&&this.jh.ap(this.mL()+b);this.Wb&&this.jh&&this.Wb.ap.call(this.cf,this.jh.Xh)}IR(a,b){this.jh&&this.jh.ap(b);this.Wb&&this.jh&&this.Wb.ap.call(this.cf,this.jh.Xh)}la(){return{audioPlaybackStarted:this.lk,audioTag:this.Xh,pauseTime:this.Mn,pauseVolume:this.gq,volume:this.Lx}}oa(a){a&&(this.lk=a.audioPlaybackStarted,this.Xh=a.audioTag,this.Mn=a.pauseTime,
this.gq=a.pauseVolume,this.Lx=a.volume,Ms(this))}}Ls.gb.WR=Ps;"use strict";function Qs(a,b,d){return Fr(a.J.Ra())?b():d()}function Rs(a,b,d){return"relative"===a.J.lc()?b():d()}function Ss(a){if(a.pt)return a.pt;a.pt=a.df.qu();return a.pt}function Ts(a,b=!1){const d=[];for(const c of a){a=c.kb.Uf();for(const e of os(c))b&&0===e.xa()?d.push({time:a+e.xa(),value:e.Uh}):b||d.push({time:a+e.xa(),value:e.Uh})}return d.sort((c,e)=>c.time-e.time)}
function Us(a,b){for(let d=b.length-1;0<=d;d--)if(b[d].time<=a)return b[d];return null}
self.A.gb.Wf=class{constructor(a){this.df=a;this.J=a.ld();this.Na=this.J.kb.C();this.Hc=this.J.ha.Hc;this.gs=!1;this.pt=this.oi=null}m(){this.pt=this.oi=this.Na=this.J=this.df=null}dk(){return!1}hl(){}Uj(){this.pt=this.oi=this.Na=null}qb(){return this.df}ld(){return this.J}C(){return this.Na?this.Na:this.Na=this.J.kb.C()}Ti(){}nc(){}yf(){}vy(){this.oi=null}tf(){}Hi(){}Ii(){}yD(a){return typeof this.jl()===typeof a}Vq(){}zo(){}Tq(){}hp(){return Qs(this,()=>{const a=this.J.ha;this.J.me();return ns(a).Db[0]},
()=>{const a=this.J.ha;return this.J.me().Mi(a)}).Uh}Bz(){const a=this.J.Ra().xa()-this.J.kb.Uf();return Qs(this,()=>{const b=this.J.ha;return this.J.me().ug(a,b)},()=>{const b=this.J.ha,d=this.J.me(),c=qs(a,b);return c?c:d.Mi(b)}).Uh}Cz(){}Af(){return this.df.Aa()}la(){return{firstAbsoluteUpdate:this.gs,saveState:this.oi}}oa(a){a&&(this.gs=a.firstAbsoluteUpdate,this.oi=a.saveState)}};"use strict";const Vs=self.A,Ws=new Map,Xs=[0,0,0];
function Ys(a){return Vs.Lo(a,Vs.bb)?a.toArray().slice(0,3):a.slice(0,3)}function Zs(a,b){a=$s(a);b=$s(b);return rd(a,b)}function $s(a){return Vs.Lo(a,Vs.bb)?a:new Vs.bb(a[0],a[1],a[2],1)}function at(a,b,d){a=Ws.get(a).get(b).get(d);a.AR=!0;return a.color}
class bt extends Vs.gb.Wf{constructor(a){super(a)}Ti(){}nc(){}yf(){}tf(){const a=this.J.ne(),b=Ss(this),d=this.Af();switch(a){case "behavior":return Ys(b.Zc(d));case "effect":return Ys(b[d]);case "plugin":return Ys(b.Zc(d));case "world-instance":return Ys(this.jl())}}Hi(){const a=this.hp();return!Zs(a,this.jl())}Ii(){return Vs.pe(this.oi)?!1:!Zs(this.oi,this.jl())}hp(){const a=super.hp();return $s(a)}Bz(){const a=super.Bz();return $s(a)}Cz(){}yD(){return!0}dk(){return!0}Vq(){var a=this.J.Ra(),b=this.J.Y();
const d=this.J.qb();(a=Er(a,b,d,this.Hc,this.J))&&1<a.length&&(Ws.has(b)||Ws.set(b,new Map),b=Ws.get(b),a=this.J.ne(),b.has(a)||b.set(a,new Map),b=b.get(a),b.has(this.Hc)||b.set(this.Hc,{AR:!1,color:new Vs.bb(0,0,0,1)}))}zo(a,b){var d=this.J.Ra(),c=this.J.kb;a=this.J.Y();var e=this.J.qb();const f=this.J.ne();if((e=Er(d,a,e,this.Hc,this.J))&&1<e.length){if(e=Ts(e,!0),d=d.xa(),d=Us(d,e))e=d.time-c.Uf(),0===e?od(at(a,f,this.Hc),b[0],b[1],b[2]):0>e||(d=b[0],c=b[1],b=b[2],e=this.J.Ba(e,!1,!0),d=yd(d,e[0]),
c=yd(c,e[1]),b=yd(b,e[2]),od(at(a,f,this.Hc),d,c,b))}else this.jk(b[0],b[1],b[2])}Tq(){const a=this.J.Y();if(Ws.has(a)){var b=Ws.get(a),d=this.J.ne();if(b.has(d)){var c=b.get(d);if(c.has(this.Hc)){var e=c.get(this.Hc),f=e.color;e.AR&&this.jk(f.Ua,f.Ya,f.Sa);0===c.size&&b.delete(d);0===b.size&&Ws.delete(a)}}}}jl(){const a=this.J.ne(),b=Ss(this),d=this.Af();switch(a){case "behavior":return $s(b.Zc(d));case "effect":return b[d].clone();case "plugin":return $s(b.Zc(d));case "world-instance":return this.C().ec.clone()}}jk(a,
b,d){var c=this.J.ne();const e=Ss(this),f=this.Af();switch(c){case "behavior":Xs[0]=a;Xs[1]=b;Xs[2]=d;e.Si(f,Xs);break;case "effect":nd(e[f],a,b,d);break;case "plugin":Xs[0]=a;Xs[1]=b;Xs[2]=d;e.Si(f,Xs);break;case "world-instance":c=this.C(),nd(ct,a,b,d),dt(c,ct)}}la(){}oa(){}}Vs.gb.Wf.iS=bt;"use strict";const et=self.A,ft=et.gb;
class gt extends et.gb.Wf{constructor(a){super(a)}Ti(){}nc(){}yf(){}tf(){return this.jl()}Hi(){return this.hp()!==this.tf()}Ii(){return et.pe(this.oi)?!1:this.oi!==this.tf()}dk(){return!1}zo(a,b){const d=this.J,c=d.kb,e=d.ne();var f=d.Ra();const g=c.Y(),h=d.qb();(f=Er(f,g,h,this.Hc,d))&&1<f.length&&(f=Ts(f),a=Us(a+c.Uf(),f))&&(b=a.value);switch(ms(d)){case "numeric":if(!ft.Bu.il(this.Af(),Ss(this),b,e))return;break;case "angle":if(!ft.qy.il(this.Af(),Ss(this),b,e))return;break;case "boolean":if(!ft.ty.il(this.Af(),
Ss(this),b,e))return;break;case "color":if(!ft.wy.il(this.Af(),Ss(this),b,e))return;break;case "text":if(!ft.wz.il(this.Af(),Ss(this),b,e))return}this.jk(b)}jl(){const a=this.J.ne(),b=Ss(this),d=this.Af();switch(a){case "behavior":return b.Zc(d);case "effect":return b[d];case "instance-variable":return ht(b,d);case "plugin":return b.Zc(d)}}jk(a){const b=this.J.ne(),d=Ss(this),c=this.Af();switch(b){case "behavior":d.Si(c,a);break;case "effect":d[c]=a;break;case "instance-variable":d.Lm(c,a);break;
case "plugin":d.Si(c,a)}}}et.gb.Wf.SL=gt;"use strict";const it=self.A,jt=new Map,kt=(a,b,d,c,e,f=!1,g=null,h=null)=>{jt.set(a,{yK:b,RX:d,vY:c,round:e,lY:f,init:g,reset:h})};kt("offsetX",(a,b,d,c)=>{"relative"===c.J.lc()?lt(a,b,d.Ra().Uy()):lt(a,b)},(a,b)=>a.Wi(b),a=>a.Da(),!0);kt("offsetY",(a,b,d,c)=>{"relative"===c.J.lc()?mt(a,b,d.Ra().Uy()):mt(a,b)},(a,b)=>a.Xi(b),a=>a.Ea(),!0);
kt("offsetWidth",(a,b,d,c,e)=>{if(0!==b){var f=1===c.Lj.Tb();if(("relative"===c.J.lc()||f)&&a.Ud()&&nt(a)){if(isNaN(c.Vh)){const h=[];for(var g=a.qa();g;)h.push(g),g=g.qa();h.reverse();g=(l,m)=>{if(m=Pr(m.Ra(),l.Y()))return m.ak();l.Y();return ot(l.za)};const k=(l,m,n,p=0)=>{l=Pr(m.Ra(),l.Y());if(!l)return p;n=l.ld(n);if(!n)return p;n=ns(n.ha);return n?(n=n.Mi())?n.Sc():p:p};if(f)f=h[h.length-1].S();else{let l=h[0];f=ot(l.za)*l.za.kt;f+=k(l,d,"offsetWidth");f+=g(l,d)*k(l,d,"offsetScaleX");for(let m=
1;m<h.length;m++)l=h[m],f*=l.za.kt,f+=k(l,d,"offsetWidth"),f+=g(l,d)*k(l,d,"offsetScaleX")}c.Vh=0===f?Number.EPSILON:f}e||a.Qi(b/c.Vh,!0)}else a.Qi(b)}},(a,b)=>a.fh(b),a=>a.S(),!0);
kt("offsetHeight",(a,b,d,c,e)=>{if(0!==b){var f=1===c.Lj.Tb();if(("relative"===c.J.lc()||f)&&a.Ud()&&pt(a)){if(isNaN(c.Vh)){const h=[];for(var g=a.qa();g;)h.push(g),g=g.qa();h.reverse();g=(l,m)=>{if(m=Pr(m.Ra(),l.Y()))return m.$j();l.Y();return qt(l.za)};const k=(l,m,n,p=0)=>{l=Pr(m.Ra(),l.Y());if(!l)return p;n=l.ld(n);if(!n)return p;n=ns(n.ha);return n?(n=n.Mi())?n.Sc():p:p};if(f)f=h[h.length-1].R();else{let l=h[0];f=qt(l.za)*l.za.lt;f+=k(l,d,"offsetHeight");f+=g(l,d)*k(l,d,"offsetScaleY");for(let m=
1;m<h.length;m++)l=h[m],f*=l.za.lt,f+=k(l,d),f+=g(l,d)*k(l,d,"offsetScaleY")}c.Vh=0===f?Number.EPSILON:f}e||rt(a,b/c.Vh,!0)}else rt(a,b)}},(a,b)=>a.Sh(b),a=>a.R(),!0);kt("offsetAngle",(a,b)=>{b=+b;0!==b&&a.Im()&&(a.Oa=S.Cd(a.Oa+b),st(a))},(a,b)=>a.qe(b),a=>a.hb(),!1,!0);
kt("offsetOpacity",(a,b,d,c)=>{b/=c.Kw?c.Kw:1;d=a.kc()+b;0===c.rc?(1<d?c.rc+=d-1:0>d&&(c.rc+=d),tt(a,b)):(d=a.kc()+b,0<b&&0<c.rc?1<d&&(c.rc+=d-1):0<b&&0>c.rc?(c.rc+=b,0<c.rc&&(tt(a,c.rc),c.rc=0)):0>b&&0<c.rc?(c.rc+=b,0>c.rc&&(tt(a,c.rc),c.rc=0)):0>b&&0>c.rc&&0>d&&(c.rc+=d))},(a,b)=>{a.yg(b)},a=>a.kc(),!1,!0,(a,b,d)=>{a.rc=0;switch(a.J.lc()){case "relative":a.J.me();var c=ns(a.J.ha).Db,e=a.C().kc(),f=e;for(var g of c)f=g.xa(),f=a.J.uf(f),f=e+f,f=it.ia(f,0,1);a.yt=e-f;a.yt=Math.round(100*(a.yt+Number.EPSILON))/
100;f=e;for(e=c.length-1;0<=e;e--)g=c[e].xa(),g=a.J.uf(g),f-=g,f=it.ia(f,0,1);a.xt=f;a.xt=Math.round(100*(a.xt+Number.EPSILON))/100}c=1===a.Lj.Tb();if(("relative"===a.J.lc()||c)&&b.Ud()&&ut(b)){c=[];for(b=b.qa();b;)c.push(b),b=b.qa();c.reverse();b=(h,k,l)=>{h=Pr(k.Ra(),h.Y());if(!h)return 0;l=h.ld(l);if(!l)return 0;l=ns(l.ha);return l?(l=l.Mi())?l.Sc():0:0};f=c[0].za.uC;f+=b(c[0],d,"offsetOpacity");for(e=1;e<c.length;e++)f+=b(c[e],d,"offsetOpacity");a.Kw=0===f?1:f}},a=>{switch(a.J.lc()){case "relative":a.rc=
0;const b=a.C();let d=b.kc();d=Math.round(100*(d+Number.EPSILON))/100;Fr(a.J.Ra())?(b.yg(d+a.yt),a.Hb=0):(b.yg(d-a.xt),a.Hb=us(a.qb()))}});kt("offsetOriginX",(a,b)=>{a.Jn+=+b},(a,b)=>{a.Jn=+b},a=>a.iu(),!1);kt("offsetOriginY",(a,b)=>{a.Kn+=+b},(a,b)=>{a.Kn=+b},a=>a.ju(),!1);kt("offsetZElevation",(a,b)=>{a.Xf(a.Xa()+b)},(a,b)=>a.Xf(b),a=>a.Xa(),!0);
kt("offsetScaleX",(a,b,d,c)=>{if(0!==b){var e=0>a.S()?-1:1;"relative"===c.J.lc()&&a.Ud()&&nt(a)?(b*=d.ak()*e,isNaN(c.Vh)&&jt.get("offsetWidth").yK(a,1,d,c,!0),a.Qi(b/c.Vh,!0)):a.Qi(d.ak()*e*b)}},(a,b,d)=>{a.fh(d.ak()*b)},(a,b)=>{const d=0>a.S()?-1:1;if(nt(a)){var c=a.qa();const e=Pr(b.Ra(),c.Y());e?c=c.S()/e.ak():(c.Y(),c=1);return a.S()*d/(b.ak()*c)}return a.S()*d/b.ak()},!1);
kt("offsetScaleY",(a,b,d,c)=>{if(0!==b){var e=0>a.R()?-1:1;"relative"===c.J.lc()&&a.Ud()&&pt(a)?(b*=d.$j()*e,isNaN(c.Vh)&&jt.get("offsetHeight").yK(a,1,d,c,!0),rt(a,b/c.Vh,!0)):rt(a,d.$j()*e*b)}},(a,b,d)=>{a.Sh(d.$j()*b)},(a,b)=>{const d=0>a.R()?-1:1;if(pt(a)){var c=a.qa();const e=Pr(b.Ra(),c.Y());e?c=c.R()/e.$j():(c.Y(),c=1);return a.R()*d/(b.$j()*c)}return a.R()*d/b.$j()},!1);
function vt(a,b,d,c){var e=a.J.Mh();e="default"===e?"continuous":e;if("discrete"!==e||d){if("discrete"===e&&c&&(d=a.J.Ra().xa(),!a.J.Ry(d)))return;d=Ss(a);c=a.Af();e=a.C();var f=a.J.kb;switch(a.J.ne()){case "behavior":d.Si(c,b);break;case "effect":d[c]=b;break;case "instance-variable":d.Lm(c,b);break;case "plugin":d.Si(c,b,Hs(a.qb()));break;case "world-instance":a.WG(e,b,f);break;case "audio":a.GI.call(a.qb(),e,b,f)}}}
function wt(a,b,d,c){switch(a.J.ha.Tb()){case "angle":b=it.Ei(b)}var e=(b.toString().split(".")[1]||"").length;b=a.jl();if(0===e)if(a.iC)e=Math.round(b);else if(a.lG)switch(a.J.ha.Tb()){case "angle":e=it.Bb(Math.round(it.Ei(b)));break;default:e=Number(it.toFixed(b,2))}else e=b;else e=a.iC?Number(it.toFixed(b,e)):b;a.jk(e-b,d,c);switch(a.J.ha.Hc){case "offsetWidth":case "offsetScaleX":a=a.C();d=a.S();a.Qi(Number(it.toFixed(d,2))-d);break;case "offsetHeight":case "offsetScaleY":a=a.C(),d=a.R(),rt(a,
Number(it.toFixed(d,2))-d)}}
class xt extends it.gb.Wf{constructor(a){super(a);this.xt=this.yt=this.rc=this.Hb=0;this.Vh=this.Kw=NaN;this.kN=this.lN=void 0;this.GI=this.II=this.HI=this.WA=this.gC=this.WG=this.YG=this.XG=null;this.lG=this.iC=!1;this.Lj=it.Lo(this.J.Ra(),it.jV)?new it.gb.Wf.$T(this):new it.gb.Wf.ZT(this);const b=this.J.ha.Hc;switch(this.J.ne()){case "world-instance":a=jt.get(b);this.XG=a.vY;this.YG=a.yK;this.WG=a.RX;this.iC=a.round;this.lG=a.lY;this.WA=a.init;this.gC=a.reset;break;case "audio":this.HI=a.mL,this.II=
a.TU,this.GI=a.IR,this.iC=!0,this.lG=!1}}m(){this.GI=this.II=this.HI=this.WA=this.gC=this.WG=this.YG=this.XG=this.Lj=null;super.m()}dk(){return this.Lj.dk()}Ti(){this.gC&&this.gC(this)}nc(){var a=this.Lj.nc();"number"===typeof a&&(this.Hb=a);this.WA&&(a=this.C(),this.WA(this,a,this.J.kb))}yf(){const a=this.Lj.yf();"number"===typeof a&&(this.Hb=a)}tf(){return this.jl()}Hi(){return this.hp()!==this.tf()}Ii(){return it.pe(this.oi)?!1:this.oi!==this.tf()}Vq(){this.Lj.Vq()}zo(a,b,d,c,e,f,g,h){return this.Lj.zo(a,
b,d,c,e,f,g,h)}Tq(){this.Lj.Tq()}jl(){const a=Ss(this),b=this.Af(),d=this.C(),c=this.J.kb;switch(this.J.ne()){case "behavior":return a.Zc(b);case "effect":return a[b];case "instance-variable":return ht(a,b);case "plugin":return a.Zc(b);case "world-instance":return this.XG(d,c);case "audio":return this.HI.call(this.qb(),d,c)}}jk(a){var b=Ss(this),d=this.Af(),c=this.C();const e=this.J.kb;switch(this.J.ne()){case "behavior":b.qE(d,a);break;case "effect":b[d]+=a;break;case "instance-variable":if(0!==
a){d|=0;b=b.gg;if(0>d||d>=b.length)throw new RangeError("invalid instance variable");c=b[d];if("number"===typeof c)b[d]="number"===typeof a?b[d]+a:b[d]+parseFloat(a);else{if("boolean"===typeof c)throw Error("can not set offset of boolean variable");if("string"===typeof c)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}break;case "plugin":b.qE(d,a,Hs(this.qb()));break;case "world-instance":this.YG(c,a,e,this);break;case "audio":this.II.call(this.qb(),
c,a,e,this)}}Dr(a,b,d,c,e,f,g,h){this.Lj.Dr(a,b,d,c,e,f,g,h)}la(){return Object.assign(super.la(),{v:this.Hb,a:this.rc,fod:this.yt,bod:this.xt,of:this.Kw,sf:this.Vh,armorf:this.lN,armandf:this.kN})}oa(a){a&&(super.oa(a),this.Hb=a.v,this.rc=a.a,this.yt=it.Ub(a.fod)?a.fod:0,this.xt=it.Ub(a.bod)?a.bod:0,this.Kw=it.Ub(a.of)?a.of:NaN,this.Vh=it.Ub(a.sf)?a.sf:NaN,this.lN=it.Ub(a.armorf)?a.armorf:void 0,this.kN=it.Ub(a.armandf)?a.armandf:void 0)}}it.gb.Wf.TL=xt;"use strict";
class yt{constructor(a){this.IC=!1;this.jc=0;this.hG=this.aC=!1;this.Ta=a;for(let b=0,d=this.Ta.length;b<d;b++)this.Ta[b].mp=this}Ne(a){this.jc=a}Sc(){return this.jc}Lu(a){this.hG=a}dc(){this.IC=!1;this.jc=0;this.hG=this.aC=!1}}
class zt{constructor(a){this.Ae=a}m(){this.Ae=null}Tb(){return 0}nc(){const a=this.Ae;this.Ae.ld();return Rs(a,()=>Qs(a,()=>0,()=>us(a.qb())),()=>{})}yf(){}dk(){switch(this.Ae.ld().lc()){case "relative":return!1;case "absolute":return!0}}Vq(){var a=this.Ae.ld();const b=a.ha.Hc;switch(a.lc()){case "absolute":if(a.mp)a.mp.dc();else{const d=a.Ra(),c=a.Y(),e=a.qb();(a=Er(d,c,e,b,a))&&1<a.length&&new yt(a)}}}zo(a,b,d,c,e,f,g,h){var k=this.Ae,l=this.Ae.ld();switch(l.lc()){case "relative":g=k.Hb;k.jk(b-
g,d,c);f&&this.Dr(a,d,c,e,g,b);k.Hb=b;break;case "absolute":if(d=l.Ra(),a=l.kb,l.Y(),l.qb(),l.mp){if(k=l.mp,c=Ts(k.Ta,!0),d=d.xa(),d=Us(d,c))a=d.time-a.Uf(),0===a?(k.Lu(g),k.aC=h,k.IC=!0,k.Ne(k.Sc()+b)):0>a||(l=l.uf(a),k.Lu(g),k.aC=h,k.IC=!0,k.Ne(k.Sc()+(b-l)))}else vt(k,b,h,g)}}Tq(){const a=this.Ae;var b=this.Ae.ld();switch(b.lc()){case "absolute":b.mp&&(b=b.mp,b.IC&&vt(a,b.Sc(),b.aC,b.hG))}}Dr(a,b,d,c,e,f){const g=this.Ae;c||(b&&a===b.xa()?wt(g,Br(b),b,d):d&&a===d.xa()?wt(g,Br(d),b,d):0===f-e&&
wt(g,Br(b),b,d))}}self.A.gb.Wf.ZT=zt;"use strict";
class At{constructor(a){this.Ae=a}m(){this.Ae=null}Tb(){return 1}nc(){const a=this.Ae;a.gs=!0;return this.Cz(a.hp())}yf(){const a=this.Ae;if(a.hp()!==a.Bz())return a.gs=!0,this.Cz(a.Bz())}dk(){return!1}Vq(){}zo(a,b,d,c,e,f,g){const h=this.Ae,k=h.Hb;switch(h.ld().lc()){case "relative":h.jk(b-k,d,c);f&&this.Dr(a,d,c,e,k,b,!1,g);break;case "absolute":if(h.gs)h.gs=!1,h.jk(k,d,c);else if(0===a&&0===h.ld().Ra().xc())vt(h,b,!0,!1);else if(h.jk(b-k,d,c),f){f=this.Dr;var l=this.Ae;const n=l.C().Y();var m=
l.ld().F().Ab;l=0;for(const p of br(m))if(0===p.Tb()){a:{for(const q of p.Va)if(Cr(q)&&n===q.Y()){m=!0;break a}m=!1}m&&l++}else 1===p.Tb()&&p.Y()===n&&l++;f.call(this,a,d,c,e,k,b,1>=l,g)}}h.Hb=b}Tq(){}Cz(a){return a-this.Ae.tf()}Dr(a,b,d,c,e,f){const g=this.Ae;c?b&&a===b.xa()?wt(g,Br(b),b,d):d&&a===d.xa()?wt(g,Br(d),b,d):d||wt(g,Br(b),b,d):b&&a===b.xa()?wt(g,Br(b),b,d):d&&a===d.xa()?wt(g,Br(d),b,d):0===f-e&&wt(g,Br(b),b,d)}}self.A.gb.Wf.$T=At;"use strict";const Bt=self.A,Ct=self.Co;
Bt.gb.Bu=class{constructor(){}static il(a,b,d,c){let e;switch(c){case "behavior":e=b.Zc(a);break;case "effect":e=b[a];break;case "instance-variable":e=ht(b,a);break;case "plugin":e=b.Zc(a)}return e===d?!1:!0}static Ba(a,b,d,c){if(!d){var e=c.ha;e=c.me().Mi(e);return Br(e)}let f=c.Mh();"default"===f&&(f="continuous");"combo"===c.ha.Tb()&&(f="discrete");if("discrete"===f)return Br(b);if("continuous"===f||"step"===f){const h=c.Ra().ou();"step"===f&&0!==h&&(e=1/h,a=Math.floor(a*e)/e);e=Br(b);const k=
Br(d),l=Ar(b,"cubic-bezier"),m=Ar(d,"cubic-bezier");var g=l&&l.nx&&m&&m.Ov;if(!g&&e===k)return e;const n=b.xa();d=d.xa();"step"===f&&0!==h&&(a=Bt.ia(a,n,d));a=Bt.normalize(a,n,d);b=b.Cm();g?(g=d-n,b=Ct.Xk(b)(g*a,0,1,g),b=Ct.Xk("cubicbezier")(b,e,e+l.mx,k+m.Nv,k)):b=Ct.Xk(b)((d-n)*a,e,k-e,d-n);return"integer"===c.ha.Tb()?Math.floor(b):b}}};"use strict";const Dt=self.A;
Dt.gb.qy=class{constructor(){}static il(a,b,d,c){let e;switch(c){case "behavior":e=b.Zc(a);break;case "effect":e=b[a];break;case "instance-variable":e=ht(b,a);break;case "plugin":e=b.Zc(a)}return e===d?!1:!0}static Ba(a,b,d,c){if(!d)return b=c.ha,b=c.me().Mi(b),Br(b);var e=c.Mh();"default"===e&&(e="continuous");"combo"===c.ha.Tb()&&(e="discrete");if("discrete"===e)return Br(b);if("continuous"===e||"step"===e){var f=c.Ra().ou();"step"===e&&0!==f&&(c=1/f,a=Math.floor(a*c)/c);const g=b.xa(),h=d.xa();
c=Br(b);d=Br(d);"step"===e&&0!==f&&(a=Dt.ia(a,g,h));if(e=Ar(b,"angle")){f=e.vI;if(c===d&&0===f)return c;a=Dt.normalize(a,g,h);b=self.Co.Xk(b.Cm())(a,0,1,1);switch(e.cG){case "closest":return Dt.uJ(c,d,b,f);case "clockwise":return Dt.TX(c,d,b,f);case "anti-clockwise":return Dt.SX(c,d,b,f)}}else{if(c===d)return c;a=Dt.normalize(a,g,h);b=self.Co.Xk(b.Cm());return Dt.uJ(c,d,b(a,0,1,1))}}}};"use strict";
self.A.gb.ty=class{constructor(){}static il(a,b,d,c){let e;switch(c){case "behavior":e=b.Zc(a);break;case "effect":e=b[a];break;case "instance-variable":e=ht(b,a);break;case "plugin":e=b.Zc(a)}return!!e===!!d?!1:!0}static Ba(a,b,d,c){return d?Br(b)?1:0:(a=c.ha,a=c.me().Mi(a),Br(a)?1:0)}};"use strict";const Et=self.A,Ft=[0,0,0],Gt=[0,0,0],wd=[0,0,0];
Et.gb.wy=class{constructor(){}static il(a,b,d,c){let e;switch(c){case "behavior":e=b.Zc(a);break;case "effect":e=b[a];break;case "instance-variable":e=ht(b,a);break;case "plugin":e=b.Zc(a)}Array.isArray(d)?(Ft[0]=d[0],Ft[1]=d[1],Ft[2]=d[2]):(vd(d),Ft[0]=Math.floor(255*wd.Ua),Ft[1]=Math.floor(255*wd.Ya),Ft[2]=Math.floor(255*wd.Sa));Array.isArray(e)?(Gt[0]=e[0],Gt[1]=e[1],Gt[2]=e[2]):(vd(e),Gt[0]=Math.floor(255*wd.Ua),Gt[1]=Math.floor(255*wd.Ya),Gt[2]=Math.floor(255*wd.Sa));return Ft[0]!==Gt[0]||Ft[1]!==
Gt[1]||Ft[2]!==Gt[2]?!0:!1}static Ba(a,b,d,c){if(!d)return b=c.ha,b=c.me().Mi(b),b=Br(b),Ft[0]=b[0],Ft[1]=b[1],Ft[2]=b[2],Ft;var e=c.Mh();"default"===e&&(e="continuous");if("discrete"===e)return b=Br(b),Ft[0]=b[0],Ft[1]=b[1],Ft[2]=b[2],Ft;if("continuous"===e||"step"===e){var f=c.Ra().ou();"step"===e&&0!==f&&(c=1/f,a=Math.floor(a*c)/c);c=b.xa();var g=d.xa(),h=Br(b);d=Br(d);"step"===e&&0!==f&&(a=Et.ia(a,c,g));f=Et.normalize(a,c,g);a=h[0];e=h[1];h=h[2];const k=d[0],l=d[1];d=d[2];b=self.Co.Xk(b.Cm());
c=g-c;g=c*f;Ft[0]=a===k?a:b(g,a,k-a,c);Ft[1]=e===l?e:b(g,e,l-e,c);Ft[2]=h===d?h:b(g,h,d-h,c);return Ft}}};"use strict";self.A.gb.wz=class{constructor(){}static il(a,b,d,c){let e;switch(c){case "behavior":e=b.Zc(a);break;case "effect":e=b[a];break;case "instance-variable":e=ht(b,a);break;case "plugin":e=b.Zc(a)}return e===d?!1:!0}static Ba(a,b,d,c){return d?Br(b):(a=c.ha,a=c.me().Mi(a),Br(a))}};"use strict";const Ht=self.A;
function It(a,b,d,c,e){let f;if("function"===typeof c)switch(a){case "load":f=new c(null,e);break;case "create":f=new c(b,e);break;case "create-including-disabled":f=new c(b,e)}else if("object"===typeof c)switch(c=c.map.get(b[c.dR]),a){case "load":f=new c(null,e);break;case "create":f=new c(b,e);break;case "create-including-disabled":f=new c(b,e)}switch(a){case "load":f.oa(b);d.push(f);break;case "create":if("function"===typeof f.Tk&&!f.Tk()){f.m();break}d.push(f);break;case "create-including-disabled":d.push(f)}}
function Jt(a,b,d,c){if(b)for(const e of b)It("create",e,a,d,c)}function Kt(a,b,d,c){a.length?b.forEach((e,f)=>{a[f].oa(e)}):b.forEach(e=>{It("load",e,a,d,c)})}Ht.fV=class{constructor(){this.wx=new Map}m(){for(const a of this.wx.values())a.m();this.wx.clear();this.wx=null}Fb(a){a=new Ht.eV(a);this.wx.set(a.ka(),a)}W(a){return this.wx.get(a)}};"use strict";const Lt=self.A;
Lt.eV=class{constructor(a){this.Ca="";this.yq=NaN;this.xC=0;this.Qg=this.Kg="default";this.WB=this.HB=!1;this.ht=1;this.Dh=null;this.tC="";this.DC=!1;this.HC=!0;a&&(this.Ca=a[0],this.yq=a[1],this.xC=a[2],this.Kg=a[3],this.Qg=a[4],this.HB=!!a[6],this.WB=!!a[7],this.ht=a[8],this.tC=a[9],this.DC=!!a[10],this.HC=!!a[11],this.Dh=new Lt.GM(a[5],this))}m(){this.Dh.m();this.Dh=null}ru(){this.Dh||(this.Dh=new Lt.GM(null,this));return this.Dh}ka(){return this.Ca}Mu(a){this.Ca=a}xc(){return this.yq}KE(a){this.yq=
a}ou(){return this.xC}Mh(){return this.Kg}lc(){return this.Qg}fr(){return this.HB}gr(){return this.WB}Nh(){return this.ht}WD(){return this.tC}Uy(){return this.DC}XD(){return this.HC}la(){return{trackDataJson:this.Dh.la(),name:this.Ca,totalTime:this.yq,step:this.xC,interpolationMode:this.Kg,resultMode:this.Qg,loop:this.HB,pingPong:this.WB,repeatCount:this.ht,startOnLayout:this.tC,transformWithSceneGraph:!!this.DC,useSystemTimescale:this.HC}}oa(a){a&&(this.ru().oa(a.trackDataJson),this.Ca=a.name,this.yq=
a.totalTime,this.xC=a.step,this.Kg=a.interpolationMode,this.Qg=a.resultMode,this.HB=a.loop,this.WB=a.pingPong,this.ht=a.repeatCount,this.tC=a.startOnLayout,this.DC=!!a.transformWithSceneGraph,this.HC=!!a.useSystemTimescale)}};"use strict";const Mt=self.A;
class Nt{constructor(a,b){this.Dh=b;this.Um=this.ZA=null;this.Ul=this.Kl=NaN;this.Qg=this.Kg="default";this.mh=!1;this.hc=this.fi=null;this.Yb="";this.Us=null;this.NI=0;this.GB=this.Dh.gd.xc();this.ea=0;this.Ca="";a&&(a[0]&&(this.ZA=a[0],this.Kl=a[0][2],this.Ul=a[0][1]),this.Kg=a[1],this.Qg=a[2],this.mh=!!a[3],a[6]&&(this.Yb=a[6]),a[7]&&(this.Us=a[7],this.NI=a[7][0],this.GB=a[7][1]),a[8]&&(this.Um=a[8]),a[8]&&(this.Um=a[8]),a[9]&&(this.ea=a[9]),a[10]&&(this.Ca=a[10]),this.fi=new Mt.NL(a[4],this),
this.hc=new Mt.aM(a[5],this))}m(){this.Dh=this.ZA=null;this.fi&&(this.fi.m(),this.fi=null);this.hc&&(this.hc.m(),this.hc=null);this.Us=null}ru(){return this.Dh}Li(){this.fi||(this.fi=new Mt.NL(null,this));return this.fi}me(){this.hc||(this.hc=new Mt.aM(null,this));return this.hc}SD(){return this.Ul}hu(){return this.Kl}Mh(){return this.Kg}lc(){return this.Qg}Tk(){return this.mh}fl(a){this.mh=!!a}Vk(){return this.Yb}Uf(){return this.NI}Wk(){return this.GB}ak(){return this.Um[0]}$j(){this.Um||(this.Um=
[]);return this.Um[1]}Tb(){return this.ea}ka(){return this.Ca}la(){return{keyframeDataJson:this.fi.la(),propertyTrackDataJson:this.hc.la(),instanceData:this.ZA,additionalInstanceData:this.Um,instanceUid:this.Kl,objectClassIndex:this.Ul,interpolationMode:this.Kg,resultMode:this.Qg,enabled:this.mh,id:this.Yb,nestedData:this.Us,type:this.ea,name:this.Ca}}oa(a){a&&(this.ZA=a.instanceData,this.Kl=a.instanceUid,this.Ul=a.objectClassIndex,this.Kg=a.interpolationMode,this.Qg=a.resultMode,this.mh=a.enabled,
this.Yb=a.id,this.ea=a.type?a.type:0,this.Ca=a.name?a.name:"",this.GB=this.Dh.gd.xc(),a.nestedData&&(this.Us=a.nestedData,this.NI=this.Us[0],this.GB=this.Us[1]),a.additionalInstanceData&&(this.Um=a.additionalInstanceData),this.Li().oa(a.keyframeDataJson),this.me().oa(a.propertyTrackDataJson))}}function*Sr(a){for(const b of a.zq)yield b}function fs(a,b){b=b.Li().tc;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.xa()<=a)return c}}
Mt.GM=class{constructor(a,b){this.gd=b;this.zq=[];Jt(this.zq,a,Nt,this)}m(){this.gd=null;for(const a of this.zq)a.m();Mt.D(this.zq);this.zq=null}la(){return{trackDataItemsJson:this.zq.map(a=>a.la())}}oa(a){a&&Kt(this.zq,a.trackDataItemsJson,Nt,this)}};"use strict";const Qt=self.A;function ns(a){a.zj||(a.zj=new Qt.$L(null,a));return a.zj}
class Rt{constructor(a,b){this.hc=b;this.qC="";this.ea=this.Hc=this.Gf=null;this.KH=this.PH=NaN;this.Qg=this.Kg="default";this.mh=!1;this.zj=null;this.Xz=!0;a&&(this.qC=a[0][0],this.Gf=a[0].slice(1),this.Hc=a[1],this.ea=a[2],this.PH=a[3],this.KH=a[4],this.Kg=a[5],this.Qg=a[6],this.mh=!!a[7],this.zj=new Qt.$L(a[8],this),this.Xz=a[9])}m(){this.zj.m();this.Gf=this.hc=this.zj=null}me(){return this.hc}ne(){return this.qC}Tb(){return this.ea}BM(a){this.ea=a}Mh(){return this.Kg}lc(){return this.Qg}Tk(){return this.mh}fl(a){this.mh=
!!a}zD(){return!!this.Xz}la(){return{propertyKeyframeDataJson:this.zj.la(),sourceAdapterId:this.qC,sourceAdapterArguments:this.Gf,property:this.Hc,type:this.ea,min:this.PH,max:this.KH,interpolationMode:this.Kg,resultMode:this.Qg,enabled:this.mh,canHavePropertyKeyframes:this.Xz}}oa(a){a&&(this.qC=a.sourceAdapterId,this.Gf=a.sourceAdapterArguments,this.Hc=a.property,this.ea=a.type,this.PH=a.min,this.KH=a.max,this.Kg=a.interpolationMode,this.Qg=a.resultMode,this.mh=a.enabled,this.Xz=a.canHavePropertyKeyframes,
ns(this).oa(a.propertyKeyframeDataJson))}}function*js(a){for(const b of a.kq)yield b}function qs(a,b){b=ns(b).Db;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.xa()>=a)return e}}
Qt.aM=class{constructor(a,b){this.Jb=b;this.kq=[];Jt(this.kq,a,Rt,this)}m(){this.Jb=null;for(const a of this.kq)a.m();Qt.D(this.kq);this.kq=null}Mi(a){return ns(a).Db.at(-1)}Ry(a,b){b=ns(b).Db;const d=b.length;for(let c=0;c<d;c++){const e=b[c];if(e.xa()===a)return e}}ug(a,b){b=ns(b).Db;for(let d=b.length-1;0<=d;d--){const c=b[d];if(c.xa()<=a)return c}}la(){return{propertyTrackDataItemsJson:this.kq.map(a=>a.la())}}oa(a){a&&Kt(this.kq,a.propertyTrackDataItemsJson,Rt,this)}};"use strict";const St=self.A;
class Tt{constructor(a,b){this.fi=b;this.fd=-1;this.hj="noease";this.ij=!1;this.Aw=this.ef=null;a&&(this.fd=a[0],this.hj=a[1],this.ij=!!a[2],this.ef=(a=a[3])?a.split(" "):[],this.Aw=new Set(this.ef.map(d=>d.toLowerCase())),this.Ze=null)}m(){this.fi=null;St.D(this.ef);this.ef=null;this.Aw.clear();this.Ze=this.Aw=null}Li(){return this.fi}vr(a){this.Ze=a}xa(){return this.fd}$o(a){this.fd=a;Ut(this.fi)}Cm(){return this.hj}gk(a){this.hj=a}Tk(){return this.ij}fl(a){this.ij=!!a}AM(a){this.ef=a?a.split(" "):
[];this.Aw=new Set(this.ef.map(b=>b.toLowerCase()))}la(){return{time:this.fd,ease:this.hj,enable:this.ij,tags:this.ef}}oa(a){a&&(this.fd=a.time,this.hj=a.ease,this.ij=a.enable,this.ef=a.tags,this.Aw=new Set(this.ef.map(b=>b.toLowerCase())))}}function ks(a){const b=new Tt(null,a);a.tc.push(b);Ut(a);return b}function Vt(a,b){for(const d of a.tc){if(!b(d))continue;const c=a.tc.indexOf(d);-1!==c&&(d.m(),a.tc.splice(c,1))}Wt(a);Ut(a)}
function Ut(a){a.tc.sort((b,d)=>b.xa()-d.xa());for(let b=0;b<a.tc.length;b++)a.tc[b].vr(a.tc[b+1])}function Wt(a){a.tc.sort((b,d)=>b.xa()-d.xa())}St.NL=class{constructor(a,b){this.Jb=b;this.tc=[];Jt(this.tc,a,Tt,this);Ut(this)}m(){this.Jb=null;for(const a of this.tc)a.m();St.D(this.tc);this.tc=null}la(){return{keyframeDataItemsJson:this.tc.map(a=>a.la())}}oa(a){a&&(Kt(this.tc,a.keyframeDataItemsJson,Tt,this),Ut(this))}};"use strict";const Xt=self.A;
function Ar(a,b){if(a.bj){if(a.ll||null===a.ll)return a.ll;var d=a.bj.np;if(!d)return a.ll=null,a.ll;var c=d.length;for(let e=0;e<c;e++){const f=d[e];if(f.Vk()===b)return a.ll=f,a.ll}a.ll=null;return a.ll}}function Br(a){const b=a.zj.ha.lc();if("relative"===b)return a.Sc();if("absolute"===b)return a.Uh}function ts(a,b){"color"===a.ea&&Xt.Ub(b)?(a.Uh[0]=Xt.UD(b),a.Uh[1]=Xt.PD(b),a.Uh[2]=Xt.JD(b)):a.Uh=b}
class Yt{constructor(a,b){this.zj=b;this.Uh=this.jc=null;this.ea="";this.fd=NaN;this.hj="noease";this.ij=!1;this.bj=null;this.ll=void 0;this.iI="line";a&&(this.jc=a[0][0],this.Uh=a[0][1],this.ea=a[0][2],this.fd=a[1],this.hj=a[2],this.ij=!!a[3],this.iI=a[5],this.bj=null,a[4]&&(this.bj=new Xt.OR(a[4])),this.Qn=this.Ze=null)}m(){this.zj=null;this.bj&&(this.bj.m(),this.bj=null);this.Qn=this.Ze=null}vr(a){this.Ze=a}sz(a){this.Qn=a}Sc(){return this.jc}Ne(a){"color"===this.ea&&Xt.Ub(a)?(this.jc[0]=Xt.UD(a),
this.jc[1]=Xt.PD(a),this.jc[2]=Xt.JD(a)):this.jc=a}Tb(){return this.ea}BM(a){this.ea=a}xa(){return this.fd}$o(a){this.fd=a;Zt(this.zj)}Cm(){return this.hj}gk(a){this.hj=a}Tk(){return this.ij}fl(a){this.ij=!!a}la(){const a=this.bj;return{addonDataJson:a?a.la():a,value:this.jc,aValue:this.Uh,type:this.ea,time:this.fd,ease:this.hj,enable:this.ij}}oa(a){a&&(a.addonDataJson&&this.bj.f6(a.addonDataJson),this.jc=a.value,this.Uh=a.aValue,this.ea=a.type,this.fd=a.time,this.hj=a.ease,this.ij=a.enable)}}
function rs(a){const b=new Yt(null,a);a.Db.push(b);Zt(a);return b}function ss(a,b){for(const d of a.Db){if(!b(d))continue;const c=a.Db.indexOf(d);-1!==c&&(d.m(),a.Db.splice(c,1))}$t(a);Zt(a)}function Zt(a){let b=a.Db;b.sort((c,e)=>c.xa()-e.xa());for(var d=0;d<b.length;d++){const c=b[d];d+1<b.length&&c.vr(b[d+1]);0<=d-1&&c.sz(b[d-1])}b=a.Rn;b.sort((c,e)=>c.xa()-e.xa());for(a=0;a<b.length;a++)d=b[a],a+1<b.length&&d.vr(b[a+1]),0<=a-1&&d.sz(b[a-1])}function $t(a){a.Db.sort((b,d)=>b.xa()-d.xa())}
Xt.$L=class{constructor(a,b){this.ha=b;this.Db=[];this.Rn=[];Jt(this.Db,a,Yt,this);b=this.Rn;var d=Yt;if(a)for(const c of a)It("create-including-disabled",c,b,d,this);Zt(this)}m(){this.ha=null;for(const a of this.Db)a.m();Xt.D(this.Db);this.Db=null;for(const a of this.Rn)a.m();Xt.D(this.Rn);this.Rn=null}Mi(){return this.Db[this.Db.length-1]}Sy(){return this.Rn}la(){const a=this.Rn;return{propertyKeyframeDataItemsJson:this.Db.map(b=>b.la()),propertyKeyframeDataItemsIncludingDisabledJson:a.map(b=>b.la())}}oa(a){a&&
(Kt(this.Db,a.propertyKeyframeDataItemsJson,Yt,this),Kt(this.Rn,a.propertyKeyframeDataItemsIncludingDisabledJson,Yt,this),Zt(this))}};"use strict";const au=self.A;class bu{constructor(a,b){this.bj=b;this.Yb=a[0];this.Bl=a[1]}m(){this.Bl=this.bj=null}Vk(){return this.Yb}la(){return{id:this.Yb,data:this.Bl}}oa(a){a&&(this.Yb=a.id,this.Bl=a.data)}}
class cu extends bu{constructor(a,b){super(a,b);this.mx=this.Bl[0];this.nx=!!this.Bl[1];this.Nv=this.Bl[2];this.Ov=!!this.Bl[3]}m(){super.m()}la(){return Object.assign(super.la(),{startAnchor:this.mx,startEnable:!!this.nx,endAnchor:this.Nv,endEnable:!!this.Ov})}oa(a){a&&(super.oa(a),this.mx=a.startAnchor,this.nx=!!a.startEnable,this.Nv=a.endAnchor,this.Ov=!!a.endEnable)}}
class du extends bu{constructor(a,b){super(a,b);this.cG=this.Bl[0];this.vI=this.Bl[1]}m(){super.m()}la(){return Object.assign(super.la(),{direction:this.cG,revolutions:this.vI})}oa(a){a&&(super.oa(a),this.cG=a.direction,this.vI=a.revolutions)}}
au.OR=class{constructor(a){this.np=[];Jt(this.np,a,{dR:0,map:new Map([["cubic-bezier",cu],["angle",du]])},this)}m(){for(const a of this.np)a.m();au.D(this.np);this.np=null}la(){return{addonDataItemsJson:this.np.map(a=>a.la())}}oa(a){a&&Kt(this.np,a.addonDataItemsJson,{dR:"id",map:new Map([["cubic-bezier",cu],["angle",du]])},this)}};"use strict";const T=self.A;let eu=0;function fu(a){for(const b of a.Va){const d=c=>{c=c.xa();const e=a.xc();return 0!==c&&c!==e};Vt(b.Jb.Li(),d);b.By(d)}}
function gu(a,b){const d=a.Y();var c;if(c=T.Qa.rb){b:{if(c)for(const e of d.sd)if(e.rf()instanceof c){c=e;break b}c=null}c=c?L(c):null}else c=null;c.G2(a);a.g.$a(b,d,c.Qf());c.A2()}
T.jV=class extends T.Nm{constructor(a,b){super(`tween-${eu++}`,a,b);this.Yb="";this.CN=!1;this.SG="start-value";this.kb=this.dP=this.cP=this.sc=null}dL(a){const b=T.j(T.Event,"tweenstatereleased");b.Z9=this;a.dispatchEvent(b)}Tb(){return 1}UK(){for(const a of Sr(this.gd.ru()))this.Va.push(T.JM.va(this,a));this.kb=this.Va[0]}ld(){return this.kb.Ta[0]}Y(){var a=this.Va;if(a&&a.length&&(this.kb=a=a[0])){var b=a.Y();return cs(a)?b:void 0}}Vk(){return this.Yb}YL(){if(this.dP)for(const a of this.dP)a(this);
if(!this.Gg)for(const a of this.Va)a.Ii()}cL(){if(!this.Cl&&(this.Cl=!0,this.cP))for(const a of this.cP)a(this)}$o(a){fu(this);super.$o(a)}kl(a){T.Ub(a)||(a=this.xc());this.tb=0>a?0:a>=this.xc()?this.xc():a;this.kb.Ti()}nc(a){if(!this.sn&&"current-state"===this.SG)for(const b of this.Va)b.Hi();super.nc(a)}Oe(a=!1){super.Oe(a);if(!this.Gg)for(const b of this.Va)b.Yo()}dc(a=!0,b=!1){fu(this);super.dc(a,b)}Xu(){if(this.Qd)return!0;const a=this.Y();if(a&&a.G().Ie())return!1;ir(this.Ab,this);this.dc(!1,
!0);return!0}hh(a,b,d){this.sc||(this.sc=this.Y());if(!this.sc||Bn(this.sc))this.Oe(!0),this.$m=this.g.Ch;else if(b=this.sc.hf,-1!==b&&(a=d*b),0!==a||0!==this.Ds){this.Ds=a;d=this.tb+this.Hn+a*this.Gc;a=this.gd.yq;0>d?(this.tb=0,this.Hn=-d):d>=a?(this.tb=a,this.Hn=this.tb-d):(this.tb=d,this.Hn=0);b=d=!1;var c=this.fr(),e=this.gr();c||e?c&&!e?0<this.Gc?this.tb>=a&&(this.kl(0),gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),b=!0):0>=this.tb&&(this.kl(a),gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),b=!0):
!c&&e?0<this.Gc?this.tb>=a&&(Ir(this,a),this.Ri(-1*this.Gc),b=!0,1===this.wb?this.Xd<this.Nh()?(this.Xd++,gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl),this.wb=0):(gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl),d=!0):0===this.wb&&(gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl),this.wb=1)):0>=this.tb&&(Ir(this,0),this.Ri(-1*this.Gc),b=!0,1===this.wb?this.Xd<this.Nh()?(this.Xd++,gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl),
this.wb=0):(d=!0,gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl)):0===this.wb&&(gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl),this.wb=1)):c&&e&&(0<this.Gc?this.tb>=a&&(Ir(this,a),this.Ri(-1*this.Gc),b=!0,0===this.wb&&(gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl)),1===this.wb&&(gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl)),this.wb++,this.wb=T.wrap(this.wb,0,2)):0>=this.tb&&(Ir(this,0),this.Ri(-1*this.Gc),b=!0,0===this.wb&&(gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl)),
1===this.wb&&(gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),gu(this,T.Qa.rb.P.cl),gu(this,T.Qa.rb.P.dl)),this.wb++,this.wb=T.wrap(this.wb,0,2))):0<this.Gc?this.tb>=a&&(this.Xd<this.Nh()?(this.Xd++,this.kl(0),gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),b=!0):(Ir(this,a),d=!0)):0>=this.tb&&(this.Xd<this.Nh()?(this.Xd++,this.kl(a),gu(this,T.Qa.rb.P.Ro),gu(this,T.Qa.rb.P.So),b=!0):(Ir(this,0),d=!0));d?(this.kb.Lu(),this.Oe(!0),this.$m=this.g.Ch):(this.kb.Ba(this.tb,!0,!1,b,this.Df,!1),this.Df&&(this.Df=
!1))}}la(){const a=super.la();return Object.assign(a,{tweenDataItemJson:this.gd.la(),id:this.Yb,destroyInstanceOnComplete:this.CN,initialValueMode:this.SG})}oa(a){a&&(this.gd.oa(a.tweenDataItemJson),super.oa(a),this.Yb=a.id,this.CN=a.destroyInstanceOnComplete,this.SG=a.initialValueMode,this.kb=this.Va[0])}static IsPlaying(a){return a.IsPlaying()}};"use strict";const hu=self.A;function iu(a){1===a.Ta.length?a.Rv=a.Ta[0]:(a.Rv=a.Ta[0],a.AI=a.Ta[1])}
hu.JM=class extends hu.PE{constructor(a,b){super(a,b);this.AI=this.Rv=null}static va(a,b){return hu.j(hu.JM,a,b)}SK(){for(const a of js(this.Jb.me()))this.Ta.push(hu.IM.va(this,a));iu(this)}nc(){bs(this);if(cs(this)||!Cr(this)){var a=Fr(this.Ra())?0:this.Wk();for(const b of this.Ta)b.nc(a),0===this.Kf&&1===b.Kf&&(this.Kf=1),0===this.Qb&&1===b.Qb&&(this.Qb=1);this.Og=0;this.Ta.some(b=>b.Og)&&(this.Og=1);this.vj=es(this,a);this.fn=this.Qp=!1;this.Ba(a)}}yo(){}Ba(a,b,d=!1,c=!1,e,f=!1,g=!1){this.sc||
this.Y();if(this.sc){if(Bn(this.sc)||f&&this.G().Ie())return!1;this.AI?(this.Rv.Ba(a,d,c,g),this.AI.Ba(a,d,c,g)):this.Rv.Ba(a,d,c,g);0!==this.Rv.Kf&&(this.Na||(this.Na=this.sc.C()),this.Na&&Am(this.Na))}}xo(){}oa(a){super.oa(a);iu(this)}};"use strict";const ju=self.A;
ju.IM=class extends ju.gb{constructor(a,b){super(a,b);this.mv=!1}static va(a,b){return ju.j(ju.IM,a,b)}Ba(a,b=!1,d=!1,c=!1){if(this.mv){var e=this.Db[0];var f=this.Db[1]}else{if(b)e=this.hc.ug(a,this.ha);else{if(this.Wc){f=this.Ra();const g=this.Wc.Ze;e=this.Wc.xa();f=g?g.xa():f.xc();if(a<=e||a>=f)this.Wc=this.hc.ug(a,this.ha)}else this.Wc=this.hc.ug(a,this.ha);e=this.Wc}f=e.Ze}this.df.Ba(a,e,f,b,d,c)}JK(){const a=rs(ns(this.ha));this.Wc=null;this.mv=2>=os(this).length;return a}By(a){this.Wc=null;
ss(ns(this.ha),a);this.mv=2>=os(this).length}la(){return{sourceAdapterJson:this.qb().la(),basic:this.mv}}oa(a){a&&(this.qb().oa(a.sourceAdapterJson),this.mv=a.basic)}};"use strict";const ku=self.A,lu=self.Co;function mu(a){a.Tw.clear();for(let d=0;d<a.Tg.length-1;d++){var b=a.Tg[d];if(!b.nx)continue;const c=a.Tg[d+1];c.Ov&&a.Tw.set(b,lu.LS(b.If,b.If+b.JP,c.If+c.EN,c.If))}}function nu(a,b){const d=a.EC.get(b);if(d)return d;for(const c of a.Tg)if(c.If===b)return a.EC.set(b,c),c}
ku.QE=class extends ku.pa{constructor(a,b=!0){super();this.Ca=a[0];this.LO=a[2];this.Tg=[];for(var d of a[1])a=ku.HM.va(this,d),this.Tg.push(a);for(d=0;d<this.Tg.length;d++){a=this.Tg[d];const c=this.Tg[d-1];a.vr(this.Tg[d+1]);a.sz(c)}this.Tw=new Map;this.EC=new Map;mu(this);b&&lu.LR(this.Ca,(c,e,f,g)=>this.Ba(c,e,f,g),{transition:this})}static va(a){return ku.j(ku.QE,a)}m(){for(const a of this.Tg)a.m();ku.D(this.Tg);this.Tg=null;this.Tw.clear();this.Tw=null;this.EC.clear();this.EC=null}Ba(a,b,d,
c){var e=a/c;if(this.LO){var f=nu(this,0);e=nu(this,1);f=b+(b+d)*f.lm;b=(b+d)*e.lm-f;return 0===c?f+b:lu.RL(a,f,b,c)}0===c&&(e=1);a:{for(a=this.Tg.length-1;0<=a;a--)if(f=this.Tg[a],c=f.If,c<=e){if(c<e){a=f;break a}if(c===e){for(;f;){a=f.Qn;if(!a)break;if(a.If!==f.If)break;f=a}a=f;break a}}a=void 0}c=a.Ze;c||(c=a,a=a.Qn);f=c.If-a.If;e=ku.OY(e,a.If,c.If,f);if("linear"===a.CX||0===f)return a=b+(b+d)*a.lm,b=(b+d)*c.lm-a,0===f?1===e?a+b:a:lu.RL(e,a,b,f);f=a.If;const g=a.lm,h=a.If+a.JP,k=a.lm+a.FX,l=c.If+
c.EN,m=c.lm+c.FW,n=c.If;c=c.lm;e=lu.Xk("spline")(e,f,g,h,k,l,m,n,c,this.Tw.get(a));e+=a.lm;return(1-e)*b+e*(b+d)}};"use strict";const ou=self.A;ou.HM=class extends ou.pa{constructor(a,b){super();this.If=b[0];this.lm=b[1];this.JP=b[2];this.FX=b[3];this.EN=b[4];this.FW=b[5];this.nx=b[6];this.Ov=b[7];this.CX=b[8];this.Qn=this.Ze=null}m(){}static va(a,b){return ou.j(ou.HM,a,b)}vr(a){this.Ze=a}sz(a){this.Qn=a}};"use strict";const pu=self.A;
pu.iV=class extends pu.pa{constructor(a){super();this.g=a;this.FC=[]}m(){for(const a of this.FC)a.m();pu.D(this.FC);this.FC=null}va(a){this.FC.push(pu.QE.va(a))}};"use strict";const qu=self.A;function ru(a){return a.zh?0!==a.zh.size:!1}function su(a,b,d){b=b instanceof qu.Cu?b.Aa():b;if(a.zh.has(b)&&(a=a.zh.get(b).get(d)))return JSON.parse(JSON.stringify(a))}function tu(a,b,d){a.Jl||(a.Jl=new WeakMap);a.Jl.has(b)||a.Jl.set(b,d)}
qu.$U=class extends qu.pa{constructor(a){super();this.g=a;this.Jl=this.zh=null;this.vs=b=>this.Hz(b.instance)}m(){this.zE();if(this.zh){for(const a of this.zh.values())a.clear();this.zh.clear()}this.g=this.zh=null}va(a){this.zh||(this.zh=new Map);if(a){var b=a[0][16][0],d=a[1];this.zh.has(d)||this.zh.set(d,new Map);this.zh.get(d).set(b,a)}}uD(){const a=this.g.lb();a&&a.addEventListener("instancedestroy",this.vs)}zE(){const a=this.g.lb();a&&a.removeEventListener("instancedestroy",this.vs)}Hz(a){this.Jl&&
this.Jl.has(a)&&this.Jl.delete(a)}};"use strict";const uu=self.A;uu.ES=class{constructor(a){this.g=a;this.js=new uu.DS}m(){this.js.m();this.g=this.js=null}F(){return this.g}va(a){this.js.Fb(a)}ZD(){return this.js.ZD()}};"use strict";const vu=self.A;function wu(a,b){"number"===typeof b?((b=a.Fo(b))||(b=a.Dl.Ny()),a.rC=b):((b=a.Dl.OD(a.MI))||(b=a.Dl.Ny()),a.rC=b)}function xu(a){"string"===typeof a.pq&&a.pq&&(a.Xw=a.Vc.Ld.get(a.pq),a.pq="");return a.Xw?a.Xw:a}
function yu(a,b){if(zu(a)){for(var [,d]of zu(a).entries())yu(d,!1);zu(a).clear()}a.af=null;a.Zs=null;a.qk=null;a.jq="";a.et=null;a.xp="";a.pq="";a.iq=[];if(b){if(Au(a.Vc,a),d=a.rC.jn,d!==a.wp){b=a.wp;var c=a.Qy().Y();a.At++;a.Vc.kn.push(a);a.g.$a(vu.O.Ji.P.E1,c);a.g.$a(vu.O.Ji.P.H1,c);a.g.$a(vu.O.Ji.P.F1,c);a.g.$a(vu.O.Ji.P.I1,c);a.wp=d;a.g.$a(vu.O.Ji.P.cU,c);a.g.$a(vu.O.Ji.P.sU,c);a.g.$a(vu.O.Ji.P.B1,c);a.g.$a(vu.O.Ji.P.M1,c);a.Vc.kn.pop();Bu(a);if(!a.Ar()&&(d=a.Fo(a.wp),"reference"===d.Tb()))if(c=
d.sP,Cu(a),a.af&&a.af.has(d))a.iq.pop(),Cu(a),d=a.af.get(d),Au(a.Vc,d,!0,!0,!1),d.Zs=a,d.$s=b,a=xu(a),a.qk=d,a.qk===a&&(a.qk=null);else{const f=d.tP;if(c){a.iq.pop();let g=d.uP;if(g)for(var e=a.Vc.Ld.get(g);e;)g=vu.DL(g),e=a.Vc.Ld.get(g);else for(g=`${c}-ref`,e=a.Vc.Ld.get(g);e;)g=vu.DL(g),e=a.Vc.Ld.get(g);c=Du(a.Vc,c,f,g,a.Xl,!0);c.Zs=a;c.$s=b;a.af||(a.af=new Map);a.af.set(d,c);a=xu(a);c.Xw=a;a.qk=c;a.qk===a&&(a.qk=null)}}}}else a.wp=a.rC.jn}function zu(a){Cu(a);return a.af}
function Bu(a){a.At--;if(0===a.At&&a.JH){var b=a.Vc;a.JH=!0;0<a.At||(b.Ld.delete(a.Rg),a.m(),b.Id===a&&(b.Id=null))}}function Eu(a){"string"===typeof a.jq&&a.jq&&(a.Zs=a.Vc.Ld.get(a.jq),a.jq="");return a.Zs}function Fu(a){"string"===typeof a.xp&&a.xp&&(a.qk=a.Vc.Ld.get(a.xp),a.xp="");return a.qk}function Cu(a){if(a.et){a.af&&a.af.clear();a.af||(a.af=new Map);for(const b of a.et){const d=a.Vc.Ld.get(b.flowchartStateTag),c=d.Fo(b.flowchartElementId);a.af.set(c,d)}a.et=null}}
vu.HS=class{constructor(a,b,d,c,e,f,g){this.g=e.F();this.Vc=e;this.pG=a;this.MI=d;this.Dl=c;this.Rg=b;this.Xl=f;this.mP=g??f.Y().Rb;wu(this);this.wp=this.rC?.iL()??-1;this.iq=[];this.Zs=null;this.$s=NaN;this.Xw=this.qk=this.af=null;this.jq="";this.et=null;this.pq=this.xp="";this.At=0;this.Qd=this.JH=!1}m(){this.Qd||(vu.D(this.iq),this.Zs=this.Xl=this.Dl=this.Vc=this.g=this.iq=null,this.$s=NaN,this.af&&this.af.clear(),this.Xw=this.qk=this.af=null,this.jq="",this.et=null,this.pq=this.xp="",this.Qd=
!0)}Ar(){return this.Qd}F(){return this.g}ka(){return this.pG}Qy(){this.Xl||(this.Xl=L($r(this.g,this.mP)));return this.Xl}Fo(a){return this.Dl.Fo(a)}dc(){yu(xu(this),!0)}la(){if(this.JH)var a=null;else{a=this.pG;var b=this.Rg,d=this.MI,c=this.wp,e=this.iq,f=this.Xl.Y().Rb,g=Eu(this)?Eu(this).Rg:"",h=vu.Ub(this.$s)?this.$s:NaN;Cu(this);if(this.af){var k=[];for(const [l,m]of zu(this).entries())k.push({flowchartElementId:l.jn,flowchartStateTag:m.Rg});k=k.length?k:null}else k=null;a={flowchartName:a,
flowchartTag:b,startNodeTag:d,currentNodeId:c,previousNodeIds:e,pluginUID:f,reference:{previousFlowchartTag:g,previousStartNodeId:h,referencesJson:k,currentReferenceFlowchartTag:Fu(this)?Fu(this).Rg:"",rootFlowchartTag:xu(this)?xu(this).Rg:""}}}return a}oa(a){a&&(this.pG=a.flowchartName,this.Rg=a.flowchartTag,this.MI=a.startNodeTag,this.wp=a.currentNodeId,this.iq=a.previousNodeIds,this.mP=a.pluginUID,a.hasOwnProperty("reference")&&(a=a.reference,this.jq=a.previousFlowchartTag,this.$s=a.previousStartNodeId,
this.et=a.referencesJson,this.xp=a.currentReferenceFlowchartTag,this.pq=a.rootFlowchartTag),wu(this))}};"use strict";const Gu=self.A;function Au(a,b,d=!1,c=!1,e=!0){e&&(b=(e=Fu(b))?e:b);b!==a.Id&&(a.Id&&!a.Id.Ar()&&(e=a.Id.Qy().Y(),a.Id.At++,a.kn.push(a.Id),a.g.$a(Gu.O.Ji.P.G1,e),a.kn.pop(),Bu(a.Id)),Hu(a,b,d,c))}
function Du(a,b,d,c,e,f,g){const h=a.g.Vc.js.W(b);if(h)if(a.Ld.has(c))console.warn(`[Flowcharts] there already is a flowchart with the tag '${c}'`);else return b=new Gu.HS(b,c,d,h,a,e,g),a.Ld.set(c,b),f&&Au(a,b,!0),b;else console.warn(`[Flowcharts] no flowchart found with name '${b}'`)}
function Hu(a,b,d=!1,c=!1){a.Id=b;a.Id&&!a.Id.Ar()&&(b=a.Id.Qy().Y(),a.Id.At++,a.kn.push(a.Id),a.g.$a(Gu.O.Ji.P.K1,b),!0!==c&&"number"!==typeof c||wu(a.Id,c),d&&(a.g.$a(Gu.O.Ji.P.cU,b),a.g.$a(Gu.O.Ji.P.sU,b)),a.kn.pop(),Bu(a.Id))}
Gu.O_=class{constructor(a){this.g=a;this.Ld=new Map;this.Id=null;this.kn=[];this.bP=()=>this.Bg();this.yw=null}m(){Gu.D(this.kn);this.kn=null;this.Ld.clear();this.yw=this.g=this.Id=this.Ld=null}F(){return this.g}la(){return{flowchartJsonObjects:[...this.Ld.values()].map(a=>a.la()),currentFlowchartTag:this.Id?this.Id.Rg:null}}oa(a){if(a){this.yw=a;a=new Map;for(const d of this.yw.flowchartJsonObjects){var b=d.flowchartTag;if(this.Ld.has(b)){const c=this.Ld.get(b);c.oa(d);a.set(b,c)}else b=Du(this,
d.flowchartName,d.startNodeTag,d.flowchartTag,null,!1,d.pluginUID),b.oa(d),a.set(d.flowchartTag,b)}for(const [d,c]of this.Ld.entries())a.has(d)||c.m();this.Ld.clear();this.Ld=a;this.g.rh?this.g.lb().addEventListener("afterload",this.bP):this.Bg()}}Bg(){this.g.lb().removeEventListener("afterload",this.bP);const a=this.Ld.get(this.yw.currentFlowchartTag);a&&Au(this,a,!0);this.yw=null}};"use strict";const Iu=self.A;
Iu.DS=class{constructor(){this.hs=new Map}m(){for(const a of this.hs.values())a.m();this.hs.clear();this.hs=null}Fb(a){a=new Iu.CS(a);this.hs.set(a.ka(),a)}W(a){return this.hs.get(a)}ZD(){return!!this.hs.size}};"use strict";const Ju=self.A;Ju.CS=class{constructor(a){this.Ca=a[0];this.Fp=new Ju.FS(a[1],this)}m(){this.Fp.m();this.Fp=null}Fo(a){return this.Fp.Fo(a)}OD(a){return this.Fp.OD(a)}Ny(){return this.Fp.Ny()}ka(){return this.Ca}};"use strict";const Ku=self.A;
class Lu{constructor(a,b){this.Fp=b;this.ea=a[7];this.jn=a[0];this.Rg=a[1];this.gX=a[6];this.uP=this.tP=this.sP=null;"reference"===this.ea&&(this.sP=a[8],this.tP=a[9],this.uP=a[10]);this.rG=new Ku.GS(a[5])}m(){this.Fp=null}iL(){return this.jn}Tb(){return this.ea}}
Ku.FS=class{constructor(a,b){this.Dl=b;this.Sv=[];this.qG=new Map;this.MN=new Map;this.NN=null;b=this.Sv;var d=Lu;if(a)for(var c of a)a=new d(c,this),b.push(a);for(const e of this.Sv){c=e.Rg;a=e.gX;this.qG.set(e.jn,e);c&&this.MN.set(c,e);a&&(this.NN=e);c=e.rG;for(const f of Mu(c))this.qG.set(f.jn,f)}}m(){this.Dl=null;for(const a of this.Sv)a.m();Ku.D(this.Sv);this.Sv=null}Fo(a){return this.qG.get(a)}OD(a){return this.MN.get(a)}Ny(){return this.NN}};"use strict";const Nu=self.A;
class Ou{constructor(a,b){this.rG=b;this.jn=a[0];this.Ca=a[1];this.jc=a[2]}m(){this.rG=null}iL(){return this.jn}ka(){return this.Ca}Sc(){return this.jc}}function*Mu(a){for(const b of a.ks)yield b}Nu.GS=class{constructor(a){this.ks=[];this.KW=new Map;var b=this.ks,d=Ou;if(a)for(const c of a)a=new d(c,this),b.push(a);for(const c of this.ks)this.KW.set(c.ka(),c)}m(){for(const a of this.ks)a.m();Nu.D(this.ks);this.ks=null}};"use strict";const Pu=self.A;function Qu(a){return a.ib[a.ga-1]}
function Ru(a){var b=a.ib,d=++a.ga;d===b.length?(d=Pu.j(Pu.ME,a),b.push(d),a.fj=d):(b=b[d],b.dc(),a.fj=b)}Pu.UU=class extends Pu.pa{constructor(a){super();this.I=a;this.ib=[];this.ib.push(Pu.j(Pu.ME,this));this.ga=0;this.fj=this.ib[0]}m(){for(const a of this.ib)a.m();Pu.D(this.ib);this.I=this.fj=null}G(){return this.I}X(){return this.fj}Ed(){this.X().Ed()}Ma(){this.fj=this.ib[--this.ga]}Wo(a){const b=this.ib;for(let d=0,c=b.length;d<c;++d)b[d].Wo(a)}};"use strict";const Su=self.A;
function Tu(a){Su.D(a.H);Su.D(a.sb)}function Uu(a,b){a.ab=!1;Su.D(a.H);a.H.push(b)}function Vu(a,b){a.ab=!1;Su.Yc(a.H,b)}function Wu(a,b){a.ab=!1;Su.D(a.H);for(const d of b)a.H.push(d)}function Xu(a,b){var d=Yu;for(const c of b)d.has(c)||a.sb.push(c)}function Zu(a,b){b&&(In(a.yd).Kb().xe?(a.ab&&(Su.D(a.H),Su.Yc(a.sb,b.G().na()),a.ab=!1),b=a.sb.indexOf(b),-1!==b&&(a.H.push(a.sb[b]),a.sb.splice(b,1))):Uu(a,b))}
Su.ME=class extends Su.pa{constructor(a){super();this.ib=a;this.I=this.ib.G();this.yd=this.I.F().Qc();this.ab=!0;this.H=[];this.sb=[]}m(){Tu(this);this.yd=this.I=this.ib=null}G(){return this.I}na(){return this.ab?this.I.na():this.H}dc(){this.ab=!0;Su.D(this.sb)}Ed(){this.ab=!0}FD(a){a.ab?this.dc():(this.ab=!1,Su.Yc(this.H,a.H),Su.D(this.sb))}Wo(a){Su.Vg(this.H,a);Su.Vg(this.sb,a)}};"use strict";const $u=self.A;function In(a){return a.ib[a.ga]}
$u.yS=class extends $u.pa{constructor(a){super();this.Fa=a;this.g=this.Fa.F();this.ib=[];this.ib.push($u.j($u.aL,this,null));this.ga=0;this.yA=[]}m(){for(const a of this.ib)a.m();$u.D(this.ib);$u.D(this.yA);this.g=this.Fa=null}ja(){return this.Fa}F(){return this.g}Pa(a){var b=this.ib;const d=++this.ga;if(d===b.length)return a=$u.j($u.aL,this,a),b.push(a),a;b=b[d];b.dc(a);return b}Ma(){--this.ga}};"use strict";const av=self.A;
function bv(a){const b=a.Qe;return b.rB?!0:a.Wd<b.fc.length-1?!!b.$c().length:!1}function cv(a,b){a.Re=b}av.aL=class extends av.pa{constructor(a,b){super();this.ib=a;this.g=this.ib.F();this.Qe=b;this.ue=this.Wd=0;this.en=this.Mg=!1;this.kG=null;this.zG=this.UN=0;this.Re=null}m(){this.dc(null);this.g=this.ib=null}dc(a){this.Qe=a;this.ue=this.Wd=0;this.en=this.Mg=!1;this.Re=null}eF(a,b){this.Qe=a;this.Wd=0;this.ue=b}Kb(){return this.Qe}rz(a){this.zG=a}};"use strict";const dv=self.A;
dv.ST=class extends dv.pa{constructor(a){super();this.Fa=a;this.g=this.Fa.F();this.ib=[];this.ga=-1;this.fj=null;this.XA=[]}m(){dv.D(this.ib);this.g=this.Fa=null}ja(){return this.Fa}F(){return this.g}ar(){return this.fj}Pa(){const a=++this.ga,b=this.ib;a===b.length?b.push(this.XA.slice(0)):dv.Yc(b[a],this.XA);this.fj=b[a]}Ma(){this.fj=this.ib[--this.ga]}};"use strict";const ev=self.A;
ev.UT=class extends ev.pa{constructor(a){super();this.Fa=a;this.g=this.Fa.F();this.ib=[];this.ga=-1}m(){ev.D(this.ib);this.g=this.Fa=null}ja(){return this.Fa}F(){return this.g}ar(){return this.ib[this.ga]}Pa(){++this.ga;if(this.ga===this.ib.length){var a=ev.j(ev.TT,this);this.ib.push(a);return a}a=this.ib[this.ga];a.dc();return a}Ma(){--this.ga}};"use strict";const fv=self.A;
fv.TT=class extends fv.pa{constructor(a){super();this.Xe=a;this.Ca="";this.ga=0;this.Fc=!1}dc(){this.Ca="";this.ga=0;this.Fc=!1}Mu(a){this.Ca=a}ka(){return this.Ca}Aa(){return this.ga}Oe(){this.Fc=!0}};"use strict";const gv=self.A;gv.SR=class extends gv.pa{constructor(){super();this.ib=[];this.ga=-1}m(){gv.D(this.ib)}ar(){return this.ib[this.ga]}Pa(){++this.ga;if(this.ga===this.ib.length){const a=[];this.ib.push(a);return a}return this.ib[this.ga]}Ma(){--this.ga}};"use strict";const hv=self.A;
function iv(a,b){return a.Aa()-b.Aa()}function Ml(a,b){b?a.Vz++:a.Vz--}function Ol(a){return 0<a.am||0<a.Yd}function Nq(a,b){for(const [d,c,e]of a.eC)a.bv(b,d,c,e);hv.D(a.eC)}function Sq(a){for(const b of a.ng)b.m();hv.D(a.ng)}function jv(a,b){switch(b.AG){case 0:a.qs.set(b.Lp.toLowerCase(),b);break;case 1:a.Dv.set(b.Lp.toLowerCase(),b)}}
function kv(a,b){2<=b.length&&b.sort(iv);let d=a.iN.get(b.length);d||(d=[],a.iN.set(b.length,d));for(let c=0,e=d.length;c<e;++c){const f=d[c];a:{for(let g=0,h=b.length;g<h;++g)if(b[g]!==f[g]){a=!1;break a}a=!0}if(a)return f}d.push(b);return b}function lv(a){const b=[];for(a=a.Ho();a;)hv.om(b,a.SM()),a=a.Ho();return b}function mv(a){const b={};for(const d of lv(a))b[d.Ki()]=nv(d);return Object.create(Object.prototype,b)}
function ov(a,b,d){let c=a.Dv.get((b.ka()+"."+d).toLowerCase());if(c)return c;if(!b.La)for(const e of b.nh)if(c=a.Dv.get((e.ka()+"."+d).toLowerCase()))return c;return null}function*pv(a,b){for(const d of Yq(b))if(b=d.Oc)a.g.zl.push(d),yield*b.Za(),qv(a.g)}async function rv(a,b){for(const d of a.Gr)d.rs=!1;a.am++;for(const d of pv(a,b))await sv(a.g,d);a.am--}function tv(a,b,d,c){a.eC.push([b,d,c]);return!1}function uv(a,b,d,c){let e=null;const f=new Promise(g=>e=g);a.dC.push([b,d,c,e]);return f}
function*vv(a){if(wv(a.g))throw Error("should not be in breakpoint");const b=a.g.Wa;for(;a.dC.length;){const [d,c,e,f]=a.dC.shift(),g=yield*a.Uu(b,d,c,e);f(g)}}async function xv(a){for(const b of vv(a))await sv(a.g,b)}function yv(a){for(let b=0,d=a.length;b<d;++b)a[b].Fj.Ed()}function zv(a){for(let b=0,d=a.length;b<d;++b)Ru(a[b].Fj)}function Av(a){for(let d=0,c=a.length;d<c;++d){var b=a[d].Fj;const e=b.ib,f=++b.ga;f===e.length&&e.push(Pu.j(Pu.ME,b));const g=e[f];g.FD(e[f-1]);b.fj=g}}
function Bv(a){for(let b=0,d=a.length;b<d;++b)a[b].Fj.Ma()}function Cv(a,b){const d=new Set,c=a.yd.ib;a=a.yd.ga;for(let e=0;e<=a;++e){const f=c[e].Re;if(f)for(const g of f)b&&b.has(g)||d.add(g)}return d}function Dv(a,b){b=new Set([...b]);a=Cv(a,b);if(0<a.size){for(const d of a)Ru(d.Fj);return[...a]}return null}function Ev(a){const b=hv.j(hv.tM,a);a.ng.push(b);return b}function Fv(a){a=hv.VX(a.ng,b=>b.gx);for(const b of a)b.m()}
async function Gv(a){if(a.ng.length){var b=a.Sf(),d=!1;a.am++;for(let c=0,e=a.ng.length;c<e;++c){const f=a.ng[c];Hv(f)&&await Iv(f,b);f.gx&&(d=!0)}d&&(Fv(a),b.dc(null));a.am--}}function Jv(a,b){let d=a.ew.get(b);d||(d={jy:[],nD:new Map},a.ew.set(b,d));return d}function Kv(a){return a.ng.filter(b=>"promise"!==b.ea).map(b=>b.la())}function Lv(a){for(;a;)if(a=a.Ho(),a instanceof hv.Eo)return a;return null}
hv.xS=class extends hv.pa{constructor(a){super();this.g=a;this.Gr=[];this.mC=new Map;this.vF=[];this.DG=new Map;this.EF=new Map;this.OF=new Map;this.Mz=new Map;this.iN=new Map;this.Pv=new Map;this.sX=0;this.uF=[];this.gN=[];this.NO=[];this.qs=new Map;this.Dv=new Map;this.yd=hv.j(hv.yS,this);this.zd=hv.j(hv.ST,this);this.Xe=hv.j(hv.UT,this);this.ZI=[];this.eC=[];this.dC=[];this.Vz=this.Yd=this.am=0;this.ng=[];this.ql=[];this.nC=[];this.CP=new Map;this.ew=new Map;self.c3_callFunction=(b,d)=>this.Gz(b,
d)}m(){Sq(this);this.yd.m();this.yd=null;this.zd.m();this.zd=null;hv.D(this.eC);hv.D(this.dC);this.g=null;hv.D(this.Gr);this.mC.clear()}va(a){a=hv.j(hv.wS,this,a);this.Gr.push(a);this.mC.set(a.ka().toLowerCase(),a)}Lb(){for(var a of this.Dv.values())if(a.I&&a.I.La)for(var b of a.I.tk)if(Mv(b,a.Sm)){a.JG=!0;break}for(const d of this.qs.values())d.Lb();for(const d of this.Dv.values())d.Lb();for(const d of this.Gr)d.Lb();for(const d of this.Gr)Iq(d);for(const d of this.ZI)d.Lb(!1);hv.D(this.ZI);a=this.zd;
a.XA=this.NO;b=a.XA.slice(0);a.ib.push(b);a.ga=0;a.fj=b}F(){return this.g}Qc(){return this.yd}Sf(){return In(this.Qc())}Kb(){return this.Sf().Kb()}Rf(){const a=this.Sf();return Nv(a.Kb(),a.Wd)}Ky(){const a=this.Sf();return Ov(a.Kb(),a.ue)}bv(a,b,d,c){let e=!1;if(!a.Cb())return tv(this,b,d,c);this.Yd++;for(const f of Yq(a))if(a=f.Oc){this.g.zl.push(f);for(const g of a.nA){const h=g.bv(b,d,c);e=e||h}a=a.bv(b,d,c);e=e||a;qv(this.g)}this.Yd--;return e}*Uu(a,b,d,c){let e=!1;if(!a.Cb())return tv(this,b,
d,c);this.Yd++;for(const f of Yq(a))if(a=f.Oc){this.g.zl.push(f);for(const g of a.nA){const h=yield*g.Uu(b,d,c);e=e||h}a=yield*a.Uu(b,d,c);e=e||a;qv(this.g)}this.Yd--;return e}LE(a){a=a.toLowerCase();this.nC.push(a);this.g.$a(hv.O.Ob.P.qU,null);this.nC.pop();for(var b of this.g.ja().ng)"signal"===b.ea&&b.qq===a&&(b.xn=!0);if(b=this.CP.get(a))b.resolve(),this.CP.delete(a)}eE(a,b){const d=Jv(this,a);b=b.toLowerCase();d.jy.push(b);this.g.$a(Pv(a.Ka()).P.iU,a);d.jy.pop();for(var c of this.g.ja().ng)"instance-signals"===
c.ea&&c.qq===b&&(c.Wl.delete(a),0===c.Wl.size&&(c.xn=!0));if(c=d.nD.get(b))c.resolve(!1),d.nD.delete(b);0===d.jy.length&&0===d.nD.size&&this.ew.delete(a)}la(){const a={};for(var b of this.vF)a[b.fb.toString()]=b.yu();b={};for(const [e,f]of this.OF){var d=f.la();d&&(b[e.toString()]=d)}d={};for(const [e,f]of this.Mz){var c=f.la();c&&(d[e.toString()]=c)}c={};for(const [e,f]of this.Pv)f.ob||!f.Ie()&&!f.ck()||(c[e.toString()]=f.Sc());return{groups:a,cnds:b,acts:d,vars:c,waits:Kv(this)}}oa(a){var b=a.groups;
for(const [e,f]of Object.entries(b))(b=(b=this.EF.get(parseInt(e,10)))&&b.qj?b:null)&&b.tr(f);b=a.cnds;var d=new Map;for(const [e,f]of Object.entries(b))d.set(parseInt(e,10),f);for(const [e,f]of this.OF)f.oa(d.get(e)||null);b=a.acts;d=new Map;for(const [e,f]of Object.entries(b))d.set(parseInt(e,10),f);for(const [e,f]of this.Mz)f.oa(d.get(e)||null);b=a.vars;for(const [e,f]of Object.entries(b))(b=this.Pv.get(parseInt(e,10))||null)&&b.Ne(f);a=a.waits;Sq(this);for(const e of a){a:if(a=this.F(),d=this.EF.get(e.ev)||
null){var c=0;if(e.hasOwnProperty("act")){b=this.Mz.get(e.act)||null;if(!b){a=null;break a}c=b.Aa()}b=Qv.j(Qv.tM,this);b.fd=e.t;e.hasOwnProperty("wt")?b.ea=e.wt:b.ea=-1===b.fd?"signal":"timer";b.qq=e.st;b.xn=e.s;b.jj=d;b.ue=c;for(const f of e.sm)(d=Aq(a,f))&&b.fe.push(d);if(Array.isArray(e.dsm))for(const f of e.dsm)if(d=Aq(a,f))b.Re||(b.Re=new Set),b.Re.add(d);for(const [f,g]of Object.entries(e.sols))if(d=Aq(a,parseInt(f,10)))c=Qv.j(Qv.EM,null),c.oa(this,g),b.rq.set(d,c);if("instance-signals"===b.ea){b.Wl=
new Set;for(const f of e.pi)(d=$r(a,f))&&b.Wl.add(d)}a=b}else a=null;a&&this.ng.push(a)}}Gz(a,b){Array.isArray(b)||(b=[]);a=this.qs.get(a.toLowerCase().toLowerCase())||null;if(!a)return null;if(!a.al())return Rv(a);var d=a.eg;if(b.length<d.length){b=b.slice(0);do b.push(d[b.length].Il);while(b.length<d.length)}d=a.Sd();return d.DE(d.md(),!1,a.Ej,Rv(a),...b)}};"use strict";const Sv=self.A;function Iq(a){Sv.D(a.nA);Tv(a,a);a.jN.clear()}
function Uv(a,b,d,c){switch(b[0]){case 0:case 3:b=Sv.Wj.va(a,d,b);if(b.xe){c.push(b);c=b.fc;for(let e=0,f=c.length;e<f;++e)c[e].Po()&&Vv(a,b,e)}else b.Po()?Vv(a,b,0):c.push(b);break;case 1:a=Sv.Vt.va(a,d,b);c.push(a);break;case 2:a=Sv.ZK.va(a,d,b);c.push(a);break;case 4:c=Wv.j(Wv.Eo,a,d,b);Xv(c,b[1]);jv(a.Fa,c);break;case 5:a=Sv.$K.va(a,d,b);c.push(a);break;case 6:c=Wv.j(Wv.Eo,a,d,b);Yv(c,b[1]);jv(a.Fa,c);break;default:throw Error("invalid event type");}}
function Vv(a,b,d){b.xe||a.Fa.ZI.push(b);var c=Nv(b,d),e=c.Ia;const f=c.G();if(c.qO){var g=a.KN.get(f);g||(g=new Map,a.KN.set(f,g));a=c.ta;if(!a.length)throw Error("no parameters");a=Zv(a[0].jG)().toLowerCase();c=g.get(e);c||(c=new Map,g.set(e,c));e=c.get(a);e||(e=[],c.set(a,e));e.push([b,d])}else g=a.GC.get(f),g||(g={aK:new Map,Qx:new Map},a.GC.set(f,g)),(c=c.Qf())?(a=g.Qx.get(c),a||(a=new Map,g.Qx.set(c,a))):a=g.aK,g=a.get(e),g||(g=[],a.set(e,g)),g.push([b,d])}
function Tv(a,b){const d=b.nA,c=b.jN;for(const e of a.BP)a=e.cw,e.ub&&b!==a&&!c.has(a)&&(c.add(a),Tv(a,b),d.push(a))}function $v(a,b,d,c,e){c=a.GC.get(c);if(!c)return!1;e=e?c.Qx.get(e):c.aK;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [f,g]of e)e=aw(a,d,f,g),b=b||e;return b}
function aw(a,b,d,c){const e=a.g;a=a.Fa;const f=a.Kb(),g=a.Qc(),h=a.Yd;let k=!1;f&&zv(f.md());zv(d.md());const l=1<h;l&&a.zd.Pa();const m=g.Pa(d);b&&(Uu(d.fc[c].G().X(),b),b.cc()&&bw(b));b=!0;if(d.qa()){const n=d.Aq;for(let p=0,q=n.length;p<q;++p)if(!cw(n[p],m)){b=!1;break}}b&&(d.xe?(m.Qe=d,m.Wd=c,d.fc[c].ra()&&(d.aj(m,0)&&dw(d),m.Mg=!0)):d.ra(m),k=m.Mg);g.Ma();l&&a.zd.Ma();Bv(d.md());f&&Bv(f.md());f||1!==h||(hv.D(a.ql),0<a.Vz||Pl(e));return k}
function*ew(a,b,d,c,e){c=a.GC.get(c);if(!c)return!1;e=e?c.Qx.get(e):c.aK;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [f,g]of e)e=f.pf()?aw(a,d,f,g):yield*fw(a,d,f,g),b=b||e;return b}
function*fw(a,b,d,c){const e=a.g;a=a.Fa;const f=a.Kb(),g=a.Qc(),h=a.Yd;let k=!1;f&&zv(f.md());zv(d.md());const l=1<h;l&&a.zd.Pa();const m=g.Pa(d);b&&(Uu(d.fc[c].G().X(),b),b.cc()&&bw(b));b=!0;if(d.qa()){const n=d.Aq;for(let p=0,q=n.length;p<q;++p)if(!(yield*gw(n[p],m))){b=!1;break}}b&&(d.xe?yield*hw(d,m,c):yield*d.Za(m),k=m.Mg);g.Ma();l&&a.zd.Ma();Bv(d.md());f&&Bv(f.md());f||1!==h||(hv.D(a.ql),0<a.Vz||Pl(e));return k}
Sv.wS=class extends Sv.pa{constructor(a,b){super();this.Fa=a;this.g=a.F();this.Ca=b[0];this.xA=[];this.GC=new Map;this.KN=new Map;this.GN=new Map;this.rs=!1;this.BP=[];this.nA=[];this.jN=new Set;for(const d of b[1])Uv(this,d,null,this.xA);this.yj=this.g.zb?{type:"sheet",name:this.Ca,ly:0,children:[]}:null}m(){this.g=this.Fa=null}Lb(){const a=this.xA;for(let b=0,d=a.length;b<d;++b)a[b].Lb(b<d-1&&a[b+1]instanceof Sv.Wj&&a[b+1].Yy())}ja(){return this.Fa}F(){return this.g}ka(){return this.Ca}ra(){if(!this.rs){var a=
this.g,b=iw(a),d=b?performance.now():0;this.rs=!0;var c=this.ja(),e=c.Sf();for(const f of this.xA)f.ra(e),yv(f.$c()),hv.D(c.ql),Pl(a);e.dc(null);b&&(this.yj.ly+=performance.now()-d)}}*Za(){if(!this.rs){this.rs=!0;var a=this.g,b=this.ja(),d=b.Sf();for(const c of this.xA)yield*c.Za(d),yv(c.$c()),hv.D(b.ql),Pl(a);d.dc(null)}}bv(a,b,d){if(b){const c=b.G();$v(this,a,b,c,d);for(const e of c.nh)$v(this,a,b,e,d)}else return $v(this,a,b,null,null)}*Uu(a,b,d){if(b){const c=b.G();yield*ew(this,a,b,c,d);for(const e of c.nh)yield*ew(this,
a,b,e,d)}else return yield*ew(this,a,b,null,null)}};"use strict";const jw=self.A,kw=[];function lw(){return!0}function*mw(){return!0}function Nv(a,b){b=Math.floor(b);if(0>b||b>=a.fc.length)throw new RangeError("invalid condition index");return a.fc[b]}function Ov(a,b){b=Math.floor(b);if(0>b||b>=a.Wb.length)throw new RangeError("invalid action index");return a.Wb[b]}
function cw(a,b){b.Qe=a;const d=a.fc;let c=0===d.length;for(let e=0,f=d.length;e<f;++e){const g=d[e];b.Wd=e;if(g.lH)throw Error("trigger cannot be used as sub-event to a loop");if(g.ra())c=!0;else if(!a.xe)return!1}return a.xe?c:!0}function*gw(a,b){b.Qe=a;const d=a.fc;let c=0===d.length;for(let e=0,f=d.length;e<f;++e){const g=d[e];b.Wd=e;if(g.lH)throw Error("trigger cannot be used as sub-event to a loop");if(g.pf()?g.ra():yield*g.Za())c=!0;else if(!a.xe)return!1}return a.xe?c:!0}
function*hw(a,b,d){b.Qe=a;b.Wd=d;d=a.fc[d];if(d.pf()?d.ra():yield*d.Za())(ow(a)?a.aj(b,0):yield*a.fp(b,0))&&(pw(a)?dw(a):yield*qw(a)),b.Mg=!0}function rw(a,b){if(a)if(b.includes(a)||b.push(a),a.La)for(const c of a.tk){if(c.cc()){a=c;var d=b;for(const e of a.Hg.zk)d.includes(e)||d.push(e)}}else if(a.cc())for(d of a.Hg.zk)b.includes(d)||b.push(d)}function sw(a){const b=a.Xb;b.tQ=a.fc.every(d=>d.pf());b.yJ=a.Wb.every(d=>d.pf());b.zJ=a.vi.every(d=>d.pf());b.uQ=b.tQ&&b.yJ&&b.zJ}
function tw(a){return a.De&&a.De instanceof jw.Eo||a.fc.some(b=>b.Po())}function uw(a){a.rB=!0;a.Zb&&uw(a.Zb)}function vw(a){return a.Xb&&a.Xb.PQ&&a.Xb.Vx}function ww(a,b){b=Math.floor(b);return 0<=b&&b<a.Wb.length}
function dw(a){if(a.vi.length){var b=a.qj&&iw(a.g),d=b?performance.now():0,c=a.yd,e=c.Pa(a);if(a.rB){var f=a.qj;const g=a.sB,h=a.vi;for(let k=0,l=h.length,m=l-1;k<l;++k){const n=h[k],p=n.$c(),q=!g||!f&&k<m;q&&Av(p);n.ra(e);q?Bv(p):yv(p)}}else{f=a.vi;for(let g=0,h=f.length;g<h;++g)f[g].ra(e)}c.Ma();b&&(a.yj.ly+=performance.now()-d)}}function ow(a){return!xw(a.g)&&a.Xb.yJ}function pw(a){return!xw(a.g)&&a.Xb.zJ}
function*qw(a){if(a.vi.length){var b=a.yd,d=b.Pa(a);a.rB?yield*yw(a,d):yield*zw(a,d);b.Ma()}}function Aw(a,b){const d=a.fc;for(let c=0,e=d.length;c<e;++c){const f=d[c];b.Wd=c;if(!f.ra()){b.Mg=!1;return}}b.Mg=!0;a.aj(b,0)&&dw(a);b.Mg&&a.Xv&&(b.en=!0)}function*Bw(a,b){const d=a.fc;let c=0===d.length;for(let f=0,g=d.length;f<g;++f){var e=d[f];e.Po()||(b.Wd=f,e=e.pf()?e.ra():yield*e.Za(),c=c||e)}b.Mg=!!c;c&&((ow(a)?a.aj(b,0):yield*a.fp(b,0))&&(pw(a)?dw(a):yield*qw(a)),a.Xv&&(b.en=!0))}
function*Cw(a,b){const d=a.fc;for(let c=0,e=d.length;c<e;++c){const f=d[c];b.Wd=c;if(f.pf()?!f.ra():!(yield*f.Za())){b.Mg=!1;return}}b.Mg=!0;(ow(a)?a.aj(b,0):yield*a.fp(b,0))&&(pw(a)?dw(a):yield*qw(a));b.Mg&&a.Xv&&(b.en=!0)}function*Dw(a,b){if(yield*a.fp(b,b.ue))yield*qw(a)}function*yw(a,b){const d=a.qj,c=a.sB;a=a.vi;for(let e=0,f=a.length,g=f-1;e<f;++e){const h=a[e],k=h.$c(),l=!c||!d&&e<g;l&&Av(k);yield*h.Za(b);l?Bv(k):yv(k)}}
function*zw(a,b){a=a.vi;for(let d=0,c=a.length;d<c;++d)yield*a[d].Za(b)}function Ew(a,b,d){d.Wd=0;d.ue=0;const c=a.fc;if(!a.xe)for(let e=b.Wd+1,f=c.length;e<f;++e)if(b=c[e],d.Wd=e,!b.ra())return!1;a.aj(d,0)&&dw(a);return!0}function*Fw(a,b,d){d.Wd=0;d.ue=0;const c=a.fc;if(!a.xe)for(let e=b.Wd+1,f=c.length;e<f;++e)if(b=c[e],d.Wd=e,b.pf()?!b.ra():!(yield*b.Za()))return!1;(ow(a)?a.aj(d,0):yield*a.fp(d,0))&&(pw(a)?dw(a):yield*qw(a));return!0}
function Gw(a,b){if(a.qa()){a=a.Aq;for(let d=0,c=a.length;d<c;++d)if(!cw(a[d],b))return!1}return!0}function*Hw(a,b){if(a.qa()){a=a.Aq;for(let d=0,c=a.length;d<c;++d)if(!(yield*gw(a[d],b)))return!1}return!0}function Iw(a,b,d,c){0<d.length?c?(d=d.map(e=>e.W(0)),b.zd.Pa(),Jw(a.De,d)):Kw(a.De,d):c&&b.zd.Pa()}
function*Lw(a,b,d,c,e){let f,g;if(vw(a)||xw(a.g))yield a;const h=0<b.length;let k=null;const l=a.yd,m=a.g.ja(),n=1<++m.Yd;Iw(a,m,d,n);h&&(c?Av(b):zv(b));null!==e&&(e.Ht?(d=e.UC.X(),Vu(d,(c?e.Ht.X():Qu(e.Ht.Fj)).na()),Su.D(d.sb),c||Mw(e.UC)):e.Kq&&(d=e.Kq.X(),Vu(d,e.gy),Su.D(d.sb)),e.qK&&(k=Dv(m,b)));e=l.Pa(a);c&&(e.Re=b);if(yield*Hw(a,e))e.Qe=a,(c=a.De.dh())&&([g,f]=Nw(a.De)),yield*Cw(a,e),c&&Ow(a.De,g);l.Ma();n&&m.zd.Ma();null!==k&&Bv(k);h&&Bv(b);--m.Yd;return f}
function*Pw(a,b,d){if(vw(a)||xw(a.g))yield a;const c=a.md(),e=0<c.length,f=a.yd,g=a.g.ja(),h=1<++g.Yd;h&&g.zd.Pa();Jw(a.De,b);e&&(d?Av(c):zv(c));b=f.Pa(a);if(yield*Hw(a,b))b.Qe=a,yield*Cw(a,b);f.Ma();h&&g.zd.Ma();e&&Bv(c);--g.Yd}
jw.Wj=class extends jw.pa{constructor(a,b,d){super();this.Oc=a;this.g=a.F();this.Zb=b;this.De=null;this.yd=this.g.ja().Qc();this.fe=[];this.jt=[];this.Xv=this.sB=this.rB=this.aO=!1;this.xe=!!d[2];this.jB=!1;this.Aq=null;this.fc=[];this.Wb=[];this.vi=[];this.aj=lw;this.fp=mw;this.jH=this.qj=!1;this.XN="";this.lB=!1;this.yj=this.hA=null;this.fb=d[4];this.Yr=d[5];this.Oc.GN.set(this.Yr,this);this.Xb=this.g.zb?{Vx:d[3][0],PQ:d[3][1],tQ:!1,yJ:!1,zJ:!1,uQ:!1}:null;this.ja().EF.set(this.fb,this);3===d[0]&&
(a=d[1],this.qj=!0,this.lB=this.jH=!!a[0],this.XN=a[1].toLowerCase(),this.hA=[],b=this.ja(),b.vF.push(this),b.DG.set(this.XN,this),this.g.zb&&(this.yj={type:"group",name:a[1],ly:0,children:[]}));a=0;for(var c of d[6])b=jw.DD.va(this,c,a++),this.fc.push(b),b=b.G(),rw(b,this.fe);a=0;for(const e of d[7])c=jw.oy.va(this,e,a++),this.Wb.push(c);if(9===d.length){d=d[8];for(const e of d)Uv(this.Oc,e,this,this.vi)}this.fc.length&&(this.jB=null===this.fc[0].G()&&this.fc[0].Ia===jw.O.Ob.P.uS);0===this.fc.length&&
(this.fc=kw);0===this.Wb.length&&(this.Wb=kw);0===this.vi.length&&(this.vi=kw)}static va(a,b,d){return jw.j(jw.Wj,a,b,d)}Lb(a){this.Xv=!!a;if(this.qj)for(a=this.qa(),this.sB=!0;a;){if(!a.qj){this.sB=!1;break}a=a.qa()}if(tw(this)){this.Aq=[];for(a=this.qa();a;)this.Aq.push(a),a=a.qa();this.Aq.reverse()}for(var b of this.fc)b.Lb();if(0<this.Wb.length){b=!1;for(var d of this.Wb)d.Lb(),(d.dh()||0!==(d.B&16))&&(b=!0);b?(this.aj=this.RV,this.fp=this.BV):(this.aj=this.QV,this.fp=this.AV)}d=this.vi;for(let c=
0,e=d.length;c<e;++c)d[c].Lb(c<e-1&&d[c+1]instanceof jw.Wj&&d[c+1].Yy());this.Xb&&sw(this);if(this.yj){a:{for(d=this.qa();d;){if(d.qj)break a;d=d.qa()}d=this.Oc}d.yj.children.push(this.yj)}}$c(){return this.fe}md(){if(!this.aO){this.aO=!0;var a=this.g.Mc;if(this.fe===a)this.jt=a;else{this.jt=jw.BJ(this.fe);for(a=this.qa();a;){for(var b of a.fe)rw(b,this.jt);a=a.qa()}b=this.ja();this.fe=kv(b,this.fe);this.jt=kv(b,this.jt)}}return this.jt}ja(){return this.Oc.ja()}F(){return this.g}qa(){return this.Zb}Ho(){return this.De||
this.Zb}Yy(){return this.jB}yu(){return this.lB}tr(a){a=!!a;if(!this.qj)throw Error("not a group");if(this.lB!==a){this.lB=a;for(const b of this.hA)Qw(b);this.hA.length&&(a=P(this.g).Oc)&&Iq(a)}}Po(){return this.fc.length&&this.fc[0].Po()}SM(){return this.vi.filter(a=>a instanceof jw.Vt)}ra(a){a.Qe=this;this.jB||(a.en=!1);if(this.xe){const d=this.fc;let c=0===d.length;for(let e=0,f=d.length;e<f;++e){var b=d[e];b.Po()||(a.Wd=e,b=b.ra(),c=c||b)}a.Mg=!!c;c&&(this.aj(a,0)&&dw(this),this.Xv&&(a.en=!0))}else Aw(this,
a)}*Za(a){if(vw(this)||xw(this.g))yield this;a.Qe=this;this.jB||(a.en=!1);this.xe?yield*Bw(this,a):yield*Cw(this,a)}QV(a,b){const d=this.Wb;for(let c=b,e=d.length;c<e;++c)b=d[c],a.ue=c,b.ra();return!0}*AV(a,b){const d=this.Wb;for(let c=b,e=d.length;c<e;++c)b=d[c],a.ue=c,b.pf()?b.ra():yield*b.Za();return!0}RV(a,b){const d=this.ja(),c=this.Wb;for(let e=b,f=c.length;e<f;++e){b=c[e];a.ue=e;const g=b.ra();if(0!==(b.B&16)&&!0===g)return!1;b.dh()&&g instanceof Promise&&d.ql.push(g)}return!0}*BV(a,b){const d=
this.ja(),c=this.Wb;for(let e=b,f=c.length;e<f;++e){b=c[e];a.ue=e;let g;g=b.pf()?b.ra():yield*b.Za();if(0!==(b.B&16)&&!0===g)return!1;b.dh()&&g instanceof Promise&&d.ql.push(g)}return!0}pf(){return!vw(this)&&!xw(this.g)&&this.Xb.uQ}mz(a,b,d,c){let e,f;const g=0<a.length;let h=null;const k=this.yd,l=this.g.ja(),m=1<++l.Yd;Iw(this,l,b,m);g&&(d?Av(a):zv(a));null!==c&&(c.Ht?(b=c.UC.X(),Vu(b,(d?c.Ht.X():Qu(c.Ht.Fj)).na()),Su.D(b.sb),d||Mw(c.UC)):c.Kq&&(b=c.Kq.X(),Vu(b,c.gy),Su.D(b.sb)),c.qK&&(h=Dv(l,a)));
c=k.Pa(this);d&&(c.Re=a);Gw(this,c)&&(c.Qe=this,(d=this.De.dh())&&([f,e]=Nw(this.De)),Aw(this,c),d&&Ow(this.De,f));k.Ma();m&&l.zd.Ma();null!==h&&Bv(h);g&&Bv(a);--l.Yd;return e}DE(a,b,d,c,...e){let f,g;const h=0<a.length,k=this.g,l=this.yd,m=k.ja(),n=1<++m.Yd;n&&m.zd.Pa();0<e.length&&Jw(this.De,e);h&&(b?Av(a):zv(a));b=l.Pa(this);b.UN=d;b.zG=c;l.yA.push(b);Jn(k,!1);Gw(this,b)&&(b.Qe=this,(d=this.De.dh())&&([g,f]=Nw(this.De)),Aw(this,b),d&&Ow(this.De,g));Jn(k,!0);l.Ma();l.yA.pop();n&&m.zd.Ma();h&&Bv(a);
--m.Yd;return f||b.zG}};"use strict";const Rw=self.A,Sw=[];let Tw=!1;async function Uw(a){try{await a.Ia()}catch(b){console.error(`Unhandled exception running script %c${a.Oc.ka()}, event ${a.Yr}:`,"font-size: 1.2em; font-weight: bold;",b),self.Jh&&self.Jh.UV(a),Tw||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Tw=!0)}}
Rw.$K=class extends Rw.pa{constructor(a,b,d){super();const c=a.F(),e=a.ja();this.Oc=a;this.Fa=e;this.g=a.F();this.Zb=b;this.Ia=Vw(c,d[1]);this.Yr=d[2];this.Oc.GN.set(this.Yr,this);this.Xb=c.zb?{Vx:d[3][0],PQ:d[3][1]}:null}static va(a,b,d){return Rw.j(Rw.$K,a,b,d)}Lb(){const a=this.Ia,b=mv(this);this.Ia=a.bind(null,this.g.fg,b)}qa(){return this.Zb}Ho(){return this.Zb}Yy(){return!1}$c(){return Sw}md(){return this.Zb?this.Zb.md():Sw}ra(a){a.Qe=this;a=this.Fa;var b=Uw(this);a.ql.push(b)}*Za(a){a.Qe=this;
if(vw(this)||xw(this.g))yield this;this.ra(a)}pf(){return!vw(this)&&!xw(this.g)}};"use strict";const Wv=self.A;function Rv(a){switch(a.Ej){case 0:return null;case 2:return"";default:return 0}}function Jw(a,b){a=a.eg;for(let d=0,c=a.length;d<c;++d)a[d].Ne(b[d])}function Kw(a,b){a=a.eg;for(let d=0,c=a.length;d<c;++d)a[d].Ne(b[d].W(0))}function Nw(a){const b=a.nX++;a.Bv=b;let d;const c=new Promise(e=>d=e);a.kv.set(b,{resolve:d,mK:0});return[b,c]}
function Ow(a,b){const d=a.kv.get(b);0===d.mK&&(d.resolve(),a.kv.delete(b));a.Bv=-1}function Xv(a,b){a.AG=0;a.Lp=b[0];a.Ej=b[1];a.eg=b[2].map(d=>Wv.Vt.va(a.Oc,a,d));a.Pc=b[3];a.aH=b[4];a.hg=b[5]}function Yv(a,b){a.AG=1;a.Sm=b[1];a.I=Uo(a.g,b[2]);rw(a.I,a.Ec.fe);a.Lp=a.I.ka()+"."+a.Sm;a.Ej=b[3];a.eg=b[4].map(d=>Wv.Vt.va(a.Oc,a,d));a.Pc=b[5];a.aH=b[6];a.hg=b[7];a.I.AN.set(a.Sm.toLowerCase(),a)}function Ww(a){return a.eg.map(b=>b.Sc())}function Xw(a,b){a.Bv=b;a.kv.get(b).mK--}
function*Yw(a,b,d){var c=new Map,e=[];for(const f of a.I.X().na()){const g=f.G();if(Mv(g,a.Sm)){const h=c.get(g);Array.isArray(h)?h.push(f):c.set(g,[f])}else e.push(f)}0<e.length&&(yield*Lw(a.Ec,b,d,a.hg,{Kq:a.I,gy:e}));if(0<c.size)for(const [f,g]of c)c=Mv(f,a.Sm).Sd(),e=[...(new Set([...b,...c.$c()]))],yield*Lw(c,e,d,a.hg,{Kq:f,gy:g})}
Wv.Eo=class extends Wv.pa{constructor(a,b,d){super();this.Oc=a;this.g=a.F();this.Zb=b;this.AG=0;this.Lp="";this.Ej=0;this.eg=[];this.Pc=!0;this.Sm="";this.I=null;this.JG=!1;this.TG=[];this.aH=this.hg=!1;this.nX=0;this.Bv=-1;this.kv=new Map;this.Ec=Wv.Wj.va(a,b,d);this.Ec.De=this}Lb(){for(const a of this.eg)a.Lb();this.Ec.Lb(!1)}SM(){return this.eg}qa(){return this.Zb}Ho(){return this.Zb}G(){return this.I}al(){return this.Pc}Sd(){return this.Ec}dh(){return this.aH}JU(a,b){var d=new Map,c=[];for(const e of this.I.X().na()){const f=
e.G();if(Mv(f,this.Sm)){const g=d.get(f);Array.isArray(g)?g.push(e):d.set(f,[e])}else c.push(e)}0<c.length&&this.Ec.mz(a,b,this.hg,{Kq:this.I,gy:c});if(0<d.size)for(const [e,f]of d)d=Mv(e,this.Sm).Sd(),c=[...(new Set([...a,...d.$c()]))],d.mz(c,b,this.hg,{Kq:e,gy:f})}};"use strict";const Zw=self.A,$w=[];function nv(a){return{configurable:!1,enumerable:!0,get:a.zX,set:a.AX}}
Zw.Vt=class extends Zw.pa{constructor(a,b,d){super();const c=a.ja();this.Oc=a;this.Fa=c;this.g=a.F();this.Zb=b;this.zd=c.zd;this.Ca=d[1];this.ea=d[2];this.Il=d[3];this.ye=!!d[4];this.ob=!!d[5];this.$W=b instanceof Zw.Eo;this.fb=d[6];this.tw=this.g.Ki(d[8]);this.AX=e=>this.Ne(e);this.zX=()=>this.Sc();this.cO=!this.Zb||this.ye||this.ob;this.jc=this.Il;this.HH=-1;2===this.ea&&(this.jc=this.jc?1:0);this.Ie()||this.ck()||this.ob||(c.NO.push(this.Il),this.HH=c.sX++);c.Pv.set(this.fb,this);this.Ie()?c.uF.push(this):
c.gN.push(this)}static va(a,b,d){return Zw.j(Zw.Vt,a,b,d)}Lb(){if(!(this.Ie()||this.ck()||this.ob||this.$W)){const a=Lv(this);a&&a.TG.push(this)}}ka(){return this.Ca}Ki(){return this.tw}qa(){return this.Zb}Ho(){return this.qa()}Ie(){return!this.qa()}ck(){return this.ye}Hm(){return 0===this.ea}Ph(){return 1===this.ea}Yy(){return!1}$c(){return $w}ra(){this.Ie()||this.ck()||this.ob||this.Ne(this.Il)}pf(){return!0}*Za(a){this.ra(a)}Ne(a){this.Hm()?"number"!==typeof a&&(a=parseFloat(a)):this.Ph()?"string"!==
typeof a&&(a=a.toString()):2===this.ea&&(a=a?1:0);this.cO?this.jc=a:this.zd.ar()[this.HH]=a}Sc(){return this.cO?this.jc:this.zd.ar()[this.HH]}};"use strict";const ax=self.A,bx=[];function Qw(a){let b=a.qa();for(;b;){if(b instanceof ax.Wj&&b.qj&&!b.yu()){a.ub=!1;return}b=b.qa()}a.ub=!0}
ax.ZK=class extends ax.pa{constructor(a,b,d){super();const c=a.ja();this.Oc=a;this.Fa=c;this.g=a.F();this.Zb=b;this.cw=null;this.TW=d[1];this.ub=!0}static va(a,b,d){return ax.j(ax.ZK,a,b,d)}Lb(){this.cw=this.Fa.mC.get(this.TW.toLowerCase())||null;this.Oc.BP.push(this);let a=this.qa();for(;a;)a instanceof ax.Wj&&a.qj&&a.hA.push(this),a=a.qa();Qw(this);this.g.zb&&this.Oc.yj.children.push(this.cw.yj)}qa(){return this.Zb}$c(){return bx}ra(){const a=!!this.qa(),b=this.g.Mc;a&&zv(b);this.cw.ra();a&&Bv(b)}*Za(){const a=
!!this.qa(),b=this.g.Mc;a&&zv(b);yield*this.cw.Za();a&&Bv(b)}pf(){return!1}};"use strict";const cx=self.A;cx.$q=class extends cx.pa{constructor(a){super();this.vb=a;this.g=a.F()}Lb(){}};class dx extends cx.$q{constructor(a,b){super(a);this.Ad=this.g.pu();this.Ia=Vw(this.g,b[1]);if(this.Ia===cx.O.Ob.$g.random||this.Ia===cx.O.Ob.$g.YX)this.vb.Fe=!0}Kh(){return ex(this.Ad,this.Ia,this.Ad)}}
class fx extends cx.$q{constructor(a,b){super(a);this.ps=null;this.Lp=b[1];this.vb.Fe=!0}Lb(){const a=this.g.ja();this.ps=a.qs.get(this.Lp.toLowerCase())||null;this.Lp=null;const b=this.ps.Sd();this.PF=[...(new Set([...this.vb.Sd().md(),...b.md()]))];this.PF=kv(a,this.PF)}Kh(){const a=this.ps;if(a.al())return cx.Wj.prototype.DE.bind(a.Sd(),this.PF,a.hg,a.Ej,Rv(a));const b=Rv(a);return()=>b}}
function gx(a){const b=a.I;var d=b.X();var c=d.na();d=c.length?c:d.sb;c=d.length;if(0===c)return a.uI?"":0;var e=a.vb.pC;e>=c?c=e%c:(0>e&&(e<=-c&&(e%=c),0>e&&(e+=c)),c=e);In(a.yd).kG=b;return a.Ia.apply(L(d[c]),[])}class hx extends cx.$q{constructor(a,b){super(a);this.I=Uo(this.g,b[1]);this.Ia=Vw(this.g,b[2]);this.uI=!!b[3];this.yd=this.g.ja().Qc();ix(this.vb,this.I)}Kh(){return ex(this.I.Ka(),this.Ia,L(this.I.bk()))}}
class jx extends cx.$q{constructor(a,b){super(a);this.I=Uo(this.g,b[1]);this.uI=!!b[2];ix(this.vb,this.I)}}class kx extends cx.$q{constructor(a,b){super(a);this.I=Uo(this.g,b[1]);this.Pb=this.I.Lr.get(b[2].toLowerCase())||null;this.dj=Zr(this.I,b[2]);this.Ia=Vw(this.g,b[3]);this.uI=!!b[4];this.yd=this.g.ja().Qc();ix(this.vb,this.I)}}class lx extends cx.$q{constructor(a,b){super(a);this.wA=null;this.iG=b[1]}Lb(){this.wA=this.g.ja().Pv.get(this.iG)||null}}"use strict";const mx=self.A;
function ix(a,b){a.Fe||!b||b.Ka().ei||(a.Fe=!0)}mx.Je=class extends mx.pa{constructor(a,b,d){super();this.vb=a;this.ga=d;this.ea=b;this.W=null;this.ob=this.Fe=!1}static va(a,b,d){const c=b[0];return mx.j([nx,ox,px,qx,rx,sx,tx,nx,qx,qx,ux,vx,px,wx,ox,xx,yx,zx,Ax,Bx,Cx,Dx][c],a,c,d,b)}Lb(){}Aa(){return this.ga}F(){return this.vb.F()}Sd(){return this.vb.Sd()}};function Zv(a){a=self.dS[a];if(!a)throw Error("invalid expression number");return a}
function Ex(a,b){if(0>b||b>=a.Vs.length)throw new RangeError("invalid numbered node");return a.Vs[b]}class nx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.pC=0;a=c[1];this.jG=a[0];this.Vs=[];this.Qv=null;for(let e=1,f=a.length;e<f;++e)b=this.Vs,d=b.push,c=a[e],c=cx.j([kx,hx,jx,lx,dx,fx][c[0]],this,c),d.call(b,c);this.Vs.length?this.W=this.QS:(this.W=Zv(this.jG),this.ob=!0)}Lb(){for(var a of this.Vs)a.Lb();a=Zv(this.jG);this.Qv=this.Vs.length?a(this):a}QS(a){this.pC=a;return this.Qv()}}
class ox extends nx{constructor(a,b,d,c){super(a,b,d,c);this.W=this.aT;14===b&&(a=this.Sd(),a.fe=a.g.Mc,this.vb instanceof mx.oy&&uw(this.Sd()))}aT(a){this.pC=a;a=this.Qv();return"string"===typeof a?a:""}}class sx extends nx{constructor(a,b,d,c){super(a,b,d,c);this.W=2<=a.Go()?this.dr:this.Z;this.ob=!1}Z(a){this.pC=a;a=this.Qv();return P(this.F()).Z(a)}dr(){const a=this.Z();return a?a.dr():null}}
class qx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.tW=c[1];this.W=this.NS;this.ob=!0}NS(){return this.tW}}class yx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.fW=c[1];this.W=this.MS;this.ob=!0}MS(){return this.fW}}class rx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.I=Uo(this.F(),c[1]);this.W=2<=a.Go()?this.er:this.G;a=this.Sd();rw(this.I,a.fe);this.vb instanceof mx.oy?uw(a):a.qa()&&uw(a.qa());this.ob=!0}G(){return this.I}er(){return this.I?this.I.er():null}}
class tx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.Ef=Xq(this.F().Wa,c[1]);this.W=2<=a.Go()?this.Uk:this.Sb;this.ob=!0}Sb(){return this.Ef}Uk(){return this.Ef?this.Ef.Uk():null}}class xx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.he=this.F().Ab.ao.get(c[1].toLowerCase())||null;this.W=2<=a.Go()?this.QD:this.Ra;this.ob=!0}Ra(){return this.he}QD(){return this.he?this.he.QD():null}}
class px extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.IW=c[1];this.W=this.SS;this.ob=!0}SS(){return this.IW}}
class ux extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.nO=c[1];a=this.vb.G();this.vb instanceof mx.DD&&this.vb.ck()?(this.W=this.jL,this.ob=!0):a&&a.La?(this.W=this.RS,this.Fe=!0):(this.W=this.jL,this.ob=!0)}jL(){return this.nO}RS(a){a=a||0;const b=this.vb.G();var d=b.X();const c=d.na();if(c.length)a=c[a%c.length].G();else if(d.sb.length)d=d.sb,a=d[a%d.length].G();else if(0<b.H.length)d=b.na(),a=d[a%d.length].G();else return 0;return this.nO+a.fs[b.ci]}}
class vx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.iG=c[1];this.wA=null;this.W=2<=a.Go()?this.XS:this.PS;this.ob=!0}Lb(){this.wA=this.F().ja().Pv.get(this.iG)||null}PS(){return this.wA}XS(){return null}}class zx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.SN=c[1];this.ps=null;this.W=2<=a.Go()?this.YS:this.WS;this.ob=!0}Lb(){this.ps=this.F().ja().qs.get(this.SN.toLowerCase())||null;this.SN=null}WS(){return this.ps}YS(){return null}}
class wx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.RI=[];this.bQ=[];this.ob=!0;for(let e=1,f=c.length;e<f;++e)a=mx.Je.va(this.vb,c[e],0),this.RI.push(a),this.bQ.push(0),a.ob||(this.ob=!1);this.W=this.cT}Lb(){for(const a of this.RI)a.Lb()}cT(){const a=this.RI,b=this.bQ;for(let d=0,c=a.length;d<c;++d)b[d]=a[d].W(0);return b}}class Ax extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.DW=c[1];this.W=this.Cm;this.ob=!0}Cm(){return this.DW}}
class Bx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.kW=c[1];this.W=this.bT;this.ob=!0}bT(){return this.kW}}class Cx extends nx{constructor(a,b,d,c){super(a,b,d,c);this.W=this.ir;this.ob=!1}ir(){return this.Qv()}}class Dx extends mx.Je{constructor(a,b,d,c){super(a,b,d);this.Dl=this.F().Vc.js.W(c[1]);this.W=this.US;this.ob=!0}US(){return this.Dl.ka()}}"use strict";const Fx=self.A;function Gx(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].W(0)}const Hx=[];function Ix(){}
function Jx(a){for(const b of a.ta)if(4===b.ea)return b.G();return null}function Kx(a){return a.Xb.Vx}function Lx(a){if(a.Pb){if(2<=a.Pb.rf().Ff)throw Error("not yet implemented");return a.Pb}return 2<=a.I.Ka().Ff?a.I.er():a.I}function Mx(a,b){const d=a.ta;a=a.mb;for(let c=0,e=d.length;c<e;++c){const f=d[c];f.Fe&&(a[c]=f.W(b))}}
Fx.DD=class extends Fx.pa{constructor(a,b,d){super();this.Ec=a;this.g=a.F();this.ga=d;this.Ia=Vw(this.g,b[1]);this.rH=0<b[3];this.qO=2===b[3];this.lH=!!b[4];this.rj=!!b[5];this.ye=!!b[6];this.fb=b[7];this.rO=this.Ec.xe;this.Pb=this.I=null;this.dj=-1;this.Ad=null;this.Za=this.ra=Ix;this.ta=[];this.mb=[];this.ol=!1;this.wi=this.Ib=null;this.Xb=this.g.zb?{Vx:b[8][0],kf:b[8][1]}:null;-1===b[0]?this.Ad=this.g.pu():(this.I=Uo(this.g,b[0]),b[2]&&(this.Pb=this.I.Lr.get(b[2].toLowerCase())||null,this.dj=Zr(this.I,
b[2])),this.Ec.qa()&&uw(this.Ec.qa()));if(10===b.length){a=b[9];for(let c of a)this.ta.push(Fx.Je.va(this,c,this.ta.length)),this.mb.push(0)}0===this.ta.length&&(this.mb=this.ta=Hx);this.Ec.ja().OF.set(this.fb,this)}static va(a,b,d){return Fx.j(Fx.DD,a,b,d)}Lb(){for(const a of this.ta)a.Lb(),a.Fe&&(this.ol=!0);this.qO?(this.ra=this.SV,this.Za=this.EV):this.Ad?(this.$u(this.Ad,this.Ad,this.hF),this.Za=this.XE):this.I.Ka().ei?(this.jF(),this.Za=this.WE):this.ye?(this.ra=this.TV,this.Za=this.MV):(this.ra=
this.VM,this.Za=this.FV)}jF(){const a=this.I.Ka(),b=L(this.I.bk());this.$u(a,b,this.gF)}$u(a,b,d){const c=this.Ia,e=this.rj,f=this.ta;if(0===f.length){const g=ex(a,c,b);this.ra=e?function(){return Fx.xor(g(),e)}:g}else if(1===f.length){const g=f[0];if(!e&&g.ob)this.ra=Nx(a,c,b,g.W(0));else{const h=ex(a,c,b);this.ra=function(){return Fx.xor(h(g.W(0)),e)}}}else if(2===f.length){const g=f[0],h=f[1];if(!e&&g.ob&&h.ob)this.ra=Ox(a,c,b,g.W(0),h.W(0));else{const k=ex(a,c,b);this.ra=function(){return Fx.xor(k(g.W(0),
h.W(0)),e)}}}else if(3===f.length){const g=f[0],h=f[1],k=f[2];if(!e&&g.ob&&h.ob&&k.ob)this.ra=Px(a,c,b,g.W(0),h.W(0),k.W(0));else{const l=ex(a,c,b);this.ra=function(){return Fx.xor(l(g.W(0),h.W(0),k.W(0)),e)}}}else this.ra=d}G(){return this.I}Qf(){return this.Pb}Go(){const a=this.Pb?this.Pb.rf():this.I?this.I.Ka():null;return a?a.Ff:1}Sd(){return this.Ec}F(){return this.g}Aa(){return this.ga}fL(){return this.Aa()}Po(){return this.rH}ck(){return this.ye}pf(){return!Kx(this)&&!xw(this.g)&&!this.Xb.kf}Yk(){this.Ib||
(this.Ib=new Map);return this.Ib}su(){this.wi||(this.wi=new Map);return this.wi}hF(){const a=this.mb;Gx(this.ta,a);return Fx.xor(this.Ia.apply(this.Ad,a),this.rj)}*XE(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){var a=this.mb;Gx(this.ta,a);a=this.Ia.apply(this.Ad,a);Fx.bl(a)&&(a=yield*a);return Fx.xor(a,this.rj)}return this.ra()}gF(){const a=this.mb;Gx(this.ta,a);const b=L(this.I.bk());return Fx.xor(this.Ia.apply(b,a),this.rj)}*WE(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){var a=this.mb;
Gx(this.ta,a);const b=L(this.I.bk());a=this.Ia.apply(b,a);Fx.bl(a)&&(a=yield*a);return Fx.xor(a,this.rj)}return this.ra()}SV(){return!0}*EV(){if(Kx(this)||xw(this.g))yield this;return!0}TV(){var a=this.mb;Gx(this.ta,a);a=this.Ia.apply(Lx(this),a);Mw(this.I);return a}*MV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){var a=this.mb;Gx(this.ta,a);a=this.Ia.apply(Lx(this),a);Fx.bl(a)&&(a=yield*a);Mw(this.I);return a}return this.ra()}VM(){var a=this.ta,b=this.mb,d=this.I.X();for(let C=0,F=a.length;C<
F;++C){var c=a[C];c.Fe||(b[C]=c.W(0))}if(d.ab){a=this.I;b=a.La;var e=a.ci,f=this.dj,g=0<=f,h=a.na(),k=this.ol;c=this.mb;var l=this.Ia,m=this.rj,n=this.rO&&!this.rH;Tu(d);for(let C=0,F=h.length;C<F;++C){var p=h[C];k&&Mx(this,C);var q=void 0;g?(q=b?Qx(p.G(),e):0,q=l.apply(L(p.sd[f+q]),c)):q=l.apply(L(p),c);Fx.xor(q,m)?d.H.push(p):n&&d.sb.push(p)}d.ab=!1;Mw(a);d=d.ab?!!d.I.H.length:!!d.H.length}else{c=this.I;l=c.La;m=c.ci;n=c.cc();p=this.dj;q=0<=p;const C=this.ol,F=this.mb,O=this.Ia,ka=this.rj;a=this.rO&&
!this.rH;b=d.H;const la=d.sb;var t;if(t=a){a:{t=this.Ec;var r=this.Aa();if(0!==r){--r;for(var u=this.Ad||this.I.Ka().ei?Jx(this):this.G();0<=r;--r){var v=t.fc[r];if(u===v.G()||(v.Ad||v.I.Ka().ei)&&Jx(v)===u){t=!1;break a}}}t=!0}t=!t}v=t?la:b;r=0;u=!1;for(let Y=0,ra=v.length;Y<ra;++Y){var w=v[Y];C&&Mx(this,Y);var y=void 0;q?(y=l?Qx(w.G(),m):0,y=O.apply(L(w.sd[p+y]),F)):y=O.apply(L(w),F);if(Fx.xor(y,ka))if(u=!0,t){if(b.push(w),n)for(f of w.Ic)f.G().X().H.push(f)}else{v[r]=w;if(n){y=r;for(g of w.Ic)g.G().X().H[y]=
g}++r}else if(t){v[r]=w;if(n){y=r;for(h of w.Ic)h.G().X().sb[y]=h}++r}else if(a&&(la.push(w),n))for(k of w.Ic)k.G().X().sb.push(k)}Fx.lf(v,r);if(n){g=c;f=t;h=r;for(e of g.Hg.zk)g=e.X(),f?Rx.lf(g.sb,h):Rx.lf(g.H,h)}if(t&&!u)a:{f=this.I;e=f.La;f=f.ci;g=this.ol;h=this.dj;k=0<=h;c=this.mb;l=this.Ia;m=this.rj;for(let Y=0,ra=b.length;Y<ra;++Y)if(n=b[Y],g&&Mx(this,Y),k?(p=e?Qx(n.G(),f):0,n=l.apply(L(n.sd[h+p]),c)):n=l.apply(L(n),c),Fx.xor(n,m)){u=!0;break a}u=!1}d=a?u:d.ab?!!d.I.H.length:!!d.H.length}return d}*FV(){if(Kx(this)||
xw(this.g))yield this;return this.VM()}la(){if(!this.Ib||!this.Ib.size)return null;const a={};for(const [b,d]of this.Ib.entries()){let c=d;"collmemory"===b&&(c=[...d.entries()].map(e=>[e[0].Rb,e[1].Rb,e[2]]));a[b]=c}return{ex:a}}oa(a){this.Ib&&(this.Ib.clear(),this.Ib=null);if(a){var b=this.g,d=a.ex;if(d){a=this.Yk();a.clear();for(const [c,e]of Object.entries(d))d=e,"collmemory"===c&&(d=Fx.j(Fx.Du,e.map(f=>[$r(b,f[0]),$r(b,f[1]),f[2]]).filter(f=>f[0]&&f[1]))),a.set(c,d)}}}};"use strict";
const Sx=self.A;function Tx(a,b){for(let d=0,c=a.length;d<c;++d)b[d]=a[d].W(0)}const Ux=[];function Vx(){}function*Wx(){}
function Xx(a){var b=a.Ec.ja();const d=ov(b,a.JF,a.Qr);if(d.al()){const c=0!==(a.B&2);a.Xm=d.Sd();let e=[...(new Set([...a.Ec.md(),...a.Xm.md(),a.I,d.G()]))];e=kv(b,e);b=!a.I.La&&!d.G().La;const f=!a.I.La&&d.G().La,g=a.I.La;let h=null;!d.hg&&Yx(a)&&(h=h||{},h.qK=!0);if(f||!c)h=h||{},h.Ht=a.I,h.UC=d.G();b||f||g&&!d.JG?a.ra=Sx.Wj.prototype.mz.bind(a.Xm,e,a.ta,c,h):g&&(a.ra=Sx.Eo.prototype.JU.bind(d,e,a.ta));a.g.zb?b||f||g&&!d.JG?a.Za=function*(){if(Kx(a)||xw(a.g))yield a;return yield*Lw(a.Xm,e,a.ta,
c,h)}:g&&(a.Za=function*(){if(Kx(a)||xw(a.g))yield a;return yield*Yw(d,e,a.ta)}):a.Za=Wx}else a.ra=Vx,a.Za=Wx}function Zx(a){const b=a.Ec.ja(),d=b.qs.get(a.Qr.toLowerCase())||null;if(d.al()){const c=0!==(a.B&2);a.Xm=d.Sd();let e=[...(new Set([...a.Ec.md(),...a.Xm.md()]))];e=kv(b,e);const f=!d.hg&&Yx(a)?{qK:!0}:null;a.ra=Sx.Wj.prototype.mz.bind(a.Xm,e,a.ta,c,f);a.Za=a.g.zb?function*(){if(Kx(a)||xw(a.g))yield a;return yield*Lw(a.Xm,e,a.ta,c,f)}:Wx}else a.ra=Vx,a.Za=Wx}
function Yx(a){a=a.Ec;do{if(a instanceof Sx.Eo&&a.hg)return!0;a=a.Ho()}while(a);return!1}
Sx.oy=class extends Sx.pa{constructor(a,b,d){super();this.Ec=a;this.g=a=a.F();this.ga=d;this.fb=4<=b.length?b[3]:-1;this.eN=5<=b.length?b[4]&255:0;this.B=5<=b.length?b[4]>>8:0;this.Pb=this.I=this.Ia=null;this.dj=-1;this.Ad=null;this.Qr="";this.Xm=this.JF=null;this.Za=this.ra=Vx;this.ta=[];this.mb=[];this.ol=!1;this.wi=this.Ib=null;const c=(d=-3===b[0])?b[2]:b[5];this.Xb=a.zb||d?{Vx:c[0],kf:c[1],index:c[2]}:null;-1===b[0]?(this.Ad=a.pu(),this.Ia=Vw(a,b[1])):-2===b[0]?this.Qr=b[1]:d?(this.Ia=Vw(a,b[1]),
this.ra=this.EE,this.Za=this.pS,this.B|=8):(this.I=Uo(a,b[0]),this.B&4?(this.Qr=b[1],this.JF=Uo(a,b[2])):(b[2]&&(this.Pb=this.I.Lr.get(b[2].toLowerCase())||null,this.dj=Zr(this.I,b[2])),this.Ia=Vw(a,b[1])));if(7===b.length){b=b[6];for(var e of b)this.ta.push(Sx.Je.va(this,e,this.ta.length)),this.mb.push(0)}0===this.ta.length&&(this.mb=this.ta=Ux);0!==(this.B&1)&&(e=this.Ec,e.fe=e.g.Mc,uw(this.Ec));this.Ec.ja().Mz.set(this.fb,this)}static va(a,b,d){return Sx.j(Sx.oy,a,b,d)}Lb(){for(var a of this.ta)a.Lb(),
a.Fe&&(this.ol=!0);if(this.Ad)this.$u(this.Ad,this.Ad,this.hF),this.Za=this.XE;else if(this.Qr)this.B&4?Xx(this):Zx(this),this.Qr="",this.JF=null;else if(this.ra===this.EE){a=this.Ia;const b=mv(this.Ec);this.Ia=a.bind(null,this.g.fg,b)}else this.Pb?this.dh()?(this.ra=this.UM,this.Za=this.DV):(this.ra=this.TM,this.Za=this.CV):this.I.Ka().ei?(this.jF(),this.Za=this.WE):this.ck()?(this.ra=this.aN,this.Za=this.LV):this.dh()?(this.ra=this.XM,this.Za=this.HV):1===this.eN?(this.ra=this.YM,this.Za=this.IV):
this.ta.length?this.ta.every(b=>b.Fe)?(this.ra=this.WM,this.Za=this.GV):this.ol?(this.ra=this.$M,this.Za=this.KV):this.ta.every(b=>b.ob)?(Tx(this.ta,this.mb),this.ra=this.fF,this.Za=this.RM):(this.ra=this.ZM,this.Za=this.JV):(this.ra=this.fF,this.Za=this.RM)}jF(){const a=this.I.Ka(),b=L(this.I.bk());this.$u(a,b,this.gF)}$u(a,b,d){const c=this.Ia,e=this.ta;if(0===e.length)this.ra=ex(a,c,b);else if(1===e.length){const f=e[0];if(f.ob)this.ra=Nx(a,c,b,f.W(0));else{const g=ex(a,c,b);this.ra=function(){return g(f.W(0))}}}else if(2===
e.length){const f=e[0],g=e[1];if(f.ob&&g.ob)this.ra=Ox(a,c,b,f.W(0),g.W(0));else{const h=ex(a,c,b);this.ra=function(){return h(f.W(0),g.W(0))}}}else if(3===e.length){const f=e[0],g=e[1],h=e[2];if(f.ob&&g.ob&&h.ob)this.ra=Px(a,c,b,f.W(0),g.W(0),h.W(0));else{const k=ex(a,c,b);this.ra=function(){return k(f.W(0),g.W(0),h.W(0))}}}else this.ra=d}dh(){return 0!==(this.B&8)}ck(){return 2===this.eN}G(){return this.I}Go(){const a=this.Pb?this.Pb.rf():this.I?this.I.Ka():null;return a?a.Ff:1}Sd(){return this.Ec}F(){return this.g}Aa(){return this.ga}fL(){return this.Xb.index}pf(){return!Kx(this)&&
!xw(this.g)&&!this.Xb.kf}Yk(){this.Ib||(this.Ib=new Map);return this.Ib}su(){this.wi||(this.wi=new Map);return this.wi}hF(){const a=this.mb;Tx(this.ta,a);return this.Ia.apply(this.Ad,a)}*XE(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.mb;Tx(this.ta,a);return yield*this.Ia.apply(this.Ad,a)}return this.ra()}gF(){const a=this.mb;Tx(this.ta,a);return this.Ia.apply(L(this.I.bk()),a)}*WE(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.mb;Tx(this.ta,a);return yield*this.Ia.apply(L(this.I.bk()),
a)}return this.ra()}fF(){const a=this.mb,b=this.I.X().na();for(let d=0,c=b.length;d<c;++d)this.Ia.apply(L(b[d]),a)}*RM(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.mb,b=this.I.X().na();for(let d=0,c=b.length;d<c;++d)yield*this.Ia.apply(L(b[d]),a)}else this.fF()}ZM(){const a=this.mb;Tx(this.ta,a);const b=this.I.X().na();for(let d=0,c=b.length;d<c;++d)this.Ia.apply(L(b[d]),a)}*JV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.mb;Tx(this.ta,a);const b=this.I.X().na();
for(let d=0,c=b.length;d<c;++d)yield*this.Ia.apply(L(b[d]),a)}else this.ZM()}WM(){const a=this.ta,b=this.mb,d=this.Ia,c=this.I.X().na();for(let e=0,f=c.length;e<f;++e){const g=c[e];for(let h=0,k=a.length;h<k;++h)b[h]=a[h].W(e);d.apply(L(g),b)}}*GV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.ta,b=this.mb,d=this.Ia,c=this.I.X().na();for(let e=0,f=c.length;e<f;++e){const g=c[e];for(let h=0,k=a.length;h<k;++h)b[h]=a[h].W(e);yield*d.apply(L(g),b)}}else this.WM()}$M(){const a=this.ta,
b=this.mb,d=this.Ia,c=this.I.X().na();for(let f=0,g=a.length;f<g;++f){var e=a[f];e.Fe||(b[f]=e.W(0))}for(let f=0,g=c.length;f<g;++f){e=c[f];for(let h=0,k=a.length;h<k;++h){const l=a[h];l.Fe&&(b[h]=l.W(f))}d.apply(L(e),b)}}*KV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const b=this.ta,d=this.mb,c=this.Ia,e=this.I.X().na();for(let f=0,g=b.length;f<g;++f){var a=b[f];a.Fe||(d[f]=a.W(0))}for(let f=0,g=e.length;f<g;++f){a=e[f];for(let h=0,k=b.length;h<k;++h){const l=b[h];l.Fe&&(d[h]=l.W(f))}yield*c.apply(L(a),
d)}}else this.$M()}YM(){const a=this.ta,b=this.mb,d=this.Ia,c=this.I.X().na();for(let e=0,f=c.length;e<f;++e){const g=c[e];for(let h=0,k=a.length;h<k;++h)b[h]=a[h].W(e);d.apply(L(g),b)}}*IV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.ta,b=this.mb,d=this.Ia,c=this.I.X().na();for(let e=0,f=c.length;e<f;++e){const g=c[e];for(let h=0,k=a.length;h<k;++h)b[h]=a[h].W(e);yield*d.apply(L(g),b)}}else this.YM()}aN(){const a=this.mb;Tx(this.ta,a);return this.Ia.apply(this.Pb||this.I,a)}*LV(){if(Kx(this)||
xw(this.g))yield this;if(this.Xb.kf){var a=this.mb;Tx(this.ta,a);a=this.Ia.apply(this.Pb||this.I,a);Sx.bl(a)&&(a=yield*a);return a}return this.aN()}TM(){var a=this.I;const b=a.La,d=a.ci,c=this.ta,e=this.ol,f=this.mb,g=this.Ia,h=this.dj;a=a.X().na();for(let m=0,n=c.length;m<n;++m){var k=c[m];k.Fe||(f[m]=k.W(0))}for(let m=0,n=a.length;m<n;++m){k=a[m];if(e)for(let p=0,q=c.length;p<q;++p){var l=c[p];l.Fe&&(f[p]=l.W(m))}l=b?Qx(k.G(),d):0;g.apply(L(k.sd[h+l]),f)}}*CV(){if(Kx(this)||xw(this.g))yield this;
if(this.Xb.kf){var a=this.I;const c=a.La,e=a.ci,f=this.ta,g=this.ol,h=this.mb,k=this.Ia,l=this.dj;a=a.X().na();for(let m=0,n=f.length;m<n;++m){var b=f[m];b.Fe||(h[m]=b.W(0))}for(let m=0,n=a.length;m<n;++m){b=a[m];if(g)for(let p=0,q=f.length;p<q;++p){var d=f[p];d.Fe&&(h[p]=d.W(m))}d=c?Qx(b.G(),e):0;yield*k.apply(L(b.sd[l+d]),h)}}else this.TM()}XM(){const a=this.ta,b=this.mb,d=this.Ia,c=this.I.X().na(),e=[];for(let f=0,g=c.length;f<g;++f){const h=c[f];for(let k=0,l=a.length;k<l;++k)b[k]=a[k].W(f);e.push(d.apply(L(h),
b))}return Promise.all(e)}*HV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){const a=this.ta,b=this.mb,d=this.Ia,c=this.I.X().na(),e=[];for(let f=0,g=c.length;f<g;++f){const h=c[f];for(let k=0,l=a.length;k<l;++k)b[k]=a[k].W(f);e.push(yield*d.apply(L(h),b))}return Promise.all(e)}return this.XM()}UM(){var a=this.I;const b=a.La,d=a.ci,c=this.ta,e=this.mb,f=this.Ia,g=this.dj;a=a.X().na();const h=[];for(let k=0,l=a.length;k<l;++k){const m=a[k];for(let p=0,q=c.length;p<q;++p)e[p]=c[p].W(k);const n=
b?Qx(m.G(),d):0;h.push(f.apply(L(m.sd[g+n]),e))}return Promise.all(h)}*DV(){if(Kx(this)||xw(this.g))yield this;if(this.Xb.kf){var a=this.I;const b=a.La,d=a.ci,c=this.ta,e=this.mb,f=this.Ia,g=this.dj;a=a.X().na();const h=[];for(let k=0,l=a.length;k<l;++k){const m=a[k];for(let p=0,q=c.length;p<q;++p)e[p]=c[p].W(k);const n=b?Qx(m.G(),d):0;h.push(yield*f.apply(L(m.sd[g+n]),e))}return Promise.all(h)}return this.UM()}async EE(){try{await this.Ia()}catch(a){console.error(`Unhandled exception running script %c${this.Ec.Oc.ka()}, event ${this.Ec.Yr}, action ${this.fL()+
1}:`,"font-size: 1.2em; font-weight: bold;",a),self.Jh&&self.Jh.UV(this),Tw||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Tw=!0)}}*pS(){if(Kx(this)||xw(this.g))yield this;return this.EE()}la(){return this.Ib&&this.Ib.size?{ex:Sx.OE(this.Ib)}:null}oa(a){this.Ib&&(this.Ib.clear(),this.Ib=null);a&&(a=a.ex)&&(this.Ib=Sx.ID(a))}};"use strict";
const U=self.A,$x=new U.bb;let ay=null;U.jS=function(a){ay=a};function V(a){return a instanceof self.vf?ay.oj.get(a):a.Y()}function W(a){return V(a).C()}function by(a,b){return U.compare(W(this).Da(),a,b)}function cy(a,b){return U.compare(W(this).Ea(),a,b)}function dy(){{var a=W(this);const d=a.Z();if(cp(d))a=Yp(a,Op(d));else{var b=d.Sb();a=Hp(a,ep(d),Gp(b),b.ig)}}return a}function ey(){var a=W(this);const b=a.Sb();a=Cm(a);return 0>a.da||0>a.aa||a.V>b.S()||a.T>b.R()}
function fy(a,b,d){const c=this.X(),e=c.na();if(!e.length)return!1;let f=e[0];var g=f.C();let h=f,k=U.AQ(g.Da(),g.Ea(),b,d);for(let l=1,m=e.length;l<m;++l)if(f=e[l],g=f.C(),g=U.AQ(g.Da(),g.Ea(),b,d),0===a&&g<k||1===a&&g>k)k=g,h=f;Zu(c,h);return!0}function gy(a){const b=W(this);b.Da()!==a&&(b.Wi(a),Am(b))}function hy(a){const b=W(this);b.Ea()!==a&&(b.Xi(a),Am(b))}function iy(a,b){const d=W(this);if(d.Da()!==a||d.Ea()!==b)Bm(d,a,b),Am(d)}
function jy(a,b){if(a){var d=V(this);a=a.X().na();if(a=0<a.length?a[Dq(d)%a.length]:null){var [c,e]=a.RD(b);b=d.C();if(b.Da()!==c||b.Ea()!==e)Bm(b,c,e),Am(b)}}}function ky(a){if(0!==a){var b=W(this);Up(b,ly(b)*a,my(b)*a);Am(b)}}function ny(a,b){if(0!==b){var d=W(this);a=U.Bb(a);Up(d,Math.cos(a)*b,Math.sin(a)*b);Am(d)}}function oy(){return W(this).Da()}function py(){return W(this).Ea()}function qy(){const a=V(this);return yl(a.F(),a)}function ry(a,b){return U.compare(W(this).S(),a,b)}
function sy(a,b){return U.compare(W(this).R(),a,b)}function ty(a){const b=W(this);b.S()!==a&&(b.fh(a),Am(b))}function uy(a){const b=W(this);b.R()!==a&&(b.Sh(a),Am(b))}function vy(a,b){const d=W(this);if(d.S()!==a||d.R()!==b)d.Vd(a,b),Am(d)}function wy(){return W(this).S()}function xy(){return W(this).R()}function yy(){return Cm(W(this)).V}function zy(){return Cm(W(this)).T}function Ay(){return Cm(W(this)).da}function By(){return Cm(W(this)).aa}
function Cy(){const a=Cm(W(this));return(a.V+a.da)/2}function Dy(){const a=Cm(W(this));return(a.T+a.aa)/2}function Ey(a,b){return U.Gq(W(this).hb(),U.Bb(b))<=U.Bb(a)}function Fy(a){return U.Lf(W(this).hb(),U.Bb(a))}function Gy(a,b){a=U.Bb(a);b=U.Bb(b);const d=W(this).hb();return U.Lf(b,a)?U.Lf(d,a)&&!U.Lf(d,b):!(!U.Lf(d,a)&&U.Lf(d,b))}function Hy(a){const b=W(this);a=U.Cd(U.Bb(a));isNaN(a)||b.hb()===a||(b.qe(a),Am(b))}function Iy(a){if(!isNaN(a)&&0!==a){var b=W(this);b.qe(b.hb()+U.Bb(a));Am(b)}}
function Jy(a){if(!isNaN(a)&&0!==a){var b=W(this);b.qe(b.hb()-U.Bb(a));Am(b)}}function Ky(a,b){const d=W(this),c=d.hb();a=U.vJ(c,U.Bb(b),U.Bb(a));isNaN(a)||c===a||(d.qe(a),Am(d))}function Ly(a,b,d){const c=W(this),e=c.hb();b-=c.Da();d-=c.Ea();a=U.vJ(e,Math.atan2(d,b),U.Bb(a));isNaN(a)||e===a||(c.qe(a),Am(c))}function My(a,b){const d=W(this),c=d.hb();a-=d.Da();b-=d.Ea();b=Math.atan2(b,a);isNaN(b)||c===b||(d.qe(b),Am(d))}function Ny(){return U.Ei(W(this).hb())}
function Oy(a,b){return U.compare(U.iR(100*W(this).kc()),a,b)}function Py(){return W(this).mc()}function Qy(a){const b=V(this),d=b.C();a=2===a?!d.mc():0!==a;d.mc()!==a&&(d.eh(a),b.F().ya())}function Ry(a){a=U.ia(a/100,0,1);const b=V(this),d=b.C();if(ut(d)){if(d.za.Ak===a)return}else if(d.kc()===a)return;d.yg(a);b.F().ya()}function Sy(a){ud($x,a);a=V(this);const b=a.C();rd(b.ec,$x)||(dt(b,$x),a.F().ya())}function Ty(){const a=W(this).ec;return U.fz(a.Ua,a.Ya,a.Sa,a.Oa)}
function Uy(){return U.iR(100*W(this).kc())}function Vy(a){return a?W(this).Z()===a:!1}function Wy(a){const b=this.X(),d=b.na();if(!d.length)return!1;let c=d[0];for(let e=1,f=d.length;e<f;++e){const g=d[e],h=g.C(),k=c.C(),l=h.Z().Aa(),m=k.Z().Aa();if(0===a){if(l>m||l===m&&Dm(h)>Dm(k))c=g}else if(l<m||l===m&&Dm(h)<Dm(k))c=g}Zu(b,c);return!0}function Xy(a,b,d){const c=W(this);a=0===a?c.Xa():Kp(c);return U.compare(a,b,d)}
function Yy(){var a=W(this);const b=a.Ja,d=a.Ng,c=d.H;c.length&&c.at(-1)===b||(d.ip(b,!1),d.ih(b,!1),a.g.ya())}function Zy(){var a=W(this);const b=a.Ja,d=a.Ng;var c=d.H;if(!c.length||c[0]!==b){d.ip(b,!1);c=b.C();if(c.Z()!==d)throw Error("instance added to wrong layer");d.H.unshift(b);0!==c.Xa()&&(d.nl=!0);Xo(d,b);a.g.ya()}}function $y(a){if(a){var b=W(this);const d=b.Ja,c=b.Ng;if(c.Sb()!==a.Sb())throw Error("layer from different layout");a!==c&&(c.ip(d,!0),wq(b,a),a.ih(d,!0),b.g.ya())}}
function az(a,b){var d=0===a;if(b){a=V(this);var c=bz(b,a);if(c){b=a.C();var e=b.Ja;a=!1;var f=b.Ng;if(c.Rb!==e.Rb){var g=c.C();if(!g)throw Error("expected world instance");g=g.Z();f.Aa()!==g.Aa()&&(f.ip(e,!0),wq(b,g),g.ih(e,!0),a=!0);d=!!d;f=e.C();c=c.C();if(f.Z()!==g||c.Z()!==g)throw Error("can't arrange Z order unless both objects on this layer");f=Dm(f);c=Dm(c);f===c+(d?1:-1)?g=!1:(M.WX(g.H,f),f<c&&c--,d&&c++,c===g.H.length?g.H.push(e):g.H.splice(c,0,e),Xo(g,e),g=!0);(a||g)&&b.g.ya()}}}}
function cz(a){const b=V(this),d=b.C();d.Xa()!==a&&(d.Xf(a),b.F().ya())}function dz(){return W(this).Z().Aa()}function ez(){return W(this).Z().ka()}function fz(){return Dm(W(this))}function gz(){return W(this).Xa()}function hz(){return Kp(W(this))}function iz(a){const b=V(this);if(a=ds(b.G().Ga,a))return a=a.Aa(),b.C().Ve.Gm(a)}function jz(a,b){const d=V(this);if(b=ds(d.G().Ga,b)){b=b.Aa();a=1===a;var c=d.C().Ve;c.Gm(b)!==a&&(c.GE(b,a),c.Ag(),d.F().ya())}}
function kz(a,b,d){const c=V(this);if(a=ds(c.G().Ga,a)){b=Math.floor(b);var e=a.Td().ku(b);e&&("color"===e?(ud($x,d),d=$x):"percent"===e&&(d/=100),a=a.Aa(),e=c.C().Ve,e.qz(a,b,d)&&e.Gm(a)&&c.F().ya())}}const lz=U.j(U.Rect),mz=[],nz=[];let oz=!1,pz=null,qz=!1;const Yu=new Set;function rz(a,b,d,c){b.Rb<d.Rb?a.Set(b,d,c):a.Set(d,b,c)}function sz(a,b,d){b.Rb<d.Rb?a.Bo(b,d):a.Bo(d,b)}function tz(a,b,d){return b.Rb<d.Rb?a.W(b,d):a.W(d,b)}
function uz(a,b,d,c){if(!b)return!1;const e=0!==d||0!==c,f=a.C(),g=a.F();var h=g.Rf();const k=h.Sd().xe;var l=h.G();h=h.rj;const m=b.X();l=l!==b;pz=b;oz=l&&!h;qz=!1;let n=0,p=0,q=!1;m.ab?(lz.ua(Cm(f)),lz.offset(d,c),vz(f.Z(),b,lz,nz),b=nz):k?0===g.Sf().Wd&&!m.sb.length&&m.H.length?b=m.H:(b=m.sb,qz=!0):b=m.H;e&&(n=f.Da(),p=f.Ea(),Up(f,d,c),Am(f));for(const t of b)if(wz(a,t)){q=!0;if(h)break;l&&Yu.add(t)}e&&(Bm(f,n,p),Am(f));U.D(nz);return q}
function xz(a,b){if(oz){if(b){b=a.F().Kb().xe;a=pz.X();const d=a.H,c=a.sb;if(a.ab)Wu(a,Yu),b&&(U.D(c),Xu(a,pz.na()));else if(b)if(qz){b=Yu;for(const e of b)a.H.push(e);Su.Vg(a.sb,b)}else Xu(a,d),Wu(a,Yu);else Wu(a,Yu);Mw(pz)}Yu.clear();pz=null;oz=!1}}
function yz(a){if(this.g.we)return zz.call(this,a);if(!a)return!1;var b=this.g;const d=b.wl;var c=b.ja();const e=c.Qc();var f=c.Rf();c=f.G();var g=f.Yk(),h=f.su();f=In(e);const k=b.Ch,l=k-1,m=f.Kb(),n=e.Pa(m);let p=g.get("collmemory");p||(p=U.j(U.Du),g.set("collmemory",p));h.get("collisionCreatedDestroyCallback")||(h.set("collisionCreatedDestroyCallback",!0),b.lb().addEventListener("instancedestroy",u=>{Vd(p,u.instance)}));b=a.X();g=c.X().na();h=null;for(let u=0;u<g.length;++u){const v=g[u];b.ab?
(vz(v.C().Z(),a,Cm(v.C()),mz),h=mz,Az(d,v,a,h)):h=b.na();for(let w=0;w<h.length;++w){const y=h[w];if(wz(v,y)||Bz(d,v,y)){var q=tz(p,v,y),t=!1,r=-2;"number"===typeof q&&(t=!0,r=q);q=!t||r<l;rz(p,v,y,k);q&&(q=m.$c(),Av(q),r=c.X(),t=a.X(),r.ab=!1,t.ab=!1,c===a?(t=r.H,U.D(t),t.push(v),t.push(y),Mw(c)):(r=r.H,t=t.H,U.D(r),U.D(t),r.push(v),t.push(y),Mw(c),Mw(a)),Ew(m,f,n),Bv(q))}else sz(p,v,y)}U.D(mz)}e.Ma();return!1}
function*zz(a){if(!a)return!1;var b=this.g;const d=b.wl;var c=b.ja();const e=c.Qc();var f=c.Rf();c=f.G();var g=f.Yk(),h=f.su();f=In(e);const k=b.Ch,l=k-1,m=f.Kb(),n=e.Pa(m);let p=g.get("collmemory");p||(p=U.j(U.Du),g.set("collmemory",p));h.get("collisionCreatedDestroyCallback")||(h.set("collisionCreatedDestroyCallback",!0),b.lb().addEventListener("instancedestroy",u=>{Vd(p,u.instance)}));b=a.X();g=c.X().na();h=null;for(let u=0;u<g.length;++u){const v=g[u];b.ab?(vz(v.C().Z(),a,Cm(v.C()),mz),h=mz,Az(d,
v,a,h)):h=b.na();for(let w=0;w<h.length;++w){const y=h[w];if(wz(v,y)||Bz(d,v,y)){var q=tz(p,v,y),t=!1,r=-2;"number"===typeof q&&(t=!0,r=q);q=!t||r<l;rz(p,v,y,k);q&&(q=m.$c(),Av(q),r=c.X(),t=a.X(),r.ab=!1,t.ab=!1,c===a?(t=r.H,U.D(t),t.push(v),t.push(y),Mw(c)):(r=r.H,t=t.H,U.D(r),U.D(t),r.push(v),t.push(y),Mw(c),Mw(a)),yield*Fw(m,f,n),Bv(q))}else sz(p,v,y)}U.D(mz)}e.Ma();return!1}function Cz(a){return uz(V(this),a,0,0)}function Dz(a,b,d){return uz(V(this),a,b,d)}function Ez(){return W(this).Ud()}
function Fz(){return W(this).oe()}function Gz(a,b){const d=this.X().na();if(0===d.length)return!1;const c=a.X();var e=c.na();if(c.ab){var f=[...Hz(this.g,a)];0<f.length&&(e=e.concat(f))}if(0===e.length)return!1;e=new Set(e);f=new Set;for(let h=0,k=d.length;h<k;++h){var g=d[h];if(1===b)for(const l of g.Qt())Iz(l,a)&&e.has(l)&&f.add(l);else{if(0===b){if(g=g.qa(),null===g)continue}else g=g.Em();Iz(g,a)&&e.has(g)&&f.add(g)}}if(0===f.size)return!1;Wu(c,f);Mw(a);return!0}
function Jz(a,b){const d=this.X().na();if(0===d.length)return!1;const c=a.X();var e=c.na();if(c.ab){var f=[...Hz(this.g,a)];0<f.length&&(e=e.concat(f))}if(0===e.length)return!1;e=new Set(e);f=new Set;for(let g=0,h=d.length;g<h;++g){const k=d[g];2===b&&!k.oe()&&Iz(k,a)&&e.has(k)&&f.add(k);for(const l of 0===b?k.children():k.Ai())2===b&&l.oe()||Iz(l,a)&&e.has(l)&&f.add(l)}if(0===f.size)return!1;Wu(c,f);Mw(a);return!0}
function Kz(a,b,d){const c=this.X().na();if(0===c.length)return!1;const e=a.X();var f=e.na();if(e.ab){var g=[...Hz(this.g,a)];0<g.length&&(f=f.concat(g))}if(0===f.length)return!1;f=new Set(f);g=[];for(let k=0,l=c.length;k<l;++k){var h=c[k];if(0===b)h=h.$t(d),null!==h&&Iz(h,a)&&f.has(h)&&g.push(h);else if(1===b)for(const m of h.children())if(Iz(m,a))if(0===d){f.has(m)&&g.push(m);break}else--d}if(0===g.length)return!1;Vu(e,g);Mw(a);return!0}
function Lz(a,b,d){const c=V(this);switch(a){default:return U.compare(c.Jy(),b,d);case 1:return U.compare(c.Hy(),b,d)}}function Mz(a,b,d,c,e,f,g,h,k,l){const m=V(this),n=m.F().Ky().G();for(const p of Nz(a,m,n)){if(!p.Ka().NP)break;m.Gi(p,{Pq:b,Qq:d,uo:c,to:e,Mq:f,Nq:g,Rq:h,Oq:k,It:l})}}function Oz(a){const b=V(this),d=b.F().Ky().G();for(const c of Nz(a,b,d))b.ek(c)}function Pz(){const a=V(this);a.Ud()&&a.qa().ek(a)}function Qz(){return V(this).Jy()}function Rz(){return V(this).Hy()}
function Sz(a,b){a=Math.floor(a);b=Math.floor(b);const d=W(this);2>a||2>b||!isFinite(a)||!isFinite(b)?(Tz(d),Am(d)):Uz(d,a,b)}function Vz(a,b,d,c,e,f,g,h){const k=W(this);k.yM(a,b,{mode:0===d?"absolute":"relative",x:c,y:e,Tj:f,xR:g,CR:h})&&Am(k)}function Wz(){const a=W(this);return null!==a.Ye?Xz(a).qn:0}function Yz(){const a=W(this);return null!==a.Ye?Xz(a).no:0}function Zz(a){const b=W(this);a=2===a?!b.mc():0!==a;b.mc()!==a&&b.eh(a)}
function $z(a,b){this instanceof self.vf?this.bR("set-css-style",{prop:un.PK(a),val:b}):aA(this,"set-css-style",{prop:bA.PK(a),val:b})}function cA(a,b){this instanceof self.vf?this.bR("set-attribute",{name:a,val:""+b}):aA(this,"set-attribute",{name:a,val:""+b})}function dA(a){this instanceof self.vf?this.bR("remove-attribute",{name:a}):aA(this,"remove-attribute",{name:a})}function eA(){this instanceof self.vf?zn(this,{focus:!0}):Gm(this,{focus:!0})}
function fA(){this instanceof self.vf?zn(this,{focus:!1}):Gm(this,{focus:!1})}function gA(){return this instanceof self.vf?this.dI:this.gG}function hA(a){this instanceof self.vf?this.g6(0!==a):this.Zu(0!==a)}function iA(){return this instanceof self.vf?this.Pc():this.Pc}function jA(a,b,d){return U.compare(ht(V(this),a),b,d)}function kA(a){return!!ht(V(this),a)}
function lA(a,b){const d=this.X(),c=d.na();if(!c.length)return!1;const e=this.La;let f=null,g=0;for(let k=0,l=c.length;k<l;++k){const m=c[k];var h=e?m.G().fs[this.ci]:0;h=ht(m,h+b);if(null===f||0===a&&h<g||1===a&&h>g)g=h,f=m}Zu(d,f);return!0}
function mA(a){if(this.g.Rf().rj){{const c=this.X();if(c.ab){c.ab=!1;Tu(c);var b=this.na();for(let e=0,f=b.length;e<f;++e){var d=b[e];d.Rb===a?c.sb.push(d):c.H.push(d)}Mw(this);a=!!c.H.length}else{b=c.H;d=0;for(let e=0,f=b.length;e<f;++e){const g=b[e];b[d]=g;g.Rb===a?c.sb.push(g):++d}U.lf(b,d);Mw(this);a=!!b.length}}}else a=nA(this,a);return a}
function nA(a,b){b=$r(a.F(),b);if(!b)return!1;const d=a.X();if(!d.ab&&!d.H.includes(b))return!1;if(a.La){if(oA(b.G(),a))return Zu(d,b),Mw(a),!0}else if(b.G()===a)return Zu(d,b),Mw(a),!0;return!1}function pA(a){a=new Set(U.CK(a));const b=qA(V(this));return a.YJ(b)}function rA(){return Array.from(qA(V(this))).join(" ")}function sA(){return qA(V(this)).size}function tA(a){a:{var b=V(this);a=Math.floor(a);for(const d of qA(b)){if(0===a){b=d;break a}--a}b=""}return b}
function uA(a,b){b=U.CK(b);if(0!==b.length){var d=V(this),c=new Set(qA(d));if(0===a)for(const e of b)c.add(e);else if(1===a)for(const e of b)c.delete(e);vA(d,c)}}function wA(){const a=V(this);Pp(a.F(),a)}function xA(){return!0}function yA(){return!0}function zA(a,b){V(this).Lm(a,b)}function AA(a,b){const d=V(this),c=ht(d,a);"number"===typeof c&&"number"!==typeof b?b=parseFloat(b):"string"===typeof c&&"string"!==typeof b&&(b=b.toString());d.Lm(a,c+b)}
function BA(a,b){const d=V(this),c=ht(d,a);"number"===typeof c&&("number"!==typeof b&&(b=parseFloat(b)),d.Lm(a,c-b))}function CA(a,b){V(this).Lm(a,b?1:0)}function DA(a){const b=V(this);b.Lm(a,0===ht(b,a)?1:0)}function EA(a){let b;try{b=JSON.parse(a)}catch(d){console.error("Failed to load from JSON string: ",d);return}a=V(this);FA(a.F());a.Er("state");a.Tc(b,"state");GA(a.F(),"state",{xK:!0})}function HA(){return JSON.stringify(V(this).Gd("state"))}function IA(){return V(this).G().ka()}
function JA(){const a=V(this).F(),b=a.Sf().kG;let d=b.H.length;for(const c of Hz(a,b))++d;return d}function KA(){return V(this).F().Sf().kG.X().na().length}function LA(){return Dq(V(this))}function MA(){return V(this).Rb}function NA(a){var b=V(this);a=a.toLowerCase();b=Jv(b.F().ja(),b);if(!b||0===b.jy.length)throw Error("not in a signal");b=b.jy.at(-1);return a===b}function OA(a){const b=V(this);b.F().ja().eE(b,a)}
function PA(a){var b=Ev(this.F().ja()),d=this.X().na();b.ea="instance-signals";b.Br();b.qq=a.toLowerCase();b.Wl=new Set(d);return!0}function QA(){return V(this).ir()}
U.KR=function(a,b){const d=a[1],c=a[4],e=a[5],f=a[6],g=a[7],h=a[8],k=a[10],l=a[11],m=a[12],n=a[13],p=a[14],q=a[15],t=a[16],r=b.P,u=b.Fi,v=b.$g;a[3]&&(r.p_=by,r.q_=cy,r.I0=dy,r.J0=ey,r.h2=fy,u.Wi=gy,u.Xi=hy,u.X4=iy,u.Y4=jy,u.m1=ky,u.l1=ny,v.Z5=oy,v.a6=py,v.HJ=qy);c&&(r.o_=ry,r.i_=sy,u.fh=ty,u.Sh=uy,u.Vd=vy,v.Y5=wy,v.e0=xy,v.MZ=yy,v.QZ=zy,v.PZ=Ay,v.LZ=By,v.NZ=Cy,v.OZ=Dy);e&&(r.PR=Ey,r.DT=Fy,r.BT=Gy,u.qe=Hy,u.M3=Iy,u.N3=Jy,u.O3=Ky,u.P3=Ly,u.d5=My,v.GZ=Ny);f&&(r.mc=Py,r.k_=Oy,u.eh=Qy,u.yg=Ry,u.f4=Sy,
v.Opacity=Uy,v.d_=Ty);g&&(r.G0=Vy,r.s2=Wy,r.r_=Xy,u.q1=Yy,u.n1=Zy,u.o1=$y,u.d6=az,u.Xf=cz,v.X0=dz,v.V0=ez,v.c6=fz,v.b6=gz,v.G5=hz);h&&(r.A0=iz,u.h4=jz,u.i4=kz);n&&(r.Ud=Ez,r.oe=Fz,r.o2=Gz,r.g2=Jz,r.m2=Kz,r.h_=Lz,u.Gi=Mz,u.ek=Oz,u.O2=Pz,v.a_=Qz,v.FZ=Rz);p&&(u.T4=Sz,u.yM=Vz,v.i1=Wz,v.j1=Yz);k&&(r.mc=Py,u.eh=Zz,u.c4=$z,u.j4=cA,u.N2=dA);l&&(r.C0=gA,u.o4=eA,u.Z3=fA);m&&(r.al=iA,u.m4=hA);q&&(r.J1=yz,r.K0=Cz,r.L0=Dz,b.N_=xz);d||(r.j_=jA,r.v0=kA,r.i2=lA,r.f2=mA,r.hT=pA,u.v4=zA,u.BZ=AA,u.u5=BA,u.a4=CA,u.D5=
DA,u.$Z=uA,r.eU=xA,r.fU=yA,u.z_=wA,u.mE||(u.mE=EA),v.TR||(v.TR=HA),v.t_=JA,v.t2=KA,v.f0=LA,v.J5=MA,v.w1=IA,v.x5=rA,v.y5=sA,v.w5=tA,r.iU=NA,u.eE=OA,u.s0=PA);t&&(v.A5=QA)};"use strict";const Qv=self.A;function Hv(a){return"timer"===a.ea?a.fd<=Jp(a.Fa.F()):a.xn}async function Iv(a,b){RA(a,b);for(const d of Dw(a.jj,b))await sv(a.Fa.F(),d);a.vl&&a.vl.dh()&&Ow(a.vl,a.jv);yv(a.fe);a.gx=!0}
function SA(a,b){a.ea="promise";a.Br();b.then(()=>{a.xn=!0}).catch(d=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",d);a.xn=!0})}function RA(a,b){b.eF(a.jj,a.ue);for(const [d,c]of a.rq.entries())c.eF(d.X());a.Re&&cv(b,[...a.Re]);if(b=a.vl)Jw(b,a.eg),b.TG.map((d,c)=>d.Ne(a.yG[c])),b.dh()&&Xw(b,a.jv)}
Qv.tM=class extends Qv.pa{constructor(a){super();this.Fa=a;this.ea="";this.fd=-1;this.qq="";this.xn=!1;this.jj=null;this.ue=0;this.fe=[];this.Re=null;this.rq=new Map;this.vl=this.Wl=null;this.jv=-1;this.yG=this.eg=null;this.gx=!1}m(){this.ea="";this.fd=-1;this.qq="";this.yG=this.eg=this.vl=this.jj=null;this.jv=-1;Qv.D(this.fe);this.Re&&(this.Re.clear(),this.Re=null);for(const a of this.rq.values())a.m();this.rq.clear();this.Wl=null}Br(){var a=this.Fa,b=a.F().Mc,d=a.Sf();this.jj=d.Kb();this.ue=d.ue+
1;if(d=Lv(this.jj))this.vl=d,this.eg=Ww(d),this.yG=d.TG.map(c=>c.Sc()),d.dh()&&(d.kv.get(d.Bv).mK++,this.jv=d.Bv);for(const c of b)if(b=c.X(),!b.ab||this.jj.fe.includes(c))this.fe.push(c),this.rq.set(c,Qv.j(Qv.EM,b));a=Cv(a);this.Re=0<a.size?a:null}Wo(a){for(const b of this.rq.values())b.Wo(a);if("instance-signals"===this.ea){for(const b of a)this.Wl.delete(b);0===this.Wl.size&&(this.xn=!0)}}la(){const a={},b={wt:this.ea,t:this.fd,st:this.qq,s:this.xn,ev:this.jj.fb,sm:this.fe.map(d=>d.fb),dsm:this.Re?
[...this.Re].map(d=>d.fb):null,sols:a};ww(this.jj,this.ue)&&(b.act=Ov(this.jj,this.ue).fb);for(const [d,c]of this.rq)a[d.fb.toString()]=c.la();"instance-signals"===this.ea&&(b.pi=[...this.Wl].map(d=>d.Rb));return b}};"use strict";const TA=self.A;
TA.EM=class extends TA.pa{constructor(a){super();this.I=null;this.qB=!0;this.H=[];a&&(this.I=a.G(),this.qB=a.ab,TA.Yc(this.H,a.H))}m(){this.I=null;TA.D(this.H)}eF(a){a.ab=!!this.qB;TA.Yc(a.H,this.H)}Wo(a){TA.Vg(this.H,a)}la(){return{sa:this.qB,insts:this.H.map(a=>a.Rb)}}oa(a,b){a=a.F();this.qB=!!b.sa;TA.D(this.H);for(const d of b.insts)(b=$r(a,d))&&this.H.push(b)}};"use strict";const UA=self.A;function VA(a,b){let d=a.get(b);d||(d=new Map,a.set(b,d));return d}
function Pv(a){return 2<=a.Ff?a.ss.constructor:a.constructor}function ex(a,b,d){if(!d)throw Error("missing 'this' binding");let c=a.qN.get(b);if(c)return c;c=b.bind(d);a.qN.set(b,c);return c}function Nx(a,b,d,c){if(!d)throw Error("missing 'this' binding");a=VA(a.gW,b);let e=a.get(c);if(e)return e;e=b.bind(d,c);a.set(c,e);return e}function Ox(a,b,d,c,e){if(!d)throw Error("missing 'this' binding");a=VA(a.hW,b);a=VA(a,c);let f=a.get(e);if(f)return f;f=b.bind(d,c,e);a.set(e,f);return f}
function Px(a,b,d,c,e,f){if(!d)throw Error("missing 'this' binding");a=VA(a.iW,b);a=VA(a,c);a=VA(a,e);let g=a.get(f);if(g)return g;g=b.bind(d,c,e,f);a.set(f,g);return g}function WA(a,b){if(!a.ei)throw Error("must be single-global plugin");a.DI=b}
UA.nz=class extends UA.pa{constructor(a){super();this.g=a.jd;this.ei=!!a.WJ;this.Md=!!a.HY;this.fX=!!a.SQ;this.mX=!!a.QY;this.MW=!!a.IQ;this.NP=!!a.jZ;this.MP=!!a.qR;this.gH=!!a.RQ;this.pO=!!a.OQ;this.Ff=a.wK;this.DI=null;this.qN=new Map;this.gW=new Map;this.hW=new Map;this.iW=new Map;this.zI=a.vK;this.ss=null}m(){this.g=null}F(){return this.g}bh(a=!1){let b=this.zI;a&&"function"!==typeof b&&2<=this.Ff&&(b=globalThis.xL);return b}Im(){return this.fX}Qo(){return this.mX}Vy(){return this.MW}bk(){if(!this.ei)throw Error("must be single-global plugin");
return this.DI.bk()}Cr(){const a=this.Ff;UA.nb.Rm(this,a);const b=this.bh(!0);if(b){if(this.ss=new b,!(this.ss instanceof self.aE))throw new TypeError("plugin class must derive from IPlugin");}else this.ss=new self.aE;UA.nb.Qm(a)}};"use strict";const XA=self.A;function YA(a,b,d){mn(a.g,a.$r,b,c=>{const e=a.UG.get(c.elementId);d(e,c)})}XA.rM=class extends XA.nz{constructor(a,b){super(a);this.$r=b;this.qX=0;this.UG=new Map;YA(this,"elem-focused",d=>{d.gG=!0});YA(this,"elem-blurred",d=>{d&&(d.gG=!1)})}m(){super.m()}};
"use strict";const ZA=self.A;ZA.oz=class extends ZA.pa{constructor(a){super();this.I=a;this.g=a.F();this.yh=a.Ka()}m(){this.yh=this.g=this.I=null}G(){return this.I}F(){return this.g}Ka(){return this.yh}Dm(){return this.I.Dm()}az(){}Hu(){}rE(){}tE(){}bh(){return null}Yq(a,b){a=ZA.j(ZA.Event,a,b);a.z8=this;this.G().Pf(a)}};"use strict";const $A=self.A;
function aB(a,b,d){a.g.wf()?le(a.g,a.$r,b,d):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.$r,handler:b,data:d,responseId:null})}
$A.FE=class extends $A.pa{constructor(a,b){super();this.Ja=a;this.$r=b;this.g=a.F();this.I=this.Ja.G();this.vc=this.I.vc;this.ut=this.gm=null;this.Wp=this.tj=!1;this.kh=null;this.Et=!1}m(){this.Et=!0;this.kF();this.lF();this.ut=this.gm=null;this.kh&&(this.kh.m(),this.kh=null);this.vc=this.I=this.g=this.Ja=null}Ar(){return this.Et}Y(){return this.Ja}F(){return this.g}G(){return this.I}Ka(){return this.vc.Ka()}hr(){return Kl(this.Ja)}$a(a){return this.g.$a(a,this.Ja,null)}qd(a){return this.g.qd(a,this.Ja,
null)}hh(){}bN(){this.tj||(this.gm||(this.gm=()=>this.hh()),this.g.lb().addEventListener("tick",this.gm),this.tj=!0)}kF(){this.tj&&(this.g.lb().removeEventListener("tick",this.gm),this.tj=!1)}lF(){this.Wp&&(this.g.lb().removeEventListener("tick2",this.ut),this.Wp=!1)}Gd(){return null}Tc(){}Zc(){}Si(){}qE(a,b){if(0!==b){var d=this.Zc(a);if("number"!==typeof d)throw Error("expected number");this.Si(a,d+b)}}bh(){return null}Yq(a,b){if(this.Ja.dd){var d=this.hr();a=$A.j($A.Event,a,b);a.instance=d;d.dispatchEvent(a)}}Qo(){return!1}};
"use strict";const bB=self.A;
bB.NU=class extends bB.FE{constructor(a,b){super(a,b);this.Na=a.C();this.wP=this.tI=null}m(){if(this.tI){const a=this.g.lb();a.removeEventListener("renderercontextlost",this.tI);a.removeEventListener("renderercontextrestored",this.wP);this.wP=this.tI=null}this.Na=null;super.m()}ez(){}C(){return this.Na}ak(){throw Error("original size not known");}$j(){throw Error("original size not known");}au(){return null}KD(){var a=this.au();return a&&(a=a.Rc())?[a.S(),a.R()]:[100,100]}LD(){const a=this.au();return a?
a.Aj:null}fE(){const a=this.au();return a?a.As:!1}RD(){const a=this.Ja.C();return[a.Da(),a.Ea(),Kp(a)]}pr(){return!0}};"use strict";const bA=self.A,cB=bA.j(bA.Rect);function aA(a,b,d){d||(d={});d.elementId=a.Mv;le(a.g,a.$r,b,d)}function Gm(a,b){b||(b={});b.elementId=a.Mv;aB(a,"focus",b)}
function dB(a,b){if(!Bn(a.Y())){var d=a.C(),c=d.Z(),e=Cm(d),[f,g]=Cn(c,e.V,e.T),[h,k]=Cn(c,e.da,e.aa);e=a.g.$;var l=e.Nc,m=e.Cc;if(d.mc()&&c.mc()){const n=a.g.$.fu();("Android"!==bA.U.od||"scale-inner"!==n&&"scale-outer"!==n&&"crop"!==n)&&(0>=h||0>=k||f>=l||g>=m)?eB(a,!1):(cB.set(f,g,h,k),l=e.Kk,m=e.Jk,e=c.Mp,d=Dn(d),!b&&cB.Xc(a.Es)&&a.HO===l&&a.GO===m&&a.CO===e&&a.DO===d?eB(a,!0):(a.Es.ua(cB),a.HO=l,a.GO=m,a.CO=e,a.DO=d,eB(a,!0),b=null,a.rl&&(b=c.Lh()+a.bW),aA(a,"update-position",{left:Math.round(a.Es.V),
top:Math.round(a.Es.T),width:Math.round(a.Es.width()),height:Math.round(a.Es.height()),htmlIndex:e,htmlZIndex:d,fontSize:b})))}else eB(a,!1)}}function fB(a,b){b||(b={});const d=a.C();b.elementId=a.Mv;b.isVisible=d.mc();b.htmlIndex=d.Z().Mp;b.htmlZIndex=Dn(d);Object.assign(b,a.Ly());a.eH=!!b.isVisible;aB(a,"create",b);dB(a,!0)}function eB(a,b){b=!!b;a.eH!==b&&(a.eH=b,aA(a,"set-visible",{isVisible:b}))}
function gB(a){a.oH||(a.oH=!0,Promise.resolve().then(()=>{a.oH=!1;aA(a,"update-state",a.Ly())}))}bA.qM=class extends bA.NU{constructor(a,b){super(a,b);a=this.Ka();b=a.qX++;a.UG.set(b,this);this.Mv=b;this.eH=!0;this.rl=this.gG=!1;this.bW=-.2;this.Es=bA.j(bA.Rect,0,0,-1,-1);a=this.g.$;this.HO=a.Kk;this.GO=a.Jk;this.DO=this.CO=-1;this.oH=!1;this.bN()}m(){this.Ka().UG.delete(this.Mv);aA(this,"destroy");this.Mv=-1;super.m()}hh(){dB(this,!1)}Ly(){}};"use strict";const hB=self.A,iB=self.nL;
hB.KU=class extends hB.pa{constructor(a){super();this.g=a.jd;this.VH=hB.j(hB.wD);this.KB=hB.j(hB.wD);this.Ff=a.wK;this.zI=a.vK;this.Zv=null}m(){this.KB.m();this.VH.m();this.g=null}F(){return this.g}bh(a=!1){let b=this.zI;a&&"function"!==typeof b&&2<=this.Ff&&(b=globalThis.qT);return b}kL(){return Xd(this.VH)}ih(a){this.KB.Fb(a)}ip(a){this.KB.Bo(a)}na(){return Xd(this.KB)}Cr(){const a=this.Ff;hB.nb.Rm(this,a);const b=this.bh(!0);if(b){if(this.Zv=new b,!(this.Zv instanceof iB))throw new TypeError("behavior class must derive from IBehavior");
}else this.Zv=new iB;hB.nb.Qm(a)}};"use strict";const jB=self.A;jB.MU=class extends jB.pa{constructor(a){super();this.g=a.F();this.Pb=a;this.I=a.G();this.$h=a.rf();this.$h.VH.Fb(this.I)}m(){this.$h=this.I=this.Pb=this.g=null}Qf(){return this.Pb}G(){return this.I}F(){return this.g}rf(){return this.$h}};"use strict";const kB=self.A;
kB.LU=class extends kB.pa{constructor(a,b){super();this.pv=a;this.$r=b;this.Ja=a.Ja;this.g=a.F();this.Pb=a.Qf();this.vc=this.Pb.vc;this.pH=this.Wp=this.tj=!1;this.kh=null}m(){this.kF();this.lF();this.pH&&(this.g.tl.Ke(this),this.pH=!1);this.kh&&(this.kh.m(),this.kh=null);this.vc=this.Pb=this.g=this.Ja=this.pv=null}rf(){return this.Pb.rf()}G(){return this.Ja.G()}C(){return this.Ja.C()}F(){return this.g}Qf(){return this.Pb}hr(){return this.pv.hr()}$a(a){return this.g.$a(a,this.Ja,this.Pb)}qd(a){return this.g.qd(a,
this.Ja,this.Pb)}hh(){}bN(){this.tj||(this.g.mk.Fb(this),this.tj=!0)}kF(){this.tj&&(this.g.mk.Ke(this),this.tj=!1)}lF(){this.Wp&&(this.g.ul.Ke(this),this.Wp=!1)}Gd(){return null}Tc(){}Zc(){}Si(){}qE(a,b){if(0!==b){var d=this.Zc(a);if("number"!==typeof d)throw Error("expected number");this.Si(a,d+b)}}bh(){return null}Yq(a,b){if(this.pv.dd){var d=this.hr();a=kB.j(kB.Event,a,b);a.n6=d;a.instance=d.instance;d.dispatchEvent(a)}}};"use strict";const lB=self.A;lB.O={};lB.Qa={};const mB=cc();
let nB=[],oB=[],pB=[],qB=null,rB=null,sB=null,tB=null;const Ns=new Map,uB=new Map;function vB(a,b){const d=b[19],c=Vw(a.g,b[0]);if(!c)throw Error("missing plugin");lB.KR(b,c);b=lB.j(2<=d?lB.nz:c,{jd:a.g,WJ:b[1],HY:b[2],SQ:b[5],IQ:b[8],QY:b[9],jZ:b[13],qR:b[14],RQ:b[17],OQ:b[18],wK:d,vK:2<=d?c:null});a.hN.push(b);Ns.set(c,b)}function wB(a){a.Ad=lB.j(lB.O.Ob,{jd:a.g,WJ:!0})}
function xB(a,b){const d=b[1],c=Vw(a.g,b[0]);if(!c)throw Error("missing behavior");a.$F.set(c,()=>{const e=lB.j(2<=d?lB.KU:c,{jd:a.g,wK:d,vK:2<=d?c:null});a.YV.push(e);uB.set(c,e);!a.FP&&lB.Qa.fZ&&e instanceof lB.Qa.fZ?a.FP=e:!a.zO&&lB.Qa.KY&&e instanceof lB.Qa.KY&&(a.zO=e);e.Cr()})}function yB(a){for(const b of a.hN)b.Cr()}
lB.nb=class extends lB.pa{constructor(a){super();this.g=a;this.hN=[];this.Ad=null;this.YV=[];this.$F=new Map;this.zO=this.FP=null}static Rm(a,b=1){if(lB.nb.Rm!==qB)throw Error("invalid method");1===b&&nB.push(a);oB.push(a)}static Qm(a=1){if(lB.nb.Qm!==rB)throw Error("invalid method");1===a&&nB.pop();oB.pop()}static Fz(){if(lB.nb.Fz!==sB)throw Error("invalid method");if(0===nB.length)throw Error("no init object set");return nB.at(-1)}static Yf(a){if(lB.nb.Yf!==tB)throw Error("invalid method");if(a!==
mB)throw Error("invalid internal API token");if(0===oB.length)throw Error("no init object set");return oB.at(-1)}pu(){return this.Ad}};qB=lB.nb.Rm;rB=lB.nb.Qm;sB=lB.nb.Fz;tB=lB.nb.Yf;"use strict";const zB=self.A,AB=new Set;function BB(a,b){a.Ct=b[0];a.it=b[1];a.Iw=b[2];a.Jw=b[3];a.M=b[4];a.N=b[5];a.As=b[6];a.IG=!0}
async function CB(a,b){b||(b=await lo(a.qh));const d=zB.tg(a.M,a.N),c=d.getContext("2d");a.As?(c.rotate(Math.PI/-2),c.translate(-a.N,0),c.drawImage(b,a.Iw,a.Jw,a.N,a.M,0,0,a.N,a.M)):c.drawImage(b,a.Iw,a.Jw,a.M,a.N,0,0,a.M,a.N);return d}
zB.cE=class extends zB.pa{constructor(){super();this.VN=0;this.Ct="";this.N=this.M=this.Jw=this.Iw=this.it=0;this.IG=this.As=!1;this.qh=null;this.Zn="";this.Aj=zB.j(zB.Rect);this.bC=zB.j(zB.wd);this.DF="";new self.sL(this);AB.add(this)}m(){this.Km();this.qh&&0===this.qh.Mb&&this.qh.m();this.qh=null;AB.delete(this);this.DF&&(URL.revokeObjectURL(this.DF),this.DF="")}static ez(){for(const a of AB)a.Zn="",a.Aj.set(0,0,0,0),a.bC.rg(a.Aj)}Oh(){return this.it}S(){return this.M}R(){return this.N}async oE(a,
b){if(!this.qh)throw Error("no asset");if(this.Zn)throw Error("already loaded texture");var d=this.VN;this.Zn="loading";a=await this.qh.oE(a,b);if(this.VN!==d)return null;if(!a)return this.Zn="",null;this.Zn="loaded";this.IG||(this.M=a.S(),this.N=a.R(),this.IG=!0);this.Aj.set(this.Iw,this.Jw,this.Iw+(this.As?this.N:this.M),this.Jw+(this.As?this.M:this.N));this.Aj.qm(a.S(),a.R());this.bC.rg(this.Aj);if(this.As){d=this.bC;b=d.$b;const c=d.ac;d.$b=d.Jc;d.ac=d.Kc;d.Jc=d.Ac;d.Kc=d.Bc;d.Ac=d.yc;d.Bc=d.zc;
d.yc=b;d.zc=c}return a}Km(){this.Zn&&(this.qh&&this.qh.Km(),this.Zn="",this.Aj.set(0,0,0,0),this.bC.rg(this.Aj))}Rc(){return this.qh&&"loaded"===this.Zn?this.qh.Rc():null}};"use strict";const DB=self.A;DB.RR=class extends DB.pa{constructor(a){super();this.Ca=a[0];this.DX=a[1];this.lH=!!a[2];this.ht=a[3];this.fb=a[6];this.El=a[7].map(b=>DB.j(DB.QR,b));new self.iT(this)}m(){for(const a of this.El)a.m();DB.D(this.El)}ka(){return this.Ca}Nh(){return this.ht}};"use strict";
const EB=self.A,GB=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),HB=new Uint8Array(GB.length);for(let a=0,b=GB.length;a<b;++a)HB[a]=GB.charCodeAt(a);
EB.QR=class extends EB.pa{constructor(a){super();this.Jg=EB.j(EB.cE);BB(this.Jg,a);this.fG=a[7];this.eP=EB.j(EB.Pu,a[8],a[9]);this.QW=a[10].map(d=>EB.j(EB.wT,this,d));this.RW=new Map;for(var b of this.QW)this.RW.set(b.ka().toLowerCase(),b);this.eA=null;b=a[11];6<=b.length&&(this.eA=EB.j(EB.Ao,b));this.Rg=a[12]?a[12]:"";this.NW=new self.jT(this)}m(){this.eA&&(this.eA.m(),this.eA=null);this.Jg.m();this.Jg=null}Dm(){return this.Jg}iu(){return this.eP.ma}ju(){return this.eP.fa}};"use strict";
const IB=self.A;IB.wT=class extends IB.pa{constructor(a,b){super();this.Ca=b[0];this.nP=IB.j(IB.Pu,b[1],b[2])}m(){}ka(){return this.Ca}Da(){return this.nP.ma}Ea(){return this.nP.fa}};"use strict";const Rx=self.A,JB=self.Jh,KB=self.tL;function*Jl(a){yield*a.H;yield*Hz(a.g,a)}function yq(a){return LB(a,Rx.Qa.Z1)}function Eq(a){if(a.Np&&!a.La){var b=a.H,d=0;for(var c=b.length;d<c;++d)b[d].PG=d;b=a.g.tn;for(const e of b)e.G()===a&&(b=e,c=d++,b.PG=c);a.Np=!1}}
function Wr(a,b){return a.nj.findIndex(d=>d.name===b)}function Xr(a,b){b=Math.floor(b);if(0>b||b>=a.nj.length)throw new RangeError("invalid instance variable index");return a.nj[b].name}function Yr(a,b){b=Math.floor(b);if(0>b||b>=a.nj.length)throw new RangeError("invalid instance variable index");return a.nj[b].type}function Zr(a,b){a=a.CF.get(b.toLowerCase());return"undefined"===typeof a?-1:a}
function Mw(a){if(a.hH&&!a.La){Eq(a);var b=a.X(),d=b.H,c=b.ab,e=a.g.Sf();e=e&&e.Kb()&&e.Kb().xe;for(const h of a.Hg.zk)if(h!==a){Eq(h);var f=h.X();f.ab=!!c;if(!c){var g=f.H;Rx.D(g);for(const k of d)g.push(MB(h,Dq(k)));if(e){g=b.sb;f=f.sb;Rx.D(f);for(const k of g)f.push(MB(h,Dq(k)))}}}}}function Mv(a,b){return(a=a.AN.get(b.toLowerCase()))&&a.al()?a:null}function Qx(a,b){return a.zA[b]}
function bz(a,b){if(b&&b.cc()&&b.G()!==a)for(const d of b.Ic)if(d.G()===a)return d;a=a.X().na();return a.length?a[0]:null}function*Nz(a,b,d){a=a.X().na();const c=a.length,e=d.X(),f=d.X().na(),g=f.length;var h=Dq(b);if(d.La||!e.ab)h=f.indexOf(b);b=Math.ceil(c/g);d=c%g;0===d||h<d?h*=b:(h=d*b+(h-d)*(b-1),--b);for(let k=h,l=h+b;k<l;++k)yield a[k]}function oA(a,b){return a.mG.has(b)}function NB(a,b){const d=a.g.Gw++,c=Rx.j(Rx.Instance,{jd:a.g,fK:a,uid:d});c.Az(b[16],[]);a.g.Sp.set(d,c);a.H.push(c)}
function OB(a,b){for(let d=1,c=b.length;d<c;++d){const e=Uo(a.g,b[d]);a.tk.push(e);a.AA.add(e);e.nh.push(a);e.mG.add(a)}}
function PB(a){var b=0;if(!a.La)for(var d of a.nh)for(var c of d.oN){var e=c.ka().toLowerCase();a.Lr.set(e,c);a.CF.set(e,b);a.Tz.push(c);++b}for(var f of a.oN)d=f.ka().toLowerCase(),a.Lr.set(d,f),a.CF.set(d,b),a.Tz.push(f),++b;for(var g of a.Tz)a.WP.add(g.rf().constructor);if(!a.La&&a.nh.length){b=a.g.IN;Rx.$C(a.fs,b,0);Rx.$C(a.zA,b,0);Rx.$C(a.nG,b,0);b=[];d=g=f=0;for(const h of a.nh)if(c=h.ci,a.fs[c]=f,f+=h.nj.length,a.zA[c]=g,g+=h.eW,a.nG[c]=d,d+=h.EW,(c=h.Ga)&&a.Ga)for(const k of c.ah()){c=b;e=
c.push;const l=QB.j(QB.YK,a.Ga,[k.Yb,k.Ca],-1);l.ic=k.ic;l.ub=k.ub;e.call(c,l)}if(a.Ga&&(a=a.Ga,b.length)){a.Dg=b.concat(a.Dg);for(const h of b)a.vA.set(h.ka().toLowerCase(),h);for(let h=0,k=a.Dg.length;h<k;++h)a.Dg[h].iF(h)}}}function LB(a,b){return b&&a.WP.has(b)}function RB(a){return a.nj.map(b=>b.Lq)}function SB(a,b){return a.nj.findIndex(d=>d.Lq===b)}function mm(a){return a.nj.map(b=>b.JY)}function TB(a){return a.Ga&&0<a.Ga.Dg.length}
function UB(a){if(a.cj){if(!a.cj)throw Error("no animations");a=a.cj[0];var b=Math.floor(0);if(0>b||b>=a.El.length)throw new RangeError("invalid frame");a=a.El[b].Dm();return[a.S(),a.R()]}return a.Jg?[a.Jg.S(),a.Jg.R()]:[100,100]}function MB(a,b){var d=a.H;if(b<d.length)return d[b];b-=d.length;d=a.g.tn;for(const c of d)if(c.G()===a){if(0===b)return c;--b}return null}function VB(a){if(a.dv&&a.Md){for(const b of a.H)WB(b.C());for(const b of a.g.tn)b.G()===a&&WB(b.C());a.dv=!1}}
function XB(a,b,d,c){if(d){const e=a.Nx.get(d);e&&(e.delete(b),0===e.size&&a.Nx.delete(d))}c&&(d=a.Nx.get(c),d||(d=new Set,a.Nx.set(c,d)),d.add(b))}function YB(a){if(a.La){const b=new Set;for(const d of a.tk)for(const c of YB(d))b.add(c);return b.values()}return a.Nx.keys()}
Rx.Cu=class extends Rx.pa{constructor(a,b,d){super();var c=Vw(a,d[1]);this.g=a;this.yh=Ns.get(c)||null;this.vc=null;this.YA=c.Instance;this.ga=b;this.fb=d[11];this.Ca=d[0];this.tw=this.g.Ki(d[14]);this.aX=!!d[9];this.La=!!d[2];this.eX=!!d[10];this.nj=d[3].map(g=>({Lq:g[0],type:g[1],name:g[2],JY:a.Ki(g[3])}));this.eW=d[4];this.EW=d[5];this.Md=this.yh.Md;this.yb=Rx.j(Rx.Event.lb);this.Ga=null;const [e,f]=ZB(a.wl);this.wv=Rx.j(Rx.WU,e,f);this.dv=!0;this.AA=this.tk=null;this.ci=-1;this.nG=this.zA=this.fs=
this.mG=this.nh=null;this.hH=!1;this.Hg=null;this.oN=d[8].map(g=>Rx.KK.va(this,g));this.Tz=[];this.Lr=new Map;this.CF=new Map;this.WP=new Set;this.AN=new Map;this.Fj=Rx.j(Rx.UU,this);this.zF=this.yF=this.cj=this.Jg=this.Hg=this.Ap=null;this.tt=0;this.Ib=new Map;this.wi=new Map;this.H=[];this.Nx=new Map;this.Np=!0;this.yh.Vy()&&(this.Ga=Rx.j(Rx.Do,this,d[12]));d[6]&&(this.Jg=Rx.j(Rx.cE),BB(this.Jg,d[6]));if(d[7]){this.cj=d[7].map(g=>Rx.j(Rx.RR,g));this.yF=new Map;this.zF=new Map;for(const g of this.cj)this.yF.set(g.ka().toLowerCase(),
g),this.zF.set(g.fb,g)}this.La?(this.tk=[],this.AA=new Set,this.ci=this.g.IN++):(this.nh=[],this.mG=new Set,this.fs=[],this.zA=[],this.nG=[]);b=this.yh.Ff;if(2>b&&(this.vc=Rx.j(c.bp,this,d[15]),!(this.vc instanceof Rx.oz)))throw Error("v1 sdk type must derive from SDKTypeBase");this.VG=this.$v=null;this.Ee=Rx.j(Rx.Event.lb);Rx.nb.Rm(this,b);2<=b?(c=c.bp,c||(c=globalThis.wL)):c=this.vc.bh();if(c){this.$v=new c(2>b?this:null);if(2>b&&!(this.$v instanceof KB))throw new TypeError("script interface class must derive from IObjectClass");
if(2<=b&&!(this.$v instanceof globalThis.wL))throw new TypeError("script interface class must derive from ISDKObjectTypeBase");}else this.$v=new KB;Rx.nb.Qm(b);this.yh.ei&&(WA(this.yh,this),NB(this,d));this.DB=null}static va(a,b,d){return Rx.j(Rx.Cu,a,b,d)}m(){this.yb.m();this.yb=null;this.Jg&&(this.Jg.m(),this.Jg=null);if(this.cj){for(const a of this.cj)a.m();Rx.D(this.cj);this.yF.clear();this.zF.clear()}this.DB=null;this.Fj.m();this.Fj=null;this.Ib.clear();this.wi.clear();this.g=this.Hg=null}cc(){return this.hH}lb(){return this.yb}async az(a){this.La||
(this.tt++,1===this.tt&&(this.vc?await this.vc.az(a):await void 0))}Hu(){if(!this.La){this.tt--;if(0>this.tt)throw Error("released textures too many times");0===this.tt&&this.vc&&this.vc.Hu()}}rE(){if(this.La)throw Error("not applicable to family");this.vc&&this.vc.rE()}async tE(a){this.La||(this.vc?await this.vc.tE(a):await void 0)}F(){return this.g}Ka(){return this.yh}ka(){return this.Ca}Ki(){return this.tw}Aa(){return this.ga}Ie(){return this.aX}Vy(){return this.yh.Vy()}X(){return this.Fj.X()}Dm(){return this.Jg}bk(){if(!this.yh.ei)throw Error("not a single-global plugin");
return this.H[0]}na(){return this.H}*MQ(){yield*this.H}ih(a){this.H.push(a)}Yk(){this.Ib||(this.Ib=new Map);return this.Ib}su(){this.wi||(this.wi=new Map);return this.wi}la(){const a={instances:this.H.map(b=>b.Gd())};this.Ib&&this.Ib.size&&(a.ex=Rx.OE(this.Ib));return a}oa(a,b){this.Ib&&(this.Ib.clear(),this.Ib=null);var d=a.ex;d&&(this.Ib=Rx.ID(d));d=this.H;a=a.instances;for(let e=0,f=Math.min(d.length,a.length);e<f;++e)d[e].Tc(a[e]);for(let e=a.length,f=d.length;e<f;++e)Pp(this.g,d[e]);for(let e=
d.length,f=a.length;e<f;++e){d=a[e];var c=null;if(this.Md&&(c=nq(this.g.Cb(),d.w.l),!c))continue;c=Tp(this.g,this.Ap||this,c,!1,0,0,!0);c.Tc(d);b&&b.add(c)}this.DB=a;this.Np=!0}av(){for(let a=0,b=this.H;a<b;++a)this.H[a].av()}er(){return this.$v}Pf(a){var b=this.g;(b=b.zb&&!Ol(b.ja()))&&JB.NE();this.Ee.dispatchEvent(a);b&&JB.vD()}};"use strict";const $B=self.A;function Pq(a){return a.zk.some(b=>b.Md)}
$B.lS=class extends $B.pa{constructor(a,b){super();this.g=a;this.zk=b;for(const d of this.zk)d.hH=!0,d.Hg=this}m(){this.g=null}F(){return this.g}};"use strict";const nm=self.A,aC=self.Jh,bC=nm.nb,cC=[];let dC=0;const eC=new WeakMap,fC=new WeakMap;function Kl(a){return a.dd||gC(a)}function Nl(a){const b=new Set;b.add(a);const d=a.C();if(d&&d.oe())for(const c of a.Ai())if(b.add(c),c.cc())for(const e of c.Ic)b.add(e);if(a.cc())for(const c of a.Ic)b.add(c);for(const c of b.values())Mq(c)}
function L(a){return a.Eb??a.dd}function Bn(a){return 0!==(a.B&1)}function Kq(a){var b=a.C();if(b&&(b=b.VD()))for(const d of b)if(b=$r(a.g,d[2])){const c=d[3];a.Gi(b,{Pq:!!(c>>0&1),Qq:!!(c>>1&1),uo:!!(c>>2&1),to:!!(c>>3&1),Mq:!!(c>>4&1),It:!!(c>>5&1),Rq:!!(c>>6&1),Nq:!!(c>>7&1),Oq:!!(c>>8&1)})}}
function Lq(a,b,d){if(b=b.get(a))for(const c of b.sceneGraphJson.children){b=d.get(c.index);if(!b)continue;const e=c.flags;a.Gi(b,{Pq:!!(e>>0&1),Qq:!!(e>>1&1),uo:!!(e>>2&1),to:!!(e>>3&1),Mq:!!(e>>4&1),It:!!(e>>5&1),Rq:!!(e>>6&1),Nq:!!(e>>7&1),Oq:!!(e>>8&1)})}}function Mq(a){hC(a);if(iC(a,"instancecreate")){const b=a.G(),d=new nm.Event("instancecreate");d.instance=Kl(a);b.Pf(d);for(const c of b.nh)c.Pf(d);a.g.Pf(d)}a.g.$a(Pv(a.Ka()).P.eU,a,null)}function Dq(a){Eq(a.ae);return a.PG}
function Cs(a,b){a=a.sd;for(let d=0,c=a.length;d<c;++d)if(a[d].Qf().fb===b)return d;return-1}function ht(a,b){b|=0;a=a.gg;if(0>b||b>=a.length)throw new RangeError("invalid instance variable");return a[b]}function bw(a){for(const b of a.Ic)Uu(b.G().X(),b)}function Iz(a,b){b.La?(a=a.G(),b=b.AA.has(a)):b=a.G()===b;return b}function qA(a){return a.Jj??new Set}function vA(a,b){if(0===b.size)a.Jj=null;else{a.Jj?a.Jj.clear():a.Jj=new Set;for(const d of b)a.Jj.add(d)}}
function jC(a,b){0<b.length&&(a.gg=[],nm.Yc(a.gg,b))}function kC(a){const b=a.ae.nj.length;if(0!==b){a.gg=[];var d=[0,0,""];for(let c=0;c<b;++c)a.gg.push(d[Yr(a.ae,c)])}}
function gC(a,b,d){const c=a.Na?b?self.yL:self.AL:b?self.vL:self.vf;b=b||a.Eb.bh();const e=a.ae.VG,f=e||b||c,g=a.Ka().Ff;nm.nb.Rm(a,g);pB.push(d);a.dd=new f;pB.pop();nm.nb.Qm(g);if(b&&!(a.dd instanceof c))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${c.name}'`);if(e&&!(a.dd instanceof(b||c)))throw new TypeError(`setInstanceClass(): class '${e.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`);
return a.dd}function lC(a,b,d,c){const e=(f,g)=>{g=g||f.G();const h=b.get(g);h?h.add(f):b.set(g,new Set([f]))};e(a,d);if(a.cc())for(const f of a.Ic)e(f);if(c)for(const f of a.Ai())e(f)}function mC(a){if(!a.Ka().NP)throw Error("object does not support scene graph");}function nC(a,b){a=a.C();if(!a)return[];const d=b.ka();return a.kd().map(c=>c.Y()).filter(c=>c.G().ka()===d)}function oC(a,b){a=a.Ic;if(null===a||0===a.length)return!1;for(const d of a)if(d.G()===b)return d;return null}
function iC(a,b){const d=a.G();if(d.Ee.sk.has(b))return!0;for(const c of d.nh)if(c.Ee.sk.has(b))return!0;return a.g.Ee.sk.has(b)?!0:!1}function hC(a){a.ae.VG&&Kl(a);for(const b of a.sd);}
nm.Instance=class extends nm.pa{constructor(a){if(nm.nb!==bC)throw Error("invalid addon manager");super();this.g=a.jd;this.ae=a.fK;this.dd=this.Eb=this.Na=null;this.PG=0;this.Rb=a.uid;this.pP=dC++;this.B=0;this.Jj=null;var b=nm.CK(a.rR);0<b.length&&(this.Jj=new Set(b));this.sd=this.gg=cC;b=this.ae.Tz;0<b.length&&(this.sd=b.map((d,c)=>nm.j(nm.ZR,{jd:this.g,RC:d,instance:this,index:c})));this.Ic=this.ae.cc()?[]:null;this.hf=-1;this.yb=null;b=this.Ka();b.Qo()&&(this.B|=4);if(b.Md)if(this.Na=nm.j(nm.zV,
this,a.Hq),a.DR)this.Na.Fm(a.DR);else{pC(this.Na);const [d,c]=UB(this.ae);this.Na.Vd(d,c);TB(this.G())&&qC(this.Na.Ve)}a.LQ?jC(this,a.LQ):kC(this)}m(){this.dd&&(this.dd.Dj(),this.dd=null);if(0<this.sd.length){for(var a of this.sd)a.m();nm.D(this.sd)}this.Eb&&(this.Eb.m(),this.Eb=null);if(a=eC.get(this))a.clear(),eC.delete(this);if(a=fC.get(this))a.clear(),fC.delete(this);this.Ic&&nm.D(this.Ic);this.yb&&(this.yb.m(),this.yb=null);this.Jj&&this.Jj.clear();this.ae=this.g=this.Jj=null;0<this.gg.length&&
nm.D(this.gg);this.Na&&(this.Na.m(),this.Na=null)}Az(a,b){if(this.Eb)throw Error("already got sdk instance");for(let d=0,c=this.sd.length;d<c;++d)this.sd[d].Az(b?b[d]:null);if(2>this.Ka().Ff){this.Eb=nm.j(this.ae.YA,this,a);if(!(this.Eb instanceof nm.FE))throw Error("sdk type must derive from SDKInstanceBase");!this.Ka().Md&&this.ae.VG&&Kl(this)}else gC(this,this.Ka().bh().Instance,a)}C(){return this.Na}F(){return this.g}JE(a){a=+a;if(0>a||!isFinite(a))a=0;this.hf=a;TB(this.G())&&rC(this.g,this,!0)}lb(){this.yb||
(this.yb=nm.j(nm.Event.lb));return this.yb}zm(a){this.Eb&&this.Eb.zm(a)}Zk(){return 0!==(this.B&2)}bF(){this.B|=1}Qo(){return 0!==(this.B&4)||this.Eb.Qo()}au(){return this.Eb.au()}KD(){return this.Eb.KD()}LD(){return this.Eb.LD()}fE(){return this.Eb.fE()}RD(a){return this.Eb.RD(a)}G(){return this.ae}pr(){return this.Eb.pr()}Ud(){return null!==this.qa()}qa(){var a=this.C();return a?(a=a.qa())?a.Y():null:null}Em(){var a=this.C();return a?(a=a.Em())?a.Y():null:null}*Qt(){const a=this.C();if(a)for(const b of a.Qt())yield b.Y()}YD(a){if(!a)return!1;
for(const b of this.children())if(b===a)return!0;return!1}oe(){const a=this.C();return a?a.oe():!1}kd(){const a=this.C();return a?a.kd().map(b=>b.Y()):[]}*children(){const a=this.C();if(a)for(const b of a.children())yield b.Y()}*Ai(){const a=this.C();if(a)for(const b of a.Ai())yield b.Y()}Jy(){const a=this.C();return a?a.Jy():0}Hy(){const a=this.C();return a?a.Hy():0}$t(a){const b=this.C();return b?(a=b.$t(a))?a.Y():null:null}Gi(a,b){mC(this);mC(a);this.C().Gi(a.C(),b||{})}ek(a){const b=this.C();
b&&b.ek(a.C())}bu(){const a=this.C();return a?a.bu():!1}ir(){var a=this.g.Ah;a=a?a.Jl?(a=a.Jl.get(this))?a:"":"":"";return a}cc(){return null!==this.Ic}Ka(){return this.ae.Ka()}OV(a){const b=this.gg[a];return 0===Yr(this.ae,a)?!!b:b}Lm(a,b){a|=0;const d=this.gg;if(0>a||a>=d.length)throw new RangeError("invalid instance variable");switch(Yr(this.ae,a)){case 0:d[a]=b?1:0;break;case 1:d[a]="number"===typeof b?b:parseFloat(b);break;case 2:d[a]="string"===typeof b?b:b.toString();break;default:throw Error("unknown instance variable type");
}}Yk(){let a=eC.get(this);if(a)return a;a=new Map;eC.set(this,a);return a}su(){let a=fC.get(this);if(a)return a;a=new Map;fC.set(this,a);return a}Gd(a="full",b=null){const d={};"full"===a?d.uid=this.Rb:d.c3=!0;var c=qA(this);0<c.size&&(d.tags=Array.from(c));if("visual-state"!==a){(c=eC.get(this))&&c.size&&(d.ex=nm.OE(c));-1!==this.hf&&(d.mts=this.hf);if(0<this.ae.nj.length){c={};var e=RB(this.ae);for(let f=0,g=this.gg.length;f<g;++f)c[e[f].toString()]=this.gg[f];d.ivs=c}if(this.sd.length){c={};for(const f of this.sd)(e=
f.Gd(a))&&(c[f.Qf().fb.toString()]=e);d.behs=c}}this.Na&&(d.w=this.Na.la(a,b));(a=this.Eb?this.Eb.Gd():null)&&(d.data=a);return d}Er(a="full"){this.Na&&this.Na.Er(a)}Bg(a,b="full",d=null){this.Na&&this.Na.Bg(a,b,d)}cF(a,b="full",d=null){this.Na&&this.Na.cF(a,b,d)}av(){this.Ka().Md&&this.Na.av()}Tc(a,b="full"){if("full"===b)this.Rb=a.uid;else if(!a.c3)return;var d=a.tags;d?vA(this,new Set(d)):this.Jj=null;if("visual-state"!==b){if(d=eC.get(this))d.clear(),eC.delete(this);if(d=a.ex)d=nm.ID(d),eC.set(this,
d);this.hf=a.hasOwnProperty("mts")?a.mts:-1;if(d=a.ivs)for(const [f,g]of Object.entries(d))if(d=SB(this.ae,parseInt(f,10)),!(0>d||d>=this.gg.length)){var c=g;null===c&&(c=NaN);this.gg[d]=c}}if(this.Ka().Md&&(d=a.w)){var e=d.l;this.Na.Z().fb!==e&&(c=this.Na.Z(),(e=nq(c.Sb(),e))?(wq(this.Na,e),c.ip(this,!0),e.ih(this,!0),Xo(e,this),Am(this.Na)):"full"===b&&Pp(this.g,this));this.Na.oa(d,b)}if("visual-state"!==b&&(d=a.behs))for(const [f,g]of Object.entries(d))d=Cs(this,parseInt(f,10)),0>d||d>=this.sd.length||
this.sd[d].Tc(g,b);(a=a.data)&&(this.Eb?this.Eb.Tc(a,b):this.dd.xk(a))}Pf(a){if(this.dd){var b=Kl(this);a.instance=b;var d=this.g;(d=d.zb&&!Ol(d.ja()))&&aC.NE();b.dispatchEvent(a);d&&aC.vD()}}};"use strict";const sC=self.A;function Tq(a){let b;b=0|Number(0!==(a.B&8388608))<<8;b|=Number(ut(a))<<7;b|=Number(0!==(a.B&32768))<<6;b|=Number(a.bu())<<5;b|=Number(0!==(a.B&16384))<<4;b|=Number(pt(a))<<3;b|=Number(nt(a))<<2;b|=Number(tC(a))<<1;return b|=Number(uC(a))<<0}
function ot(a){return 0===a.wC?Number.EPSILON:a.wC}function qt(a){return 0===a.sC?Number.EPSILON:a.sC}function vC(a,b){a.Ak=a.vb.kc();a.uC=a.Ak;a.Zb=b;a.VB=b?b.hb():0}function wC(a){a.oe()&&1!==a.rp.length&&(a.Kj?a.rp.sort((b,d)=>{b=a.Kj.get(b.Y());d=a.Kj.get(d.Y());return sC.Ub(b)&&sC.Ub(d)?b-d:0}):a.rp.sort((b,d)=>{b=b.za.UA;d=d.za.UA;return sC.Ub(b)&&sC.Ub(d)?b-d:0}))}
function xC(a){if(nt(a.vb)){a=a.Zb;let b=a.S(),d=ot(a.za);0===b&&(b=Number.EPSILON);if(d===Number.EPSILON&&b===Number.EPSILON)return 1;d===Number.EPSILON&&b!==Number.EPSILON&&a.Y();return b/d}return 1}function yC(a){if(pt(a.vb)){a=a.Zb;let b=a.R(),d=qt(a.za);0===b&&(b=Number.EPSILON);if(d===Number.EPSILON&&b===Number.EPSILON)return 1;d===Number.EPSILON&&b!==Number.EPSILON&&a.Y();return b/d}return 1}
function zC(a){var b=a.wC,d=a.sC,c=a.kt,e=a.lt,f=a.VB,g=a.Ak,h=a.uC;{const k=a.vb.Y().C();a=k?(a=k.qa())?AC(a,k):NaN:NaN}return{sw:b,sh:d,sx:c,sy:e,psa:f,oo:g,so:h,pi:a}}function BC(a,b){return a.rp.map(d=>CC(d,d,b)).filter(d=>d)}
function CC(a,b,d){if((a=a.Y())&&Bn(a))return null;const c={};c.uid=a.Rb;let e="";uC(b)&&(e+="x");tC(b)&&(e+="y");nt(b)&&(e+="w");pt(b)&&(e+="h");0!==(b.B&16384)&&(e+="a");0!==(b.B&32768)&&(e+="z");b.bu()&&(e+="d");ut(b)&&(e+="o");0!==(b.B&8388608)&&(e+="v");c.f=e;c.offsets={x:b.ma,y:b.fa,z:b.Bd,w:b.je,h:b.Zd,a:b.Oa,sgi:b.za?zC(b.za):null};c.data=DC(a);c.oci=a.G().Aa();"state"===d?(c.inst=a.Gd("full",{selfOnly:!0}),c.instIndex=NaN):(c.instIndex=a.G().na().indexOf(a),c.inst=null);return c}
function DC(a){let b=Wo(a.C().Z(),a.Rb);if(!b)return null;b=JSON.parse(JSON.stringify(b));const d=[];for(const c of[...a.kd()]){const e=c.C();d.push([e.Sb().fb,e.Z().Aa(),c.Rb,Tq(e),c.G().cc()?1:0,Dm(e),DC(c)])}sC.$k(b[0][14])?b[0][14][1]=d:(b[0][14]=[],b[0][14][0]=511,b[0][14][1]=d,b[0][14][2]=Dm(a.C()));return b}function EC(a,b,d){if(!b&&!d&&a.ud)for(const c of a.ud)Bn(c)||c.Ud()||Pp(c.F(),c);a.ud=b;a.Kj=d}
function FC(a){const b={};b.Pq=a.includes("x");b.Qq=a.includes("y");b.uo=a.includes("w");b.to=a.includes("h");b.Mq=a.includes("a");b.Rq=a.includes("z");b.It=a.includes("d");b.Nq=a.includes("o");b.Oq=a.includes("v");return b}function GC(a,b,d){if(a=a.Vu(d,a.vb.F()))a=JSON.parse(JSON.stringify(a)),a.w=null,b.Tc(a)}function HC(a,b,d){a=a.G();b=IC(b,a);d=nC(d.Y(),a).length;return b===d}function JC(a,b,d,c,e){if(b=c.Y().$t(b))if(c=b.C())e.has(c)||(KC(c,d.offsets),GC(a,b,d)),e.add(c)}
function LC(a,b){if(sC.Ub(b.oci)){var d=a.vb,c=d.F();if(b.data)d=Tp(c,b.data,d.Z(),!1,0,0,!1,!0);else{const e=Uo(c,b.oci);d=Ll(c,e,d.Z(),0,0,!0)}if(d)return a=a.Vu(b,c),d.Tc(a),a=d.C(),Ko(a.Z(),d,!0),a}}function MC(a,b,d,c,e=!0){a.vb.Gi(b,FC(d.f))&&e&&(c.has(b)||(KC(b,d.offsets),GC(a,b.Y(),d)),c.add(b));wC(a)}function IC(a,b){return a.filter(d=>d.G().ka()===b.ka()).length}
sC.PU=class extends sC.pa{constructor(a){super();this.vb=a;this.Zb=null;this.rp=[];this.wC=a.S();this.sC=a.R();this.lt=this.kt=1;this.VB=0;this.Ak=1;this.uC=a.kc();this.Kj=this.ud=null;this.UA=NaN}m(){this.Kj=this.ud=this.Zb=null;this.UA=NaN;sC.D(this.rp)}qa(){return this.Zb}oe(){return 0<this.rp.length}kd(){return this.rp}la(a,b=null){const d=zC(this);if(b&&b.selfOnly)a=Object.assign(d,{p:null,c:[]});else{b=Object;var c=b.assign;var e=this.Zb&&this.Zb.Y()&&!Bn(this.Zb.Y())?CC(this.Zb,this.vb,a):
null;a=c.call(b,d,{p:e,c:BC(this,a)})}return a}oa(a){this.wC=a.sw;this.sC=a.sh;this.kt=a.sx;this.lt=a.sy;this.VB=a.psa;this.Ak=a.oo;this.uC=a.so;this.UA=sC.Ub(a.pi)?a.pi:NaN}Bg(a,b){const d=this.vb,c=d.F(),e=new Set;if(a.p&&!this.Zb){var f=$r(c,a.p.uid);if(f){var g=f.C();if(f.YD(d.Y()))this.Zb=g;else{a:{g=f;var h=d.Y().Rb;for(k of g.C().kd())if(k.Y().Rb===h){var k=!0;break a}k=!1}k?Pp(c,d.Y()):f.Gi(d.Y(),FC(a.p.f));e.has(d)||(KC(d,a.p.offsets),GC(this,f,a.p));e.add(d);wC(f.C().za)}}else sC.Ub(a.p.oci)&&
(f=Uo(c,a.p.oci),f=Ll(c,f,d.Z(),0,0,!0))&&(k=this.Vu(a.p,c),f.Tc(k),Ko(f.C().Z(),f),f.Gi(d.Y(),FC(a.p.f)),wC(f.C().za))}f=[];for(var l of a.c)(k=$r(c,l.uid))&&f.push(k);l=0;for(const m of a.c){if(k=$r(c,m.uid)){if(this.ud)if(this.ud.includes(k)){g=k;if(g.G()!==k.G()){l++;continue}if(Bn(g)){l++;continue}k=a.c[l];if(!b?.xK&&HC(g,f,d)){JC(this,l,k,d,e);l++;continue}if(g.Ud()&&g.qa()!==d.Y()){g=LC(this,k);MC(this,g,k,e);l++;continue}MC(this,g.C(),k,e,!0);l++;continue}else if(this.ud[l]){g=this.ud[l];
if(g.G()!==k.G()){l++;continue}if(Bn(g)){l++;continue}k=a.c[l];if(!b?.xK&&HC(g,f,d)){JC(this,l,k,d,e);l++;continue}if(g.Ud()&&g.qa()!==d.Y()){g=LC(this,k);MC(this,g,k,e);l++;continue}MC(this,g.C(),k,e,!0);l++;continue}h=k.G();g=IC(f,h);h=nC(d.Y(),h).length;if(g===h){if(k=d.Y().$t(l))if(g=k.C())e.has(g)||(KC(g,m.offsets),GC(this,k,m)),e.add(g);l++;continue}if(k.Ud()&&k.qa()!==d.Y()){k=LC(this,m);MC(this,k,m,e);l++;continue}MC(this,k.C(),m,e)}else if(this.ud&&this.ud[l]){k=this.ud[l];g=Uo(c,sC.Ub(m.oci)?
m.oci:m[1]);if(k.G()!==g){l++;continue}if(Bn(k)){l++;continue}g=a.c[l];if(!b?.xK&&HC(k,f,d)){JC(this,l,g,d,e);l++;continue}if(k.Ud()&&k.qa()!==d.Y()){k=LC(this,g);MC(this,k,g,e);l++;continue}MC(this,k.C(),g,e)}else k=LC(this,m),MC(this,k,m,e);l++}}Vu(a,b){if(sC.Ub(a.instIndex))return Uo(b,a.oci).DB[a.instIndex];if(sC.Ph(a.inst))return JSON.parse(a.inst);if(a.inst)return a.inst}};"use strict";const S=self.A,NC=S.j(S.Rect);S.j(S.wd);
const OC=S.j(S.Event,"bboxchange",!1),ct=S.j(S.bb,0,0,0,0),ah=S.j(S.Ao),PC=S.j(S.bb,1,1,1,1),QC=S.j(S.Rect,0,0,-1,-1),RC=S.j(S.Rect,0,0,-1,-1),SC=new Set(["absolute","relative"]),TC=[];let UC=!0;const VC=new WeakMap,WC=new WeakMap;function Am(a){a.B|=65554;a.I.dv=!0;a.g.ya();Ro(a.Ng)&&(XC(a,a.FF,a.GF),a.B&=-3,YC(a));0!==(a.B&4)&&a.Ja.lb().dispatchEvent(OC);if(null!==a.za){a=a.za.kd();for(let b=0,d=a.length;b<d;++b)Am(a[b])}}
function Bm(a,b,d){b=+b;d=+d;if(0!==(a.B&3072)){const e=uC(a),f=tC(a),g=a.za,h=b-a.Da(),k=d-a.Ea();var c=-ZC(a);if(0===c)a.ma=e?a.ma+h/xC(g):b,a.fa=f?a.fa+k/yC(g):d;else{const l=Math.sin(c);c=Math.cos(c);a.ma=e?f?a.ma+(c*h-l*k)/xC(g):a.ma+c*h/xC(g):b;a.fa=f?e?a.fa+(l*h+c*k)/yC(g):a.fa+c*k/yC(g):d}}else a.ma=b,a.fa=d}function Cm(a){$C(a);return a.FF}function Dm(a){up(a.Ng);return a.Gh}function Em(a,b,d){return Cm(a).qg(b,d)&&aD(a).qg(b,d)?a.Zk()?void 0:bD(a)?cD(a).qg(b-a.Da(),d-a.Ea()):!0:!1}
function Dn(a){vp(a.Ng);return a.eO}function Qp(a){const b=a.Ww;b!==QC&&(a.Z().ft.cp(a.Ja,b,null),a.Ww=QC)}function Up(a,b,d){b=+b;d=+d;0!==(a.B&3072)?Bm(a,a.Da()+b,a.Ea()+d):(a.ma+=b,a.fa+=d)}function xp(a,b){a.eO=b|0}function Hp(a,b,d,c){d&&0!==a.Dc?a=Yp(a,Op(a.Z())):0===a.Xa()||c?a=Id(b,Cm(a)):(b=a.Z(),d=Kp(a),d>=b.He()/ap(b)?a=!1:(bp(b,d,NC),a=Id(NC,Cm(a))));return a}
function Yp(a,b){var d=Cm(a);const c=d.V,e=d.da,f=d.T;d=d.aa;const g=Kp(a);a=g+a.Dc;return pg(c,f,g,e,d,a,b.IO)&&pg(c,f,g,e,d,a,b.TP)&&pg(c,f,g,e,d,a,b.xP)&&pg(c,f,g,e,d,a,b.pN)&&pg(c,f,g,e,d,a,b.WH)&&pg(c,f,g,e,d,a,b.JN)}function Kp(a){return a.Z().Xa()+a.Xa()}function Lo(a){a=WC.get(a);return S.Ub(a)?a:NaN}function wq(a,b,d){(d=d&&a.Ng!==b)&&Qp(a);XB(a.I,a,a.Ng,b);a.Ng=b;d&&YC(a);0!==a.Xa()&&(a.Ng.nl=!0)}function lt(a,b,d=!1){b=+b;d?a.ma+=b:uC(a)?a.Wi(a.Da()+b):a.ma+=b}
function mt(a,b,d=!1){b=+b;d?a.fa+=b:tC(a)?a.Xi(a.Ea()+b):a.fa+=b}function nt(a){return 0!==(a.B&4096)}function pt(a){return 0!==(a.B&8192)}function rt(a,b,d){b=+b;d?a.Zd+=b:pt(a)?a.Sh(a.R()+b):a.Zd+=b;st(a)}function tt(a,b){ut(a)?a.yg(a.za.Ak+b):a.yg(a.kc()+b)}function ut(a){return 0!==(a.B&4194304)}function ly(a){dD(a);return a.TF}function my(a){dD(a);return a.CI}function dt(a,b){rd(a.ec,b)||(pd(ct,b),ct.a=a.kc(),eD(a))}function Tz(a){a.Ye&&(a.Ye.BK.m(),a.Ye.pZ.m(),a.Ye=null,fD(a))}
function Uz(a,b,d){b=Math.floor(b);d=Math.floor(d);if(!a.Y().Ka().MP)throw Error("object does not support mesh");Tz(a);a.Ye={BK:S.j(S.L.PL,b,d),pZ:S.j(S.L.PL,b,d),WQ:null}}function Xz(a){if(null===a.Ye)throw Error("no mesh");return a.Ye.BK}function WB(a){if(0!==(a.B&16)&&0!==(a.B&8)&&0===(a.B&256)){var b=Cm(a),d=a.I.wv,c=a.dA;NC.set(d.Zi(b.V),d.$i(b.T),d.Zi(b.da),d.$i(b.aa));c.Xc(NC)||(b=a.Ja,c===RC?(d.cp(b,null,NC),a.dA=S.j(S.Rect,NC)):(d.cp(b,c,NC),c.ua(NC)),a.B&=-17)}}
function pC(a){a.ma=0;a.fa=0;a.Bd=0;a.je=0;a.Zd=0;a.Dc=0;a.Oa=0;a.CI=0;a.TF=1;a.Jn=0;a.Kn=0;gD(a)}function AC(a,b){if(!b)return NaN;a=a.kd();if(!a)return NaN;for(let d=0;d<a.length;d++)if(b===a[d])return d;return NaN}function uC(a){return 0!==(a.B&1024)}function tC(a){return 0!==(a.B&2048)}function KC(a,b){b&&(a.ma=b.x,a.fa=b.y,a.Bd=b.z,a.je=b.w,a.Zd=b.h,a.Oa=b.a,b.sgi&&a.za&&a.za.oa(b.sgi),st(a),Am(a))}function hD(a){a.za&&(a.za.m(),a.za=null)}
function iD(a){a.ud&&(a.ud.length=0);a.ud=null;a.Kj=null;const b=a.qa();b&&iD(b);a.zx=-1}function eD(a){var b=ct;a.ec.Xc(b)||(a.ec===PC?(a.ec=S.j(S.bb,b),a.vp=S.j(S.bb,b),td(a.vp)):sd(b,1,1,1,1)?(a.ec=PC,a.vp=PC):(a.ec.set(b),a.vp.set(b),td(a.vp)),gD(a))}function gD(a){if(UC){var b=a.g.wa();a.vq&&Mg(b,a.vq);var d=0!==(a.B&524288)?b.lx||"<point>":b.tq||"<default>",c=a.Xj(),e=a.vp,f=a.Xa();const g=Ng(d,c,e,f);let h=b.wq.get(g);h||(h=rg.j(rg.L.YU,b,d,c,e,f),b.wq.set(g,h));++h.Mb;a.vq=h}}
function jD(a,b){nt(a)&&0>a.Em().S()&&(b=S.Cd(S.rQ(b,a.Em().hb()+Math.PI)));pt(a)&&0>a.Em().R()&&(b=S.rQ(b,a.Em().hb()));return b}function kD(a){return 0!==(a.B&16384)&&a.Im()?S.Cd(kD(a.qa())+a.Oa):a.Oa}function ZC(a){return 0!==(a.B&16384)?jD(a,kD(a.qa())-a.za.VB):0}function lD(a){gD(a);if(a.oe()){a=a.kd();for(let b=0,d=a.length;b<d;b++){const c=a[b];0!==(c.B&32768)&&lD(c)}}}function st(a){a.B|=262144;if(a.oe()){a=a.kd();for(let b=0,d=a.length;b<d;b++)st(a[b])}}
function dD(a){const b=a.B;if(0!==(b&262144)){var d=a.hb();a.CI=Math.sin(d);a.TF=Math.cos(d);a.B=b&-262145}}function mD(a){if(a.oe()){a=a.kd();for(let c=0,e=a.length;c<e;c++){var b=a[c],d=b;b=b.kc();pd(ct,d.ec);ct.a=b;eD(d);mD(d)}}}function nD(a,b){if(a.YD(b))return!0;for(const d of a.kd())if(nD(d,b))return!0;return!1}function oD(a,b){if(!a.Ud())return!1;a=a.qa();return a===b?!0:oD(a,b)}function pD(a,b){b?(qD(b,null),qD(a,b)):(a.za&&vC(a.za,null),a.oe()||hD(a))}
function rD(a){sD(a);if(!a.ud){var b=[...a.children()];b.length&&(a.ud=[],a.Kj=new WeakMap);let d=0;for(const c of b)b=c.Y(),a.ud.push(b),a.Kj.set(b,d),d++}(a=a.qa())&&rD(a)}function tD(a){rD(a);var b=[...a.children()];for(const d of b)a.ek(d);(b=a.qa())&&b.ek(a);a.B&=-12647937}function sD(a){if(-1===a.zx){var b=[...a.Qt()];a.zx=b.length;for(const d of b)sD(d);a=[...a.children()];for(const d of a)sD(d)}}function qD(a,b){a.za||(a.za=S.j(S.PU,a));b&&vC(a.za,b)}
function YC(a){const b=a.Z();if(Ro(b)&&0===(a.B&256)){var d=b.ft,c=Cm(a),e=a.Ww;NC.set(d.Zi(c.V),d.$i(c.T),d.Zi(c.da),d.$i(c.aa));e.Xc(NC)||(c=a.Ja,e===QC?(d.cp(c,null,NC),a.Ww=S.j(S.Rect,NC)):(d.cp(c,e,NC),e.ua(NC)),b.pB=!1)}}function uD(a){const b=a.dA;b!==RC&&(a.I.wv.cp(a.Ja,b,null),a.dA=RC)}
function XC(a,b,d){const c=a.Da(),e=a.Ea();var f=a.S(),g=a.R();const h=a.hb();Bd(b,c-a.Jn*f,e-a.Kn*g,f,g);if(null!==a.Ye){f=a.Ye.BK;g=Math;var k=g.min;Yg(f);g=k.call(g,f.UO,0);k=Math;var l=k.min;Yg(f);k=l.call(k,f.VO,0);l=Math;var m=l.max;Yg(f);l=m.call(l,f.QO,1);m=Math;var n=m.max;Yg(f);m=n.call(m,f.RO,1);n=b.width();const p=b.height();b.offsetLeft(g*n);b.offsetTop(k*p);b.da+=+((l-1)*n);b.aa+=+((m-1)*p);Yg(f);a.Dc=f.SO}0===h?d.rg(b):(b.offset(-c,-e),Ld(d,b,my(a),ly(a)),d.offset(c,e),d.OJ(b));b.normalize()}
function $C(a){const b=a.B;0!==(b&2)&&(XC(a,a.FF,a.GF),a.B=b&-3)}function aD(a){$C(a);return a.GF}function bD(a){return null!==a.FI||null!==a.Ye}
function cD(a){{var b=a.S();var d=a.R(),c=a.hb(),e=my(a),f=ly(a);let u=a.zt;null===u&&(u={aR:S.j(S.Ao),width:NaN,height:NaN,angle:NaN},a.zt=u);const v=u.aR;if(u.width!==b||u.height!==d||u.angle!==c){var g=a.FI;if(null!==a.Ye){const w=a.iu(),y=a.ju();var h=Xz(a),k=a.Ye.WQ;k||(g?(ah.ua(g),ah.offset(w,y)):Qd(ah,Od),k=$g(h),a.Ye.WQ=k);a=[];k=k.$e;for(let C=0,F=k.length;C<F;C+=2){var l=h;g=k[C];var m=k[C+1],n=l.qn-1,p=l.no-1,q=1/n,t=1/p;n=Wg.ia(Math.floor(g*n),0,n-1);const O=Wg.ia(Math.floor(m*p),0,p-
1);p=n*q;var r=O*t;const ka=(n+1)*q,la=(O+1)*t,Y=Zg(l,n,O),ra=Zg(l,n+1,O+1),Na=Wg.FY(g,m,p,r,ka,r,ka,la);l=Zg(l,n+(Na?1:0),O+(Na?0:1));const [bb,ya,ee]=Wg.rZ(g,m,p,r,Na?p+q:p,Na?r:r+t,ka,la);g=Wg.qZ(bb,ya,ee,Y.Da(),Y.Ea(),Y.Xa(),l.Da(),l.Ea(),l.Xa(),ra.Da(),ra.Ea(),ra.Xa());const [fe,Jj]=g;a.push(fe,Jj)}h=a;a=[];k=h[0];g=h[1];m=k-h.at(-2);q=g-h.at(-1);for(let C=0,F=h.length;C<F;C+=2)l=(C+2)%F,t=h[l],l=h[l+1],n=t-k,p=l-g,r=1E-7>Math.abs(p)&&1E-7>Math.abs(q)&&Math.sign(n)===Math.sign(m),(!(1E-7>Math.abs(n)&&
1E-7>Math.abs(m)&&Math.sign(p)===Math.sign(q)||r)&&.001<Math.abs(n/m-p/q)||0==n&&0===p)&&a.push(k,g),k=t,g=l,m=n,q=p;6<=a.length&&a.length<h.length&&Wg.Yc(h,a);Qd(v,h);v.offset(-w,-y);Sd(v,b,d,e,f)}else g?(v.ua(g),Sd(v,b,d,e,f)):Rd(v,aD(a),-a.Da(),-a.Ea());u.width=b;u.height=d;u.angle=c}b=v}return b}function fD(a){a.xb(131072,!0);a=a.zt;null!==a&&(a.width=NaN)}
S.zV=class extends S.pa{constructor(a,b){super();this.Ja=a;this.I=a.G();this.g=a.F();this.Ng=b;XB(this.I,this,null,b);this.eO=this.Gh=-1;this.B=196635;this.I.Ka().Im()&&(this.B|=128);this.Kn=this.Jn=this.TF=this.CI=this.Oa=this.Dc=this.Zd=this.je=this.Bd=this.fa=this.ma=NaN;this.FF=S.j(S.Rect);this.GF=S.j(S.wd);this.dA=RC;this.Ww=QC;this.Gj=this.zt=this.FI=null;this.vp=this.ec=PC;this.Ve=this.vq=null;TB(this.Ja.G())&&(this.Ve=S.j(S.xT,this.Ja,this));this.Kj=this.ud=this.za=null;this.zx=-1;this.Ye=
null}bF(){this.B|=256}m(){XB(this.I,this,this.Ng,null);this.vq&&(Mg(this.g.wa(),this.vq),this.vq=null);this.FI=null;this.zt&&(this.zt.aR.m(),this.zt=null);this.Gj&&(this.Gj.clear(),this.Gj=null);Tz(this);this.Ve&&this.Ve.m();this.Ud()&&this.qa().ek(this);if(this.oe()){const a=[...this.kd()];for(const b of a)this.ek(b)}hD(this);iD(this);VC.delete(this);WC.delete(this);this.Ng=this.g=this.I=this.Ja=null}Fm(a){UC=!1;Bm(this,a[0],a[1]);this.Xf(a[2]);this.Vd(a[3],a[4]);this.Dc=0;this.Im()?this.qe(a[6]):
this.Oa=0;xd(ct,a[7]);eD(this);this.Jn=+a[8];this.Kn=+a[9];this.Le(a[10]);if(this.Ve){var b=this.Ve,d=a[12],c=0;for(var e of d)b.Uc.push(b.aF(c,e)),++c;b.Fr();b.Ag()}a[14]&&VC.set(this,{AJ:a[14][1],HK:a[14][2]});if(a[15]){d=a[15];Uz(this,d[0],d[1]);b=Xz(this);d=d[2];for(let f=0,g=d.length;f<g;++f){c=d[f];for(let h=0,k=c.length;h<k;++h){e=c[h];const l=Zg(b,h,f);l.Wi(e[0]);l.Xi(e[1]);l.Xf(e[2]);l.Mj=e[3];l.Oj=e[4]}}}a[16]&&(b=a[16][0],a=a[16][1],d=!!a,c=!d,e=this.g.Ah,d&&e&&tu(e,this.Y(),a),c&&e&&tu(e,
this.Y(),b));UC=!0;gD(this)}F(){return this.g}G(){return this.I}Y(){return this.Ja}Wi(a){a=+a;if(uC(this)){const b=this.za;a-=this.Da();const d=-ZC(this);0===d?this.ma+=a/xC(b):(this.ma+=Math.cos(d)*a/xC(b),tC(this)&&(this.fa+=Math.sin(d)*a/yC(b)))}else this.ma=a}Da(){if(uC(this)){let a=this.ma;const b=this.za,d=this.qa(),c=ZC(this);0===c?a*=xC(b):(a=a*xC(b)*Math.cos(c),tC(this)&&(a-=this.fa*yC(b)*Math.sin(c)));return d.Da()+a}return this.ma}Xi(a){a=+a;if(tC(this)){const b=this.za;a-=this.Ea();const d=
-ZC(this);0===d?this.fa+=a/yC(b):(uC(this)&&(this.ma-=Math.sin(d)*a/xC(b)),this.fa+=Math.cos(d)*a/yC(b))}else this.fa=a}Ea(){if(tC(this)){let a=this.fa;const b=this.za,d=this.qa(),c=ZC(this);0===c?a*=yC(b):(a=a*yC(b)*Math.cos(c),uC(this)&&(a+=this.ma*xC(b)*Math.sin(c)));return d.Ea()+a}return this.fa}Xf(a){a=+a;0!==(this.B&32768)&&(a-=this.qa().Xa());this.Bd!==a&&(this.Bd=a,lD(this),a=this.Z(),0!==this.Bd&&(a.nl=!0),Xo(a,this))}Xa(){return 0!==(this.B&32768)?this.qa().Xa()+this.Bd:this.Bd}fh(a){a=
+a;if(nt(this)){const b=this.S();this.je=0===b?Number.EPSILON:a/b*this.je}else this.je=a;st(this)}Qi(a,b){a=+a;b?this.je+=a:nt(this)?this.fh(this.S()+a):this.je+=a;st(this)}S(){if(nt(this)){const a=this.qa(),b=a.S();return ot(a.za)===Number.EPSILON?(ot(this.za)+b)*this.je:b*this.je}return this.je}Sh(a){a=+a;if(pt(this)){const b=this.R();this.Zd=0===b?Number.EPSILON:a/b*this.Zd}else this.Zd=a;st(this)}R(){if(pt(this)){const a=this.qa(),b=a.R();return qt(a.za)===Number.EPSILON?(qt(this.za)+b)*this.Zd:
b*this.Zd}return this.Zd}Vd(a,b){a=+a;b=+b;if(nt(this)){const d=this.S();this.je=0===d?Number.EPSILON:a/d*this.je}else this.je=a;pt(this)?(a=this.R(),this.Zd=0===a?Number.EPSILON:b/a*this.Zd):this.Zd=b;st(this)}Oh(){return[this.S(),this.R()]}Im(){return 0!==(this.B&128)}qe(a){a=+a;this.Im()&&(0!==(this.B&16384)&&(a-=this.qa().hb()),a=S.Cd(a),this.Oa!==a&&(this.Oa=a,st(this)))}hb(){return 0!==(this.B&16384)&&this.Im()?jD(this,S.Cd(kD(this.qa())+this.Oa)):this.Oa}iu(){return this.Jn}ju(){return this.Kn}yg(a){a=
S.ia(+a,0,1);if(ut(this)){if(this.za.Ak===a)return;this.za.Ak=a;a=this.kc()}else if(this.ec.a===a)return;pd(ct,this.ec);ct.a=a;eD(this);mD(this)}kc(){return ut(this)?this.qa().kc()*this.za.Ak:this.ec.a}TD(){return this.vp}bu(){return 0!==(this.B&512)}Gi(a,b){if(a===this||a.Ud()||nD(this,a)||oD(this,a))return!1;var d=a.Da(),c=a.Ea(),e=a.S();const f=a.R(),g=a.hb(),h=a.Xa(),k=a.kc();pD(a,this);a.xb(1024,b.Pq);a.xb(2048,b.Qq);a.xb(4096,b.uo);a.xb(8192,b.to);a.xb(16384,b.Mq);a.xb(32768,b.Rq);a.xb(4194304,
b.Nq);a.xb(8388608,b.Oq);a.xb(512,b.It);b.Pq&&(a.ma=d-this.Da(),b.uo&&(d=this.S()/ot(this.za),0!==d&&(a.ma/=d)));b.Qq&&(a.fa=c-this.Ea(),b.to&&(c=this.R()/qt(this.za),0!==c&&(a.fa/=c)));b.uo&&(c=this.S(),0===c||c===Number.EPSILON?(a.je=1,a.za.kt=1):(a.je=e/this.S(),a.za.kt=a.je));b.to&&(e=this.R(),0===e||e===Number.EPSILON?(a.Zd=1,a.za.lt=1):(a.Zd=f/this.R(),a.za.lt=a.Zd));b.Mq&&(a.Oa=g-this.hb());b.Rq&&(a.Bd=h-this.Xa());b.Nq&&(a.za.Ak=k);b.Oq&&a.eh(this.mc());this.za.kd().push(a);Am(this);mD(this);
return!0}ek(a){if(a.qa()===this){var b=a.Da(),d=a.Ea(),c=a.S(),e=a.R(),f=a.hb(),g=a.Xa(),h=a.kc();pD(a,null);a.B&=-12647937;Bm(a,b,d);a.Vd(c,e);a.qe(f);a.Xf(g);a.yg(h);b=this.za.kd();d=b.indexOf(a);-1!==d&&b.splice(d,1);0!==b.length||this.Ud()||hD(this);a.oe()||hD(a);Am(this)}}Ud(){return null!==this.qa()}qa(){const a=this.za;return null!==a?a.qa():null}Em(){let a=this;for(;a.Ud();)a=a.qa();return a}*Qt(){let a=this.qa();for(;a;)yield a,a=a.qa()}YD(a){return this.kd().includes(a)}oe(){const a=this.za;
return null!==a?a.oe():!1}kd(){const a=this.za;return null!==a?a.kd():TC}children(){return this.kd()}*Ai(){for(const a of this.children())yield a,yield*a.Ai()}Jy(){return this.kd().length}Hy(){return[...this.Ai()].length}$t(a){const b=this.kd();a=Math.floor(+a);return 0>a||a>=b.length?null:b[a]}VD(){const a=VC.get(this);return a?a.AJ:null}jr(){return this.ec===PC}Le(a){a|=0;if(0>a||31<a)throw new RangeError("invalid blend mode");this.Xj()!==a&&(this.B=this.B&-2080374785|a<<26,gD(this))}Xj(){return(this.B&
2080374784)>>26}Z(){return this.Ng}Sb(){return this.Z().Sb()}xb(a,b){this.B=b?this.B|a:this.B&~a}mc(){return 0!==(this.B&1)}eh(a){this.xb(1,a);if(this.oe())for(const b of this.kd())0!==(b.B&8388608)&&b.eh(a)}yM(a,b,d){a=Math.floor(a);b=Math.floor(b);var c=d.mode||"absolute";if(!SC.has(c))throw Error("invalid mode");c="relative"===c;let e=d.x,f=d.y;const g=d.Tj;let h="number"===typeof d.xR?d.xR:c?0:-1;d="number"===typeof d.CR?d.CR:c?0:-1;if(null===this.Ye)return!1;const k=Xz(this),l=Zg(k,a,b);if(null===
l)return!1;let m=!1;"number"===typeof g&&l.Xa()!==g&&(l.Xf(g),m=!0);c&&(e+=a/(k.qn-1),f+=b/(k.no-1));-1!==h||c?(c&&(h+=a/(k.qn-1)),h=S.ia(h,0,1)):h=l.Mj;-1!==d||c?(c&&(d+=b/(k.no-1)),d=S.ia(d,0,1)):d=l.Oj;if(l.Da()===e&&l.Ea()===f&&l.Mj===h&&l.Oj===d)return m;l.Wi(e);l.Xi(f);l.Mj=h;l.Oj=d;fD(this);return!0}Zk(){return this.Ja.Zk()}vu(){return 0!==(this.B&64)}la(a,b=null){const d={x:this.Da(),y:this.Ea(),w:this.S(),h:this.R(),l:this.Z().fb,zi:Dm(this)};0!==this.Xa()&&(d.ze=this.Xa());0!==this.hb()&&
(d.a=kD(this));this.jr()||(d.c=this.ec.toJSON());.5!==this.iu()&&(d.oX=this.iu());.5!==this.ju()&&(d.oY=this.ju());0!==this.Xj()&&(d.bm=this.Xj());this.mc()||(d.v=this.mc());0!==(this.B&8)||(d.ce=0!==(this.B&8));0!==(this.B&4)&&(d.be=0!==(this.B&4));this.Ve&&(d.fx=this.Ve.la());const c=0!==(this.B&32);c&&(d.sfi=c);this.Gj&&(d.sft=[...this.Gj].join(" "));this.za&&"visual-state"!==a&&(d.sgi=this.za.la(a,b),VC.has(this)&&(d.sgcd=VC.get(this).AJ,d.sgzid=VC.get(this).HK));null!==this.Ye&&(d.mesh=Xz(this).Gd());
return d}av(){iD(this);tD(this);qD(this,null);this.za&&EC(this.za,this.ud,this.Kj)}Er(a){"visual-state"!==a&&tD(this)}Bg(a,b="full",d=null){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.B&256)&&this.za.Bg(a.sgi,d)}cF(a,b="full"){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.B&256)&&(EC(this.za,null,null),iD(this),Am(this))}oa(a,b){UC=!1;this.Wi(a.x);this.Xi(a.y);this.fh(a.w);this.Sh(a.h);this.Gh=a.zi|0;this.Xf(a.hasOwnProperty("ze")?a.ze:0);this.qe(a.hasOwnProperty("a")?a.a:0);a.hasOwnProperty("c")?
xd(ct,a.c):a.hasOwnProperty("o")?(pd(ct,this.ec),ct.a=a.o):md(ct,1,1,1,1);eD(this);this.Jn=+(a.hasOwnProperty("oX")?a.oX:.5);this.Kn=+(a.hasOwnProperty("oY")?a.oY:.5);this.Le(a.hasOwnProperty("bm")?a.bm:0);this.eh(a.hasOwnProperty("v")?a.v:!0);var d=a.hasOwnProperty("ce")?a.ce:!0;d=!!d;0!==(this.B&8)!==d&&(this.xb(8,d),d?Am(this):uD(this));d=a.hasOwnProperty("be")?a.be:!1;this.xb(4,d);d=a.hasOwnProperty("sfi")?a.sfi:!1;var c=a.hasOwnProperty("sft")?a.sft:"";this.xb(32,d);this.Gj&&this.Gj.clear();
if(c.trim()){this.Gj||(this.Gj=new Set);for(var e of c.split(" "))e&&this.Gj.add(e.toLowerCase())}else this.Gj=null;this.Ve&&a.hasOwnProperty("fx")&&this.Ve.oa(a.fx);if(!a.hasOwnProperty("sgi")&&"visual-state"!==b&&this.ud)for(const f of this.ud)Bn(f)||Pp(this.g,f);a.hasOwnProperty("sgi")&&"visual-state"!==b&&(qD(this,null),e=this.za,e.oa(a.sgi),EC(e,this.ud,this.Kj),a.sgcd&&S.Ub(a.sgzid)&&VC.set(this,{AJ:a.sgcd,HK:a.sgzid}));a.hasOwnProperty("mesh")?(e=a.mesh,Uz(this,e.cols,e.rows),Xz(this).Tc(e)):
Tz(this);Am(this);UC=!0;gD(this);"visual-state"!==b&&(b=this.g,e=this.Y(),e.C()&&!b.gw.has(e)&&(b.gw.set(e,a),b.fw.push(e)))}};"use strict";const vD=self.A;
vD.KK=class extends vD.pa{constructor(a,b){super();const d=a.F(),c=Vw(d,b[1]);var e=d.Vm;const f=e.$F.get(c);f&&(f(),e.$F.delete(c));this.g=d;this.I=a;this.$h=uB.get(c)||null;this.RA=this.vc=null;this.YA=c.Instance;this.fb=b[2];this.Ca=b[0];this.tw=this.g.Ki(b[3]);a=this.$h.Ff;if(2>a&&(this.vc=vD.j(c.bp,this),!(this.vc instanceof vD.MU)))throw Error("v1 sdk type must derive from SDKBehaviorBase");vD.nb.Rm(this,a);if(2<=a){if(this.RA=new (c.bp??globalThis.uL),!(this.RA instanceof globalThis.uL))throw Error("script interface class must derive from ISDKBehaviorTypeBase");
}else this.RA=new globalThis.pL;vD.nb.Qm(a)}static va(a,b){return vD.j(vD.KK,a,b)}m(){this.$h=this.g=null;this.vc&&(this.vc.m(),this.vc=null);this.YA=null}F(){return this.g}G(){return this.I}rf(){return this.$h}ka(){return this.Ca}Ki(){return this.tw}};"use strict";const wD=self.A,xD=self.oL;
wD.ZR=class extends wD.pa{constructor(a){super();this.g=a.jd;this.Pb=a.RC;this.$h=this.Pb.rf();this.Ja=a.instance;this.ga=a.index;this.dd=this.Eb=null;this.$h.ih(this.Ja)}m(){this.dd&&(this.dd.Dj(),this.dd=null);this.$h.ip(this.Ja);this.Eb&&(this.Eb.m(),this.Eb=null);this.Ja=this.$h=this.Pb=this.g=null}Az(a){if(this.Eb)throw Error("already got sdk instance");if(2>this.rf().Ff){if(this.Eb=wD.j(this.Pb.YA,this,a),!(this.Eb instanceof wD.LU))throw Error("v1 sdk type must derive from SDKBehaviorInstanceBase");
}else this.Cr(this.rf().bh().Instance,a)}F(){return this.g}Qf(){return this.Pb}rf(){return this.$h}Af(){return this.ga}Gd(a="full"){return this.Eb?this.Eb.Gd(a):null}Tc(a,b="full"){if(this.Eb)return this.Eb.Tc(a,b);this.dd.xk(a,b)}Cr(a,b){const d=(a=a??this.Eb.bh())||xD,c=this.rf().Ff;wD.nb.Rm(this,c);pB.push(b);this.dd=new d;pB.pop();wD.nb.Qm(c);if(a&&!(this.dd instanceof xD))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${xD.name}'`);return this.dd}hr(){return this.dd||
this.Cr()}};"use strict";const yD=self.A;function ds(a,b){return a.vA.get(b.toLowerCase())||null}function zD(a,b){b=Math.floor(+b);if(0>b||b>=a.Dg.length)throw new RangeError("invalid effect type index");return a.Dg[b]}
yD.Do=class extends yD.pa{constructor(a,b){super();this.vb=a;this.Dg=[];this.Cg=[];this.vA=new Map;this.Uc=[];this.Te=[];this.wF=new Set;this.Ys=!0;for(const d of b)a=yD.j(yD.YK,this,d,this.Dg.length),this.Dg.push(a),this.vA.set(a.ka().toLowerCase(),a),3<=d.length&&this.Uc.push(this.aF(a,d[2]));this.F().tF.add(this)}m(){this.F().tF.delete(this);for(const a of this.Te)a.m();yD.D(this.Te);yD.D(this.Dg);yD.D(this.Cg);this.vA.clear();yD.D(this.Uc);this.vb=null}ik(a){a.nd()&&(this.Te=this.Dg.map(b=>{b=
b.Td();return 0<b.mA?yD.j(yD.L.PM,b):null}),this.Fr());for(const b of this.wF)b.ik(a)}aF(a,b){a.ub=!!b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=yD.j(yD.bb);xd(e,b);a[d]=e}return a}F(){return this.vb.F()}Ag(){yD.D(this.Cg);let a=!0;for(const b of this.Dg)b.ub&&(this.Cg.push(b),b.Td().Ys||(a=!1));this.Ys=a}ah(){return this.Dg}Gm(a){return zD(this,a).ub}GE(a,b){zD(this,a).ub=!!b}vu(){return 0<this.Cg.length}hL(a){return this.Uc[a]}Dz(a){return a<this.Te.length?
this.Te[a]:this.Uc[a]}gL(a,b){if(0>a||a>=this.Uc.length)return null;a=this.Uc[a];return 0>b||b>=a.length?null:a[b]}qz(a,b,d){if(0>a||a>=this.Uc.length)return!1;const c=this.Uc[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof yD.bb){if(rd(e,d))return!1;pd(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Te.length&&kk(this.Te[a],b,d);return!0}Fr(){const a=this.Uc,b=this.Te;for(let d=0,c=Math.min(a.length,b.length);d<c;++d){const e=b[d],f=a[d];for(let g=0,h=f.length;g<h;++g)kk(e,g,f[g])}}static sM(a){return a&&
a instanceof yD.bb?{t:"color",v:a.toJSON()}:a}static OL(a){if(null===a)return NaN;if("object"===typeof a){if("color"===a.t){const b=yD.j(yD.bb);xd(b,a.v);return b}throw Error("invalid effect parameter type");}return a}Gd(){return this.Dg.map(a=>({name:a.ka(),active:a.ub,params:this.Uc[a.Aa()].map(yD.Do.sM)}))}Tc(a){for(const b of a)if(a=ds(this,b.name))a.ub=!!b.active,this.Uc[a.Aa()]=b.params.map(yD.Do.OL);this.Ag();this.Fr()}};"use strict";const QB=self.A;
QB.YK=class extends QB.pa{constructor(a,b,d){super();this.Ga=a;this.Yb=b[0];this.Ca=b[1];this.ga=d;this.ic=null;this.ub=!0}m(){this.ic=this.Ga=null}ik(a){a=a.bx.get(this.Yb)||null;if(!a)throw Error("failed to find shader program '"+this.Yb+"'");this.ic=a}ka(){return this.Ca}iF(a){this.ga=a}Aa(){return this.ga}F(){return this.Ga.F()}Td(){return this.ic}};"use strict";const AD=self.A;
function qC(a){for(const c of a.Ga.ah()){var b=a.Uc,d=b.push;const e=[];for(let f=0,g=c.ic.lL();f<g;++f){const h=c.ic.ku(f);if("float"===h||"percent"===h)e.push(0);else if("color"===h)e.push(QB.j(QB.bb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}d.call(b,e)}a.Fr()}
AD.xT=class extends AD.pa{constructor(a,b){super();this.Ja=a;this.jQ=b;this.Ga=a.G().Ga;this.Mx=this.YH=!0;this.gQ=this.iQ=this.hQ=this.eQ=!1;this.Se=AD.j(AD.L.qf,a.F().$.Lv,{YC:(d,c)=>{c=c.an;const e=c.C();d.el(e.TD());Pg(d,Kp(e));c.zm(d);Pg(d,0)},HQ:d=>{const c=d.LD(),[e,f]=d.KD();return{nR:c,oR:e,lR:f}},bD:d=>this.Dz(d)});this.Tm=[];this.Cg=[];this.Ys=!0;this.Uc=[];this.Te=[];this.ik(a.F().wa());for(let d=0,c=this.Ga.ah().length;d<c;++d)this.Tm.push(!0);this.Ag();this.Ga.wF.add(this)}m(){this.Ga.wF.delete(this);
for(const a of this.Te)a&&a.m();AD.D(this.Te);this.Se.m();this.Se=null;AD.D(this.Tm);AD.D(this.Cg);AD.D(this.Uc);this.Ga=this.Ja=null}ik(a){a.nd()&&(this.Te=this.Ga.ah().map(b=>{b=b.Td();return 0<b.mA?AD.j(AD.L.PM,b):null}))}aF(a,b){this.Tm[a]=b[0];a=b.slice(1);for(let d=0,c=a.length;d<c;++d)if(b=a[d],Array.isArray(b)){const e=AD.j(AD.bb);xd(e,b);a[d]=e}return a}Tf(){this.Wu();return this.Se}F(){return this.Ja.F()}Ag(){AD.D(this.Cg);const a=this.jQ,b=this.Ga.ah(),d=this.Cg,c=this.Tm;let e=!0;for(let f=
0,g=b.length;f<g;++f)if(c[f]){const h=b[f];d.push(h);h.Td().Ys||(e=!1)}this.Ys=e;a.xb(64,!!d.length);this.YH=!0}Wu(){var a=this.Ja,b=this.jQ;const d=b.jr(),c=a.Ka().pO;b=0!==b.hb()||0!==b.Z().hb()||0>b.S()||0>b.R();const e=a.fE();a=a.Qo();if(this.YH||d!==this.Mx||c!==this.eQ||b!==this.hQ||e!==this.iQ||a!==this.gQ||this.Se.Ew)al(this.Se,this.Cg.map(f=>f.Td()),{Jt:this.Cg.map(f=>f.Aa()),KJ:!d||a,NQ:c,fD:e,VJ:b}),this.YH=!1,this.Mx=d,this.eQ=c,this.hQ=b,this.iQ=e,this.gQ=a}hL(a){return this.Uc[a]}Dz(a){return a<
this.Te.length?this.Te[a]:this.Uc[a]}gL(a,b){if(0>a||a>=this.Uc.length)return null;a=this.Uc[a];return 0>b||b>=a.length?null:a[b]}qz(a,b,d){if(0>a||a>=this.Uc.length)return!1;const c=this.Uc[a];if(0>b||b>=c.length)return!1;const e=c[b];if(e instanceof AD.bb){if(rd(e,d))return!1;pd(e,d)}else{if(e===d)return!1;c[b]=d}a<this.Te.length&&kk(this.Te[a],b,d);return!0}Fr(){const a=this.Uc,b=this.Te;for(let d=0,c=b.length;d<c;++d){const e=b[d],f=a[d];for(let g=0,h=f.length;g<h;++g)kk(e,g,f[g])}}Gm(a){return this.Tm[a]}GE(a,
b){this.Tm[a]=!!b}ah(){return this.Ga.ah()}la(){return this.Ga.ah().map(a=>({name:a.ka(),active:this.Tm[a.Aa()],params:this.Uc[a.Aa()].map(yD.Do.sM)}))}oa(a){for(const b of a)if(a=ds(this.Ga,b.name))this.Tm[a.Aa()]=b.active,this.Uc[a.Aa()]=b.params.map(yD.Do.OL);this.Ag();this.Fr()}};"use strict";const BD=self.A,CD=[],DD=BD.j(BD.Ao),ED=BD.j(BD.Ao),FD=BD.j(BD.wd);BD.j(BD.Rect);BD.j(BD.Rect);let GD=null,HD=null,ID=null;
function vz(a,b,d,c){if(b.La)for(const e of b.tk)JD(a,e)?(VB(e),e.wv.iz(d,c)):BD.om(c,e.na());else JD(a,b)?(VB(b),b.wv.iz(d,c)):BD.om(c,b.na())}
function wz(a,b){if(!a||!b||a===b)return!1;a=a.C();b=b.C();if(0===(a.B&8)||0===(b.B&8))return!1;var d=a.Z(),c=b.Z();if(tp(d,c))b=KD(a,b);else if(d=a.Zk(),c=b.Zk(),d&&!c)b=LD(a,b);else if(c&&!d)b=LD(b,a);else if(c||d)b=!1;else{c=a.Z();d=b.Z();DD.ua(cD(a));ED.ua(cD(b));var e=DD.$e;for(let f=0,g=e.length;f<g;f+=2){const h=f+1,k=e[h],[l,m]=Cn(c,e[f]+a.Da(),k+a.Ea());e[f]=l;e[h]=m}a=ED.$e;for(let f=0,g=a.length;f<g;f+=2){c=f+1;e=a[c];const [h,k]=Cn(d,a[f]+b.Da(),e+b.Ea());a[f]=h;a[c]=k}DD.Ml=!0;ED.Ml=
!0;b=Td(DD,ED,0,0)}return b}function Az(a,b,d,c){for(const [e,f]of a.Vw){if(b===e)a=f;else if(b===f)a=e;else continue;Iz(a,d)&&(c.includes(a)||c.push(a))}}function Bz(a,b,d){if(!a.Vw.length)return!1;for(const [c,e]of a.Vw)if(b===c&&d===e||b===e&&d===c)return!0;return!1}function ZB(a){return[a.cA,a.bA]}
function KD(a,b){if(!Id(Cm(a),Cm(b))||!Md(aD(a),aD(b))||a.Zk()&&b.Zk())return!1;if(a.Zk())return MD(a,b);if(b.Zk())return MD(b,a);if(!bD(a)&&!bD(b))return!0;const d=cD(a),c=cD(b);return Td(d,c,b.Da()-a.Da(),b.Ea()-a.Ea())}
function MD(a,b,d,c,e,f,g){f=void 0!==f?f:Cm(b);const h=a.Da(),k=a.Ea();var l=L(a.Y());d=void 0!==d?d:b.Da();c=void 0!==c?c:b.Ea();a=bD(b);g=void 0!==g?g:aD(b);l.Y_(f,CD);for(let p=0,q=CD.length;p<q;++p){var m=CD[p];l=m.b0();if(!(l.da+h<f.V||l.aa+k<f.T||l.V+h>f.da||l.T+k>f.aa)&&(FD.rg(l),FD.offset(h,k),Md(FD,g)))if(a){var n=void 0!==e?e:cD(b);let t=d,r=c;void 0!==e&&(t=b.Da(),r=b.Ea());if(m=m.$S()){if(Td(m,n,t-(h+l.V),r-(k+l.T)))return BD.D(CD),!0}else if(Rd(DD,FD,0,0),Td(DD,n,t,r))return BD.D(CD),
!0}else if(n=m.$S()){if(Rd(DD,g,0,0),Td(n,DD,-(h+l.V),-(k+l.T)))return BD.D(CD),!0}else return BD.D(CD),!0}BD.D(CD);return!1}
function LD(a,b){var d=a.Z(),c=b.Z();GD||(GD=BD.j(BD.Ao));HD||(HD=BD.j(BD.Rect));ID||(ID=BD.j(BD.wd));var e=b.Da(),f=b.Ea();const [g,h]=Cn(c,e,f),[k,l]=dp(d,g,h);d=k-e;f=l-f;HD.ua(Cm(b));HD.offset(d,f);if(!Id(Cm(a),HD))return!1;ID.ua(aD(b));ID.offset(d,f);if(!Md(aD(a),ID))return!1;GD.ua(cD(b));c=GD.$e;for(let m=0,n=c.length;m<n;m+=2)e=m+1,c[m]+=d,c[e]+=f;GD.Ml=!0;return MD(a,b,k,l,GD,HD,ID)}function JD(a,b){if(!a)return!0;for(const d of YB(b))if(!tp(a,d))return!1;return!0}
function ND(a,b,d){a.cA=b;a.bA=d}BD.hS=class extends BD.pa{constructor(a){super();this.g=a;this.bA=this.cA=0;this.Vw=[];new self.lT(this)}m(){this.g=null}F(){return this.g}vM(a,b){if(a!==this.cA||b!==this.bA){this.cA=a;this.bA=b;var d=this.g.Mc;for(const f of d)if(f.Md){for(const g of Jl(f))uD(g.C());d=f.wv;var c=a,e=b;if(!d.bi.Pi())throw Error("grid not empty");d.aA=c;d.$z=e;f.dv=!1;for(const g of Jl(f))d=g.C(),d.B|=16,WB(d)}}}};"use strict";const OD=self.A;
OD.WU=class extends OD.pa{constructor(a,b){super();this.aA=a;this.$z=b;this.bi=OD.j(OD.Du)}m(){this.bi.m();this.bi=null}Bm(a,b,d){let c=this.bi.W(a,b);return c?c:d?(c=OD.j(OD.eT,this,a,b),this.bi.Set(a,b,c),c):null}Zi(a){a=Math.floor(a/this.aA);return isFinite(a)?a:0}$i(a){a=Math.floor(a/this.$z);return isFinite(a)?a:0}cp(a,b,d){if(b)for(let c=b.V,e=b.da;c<=e;++c)for(let f=b.T,g=b.aa;f<=g;++f){if(d&&d.qg(c,f))continue;const h=this.Bm(c,f,!1);h&&(h.Ke(a),h.Pi()&&this.bi.Bo(c,f))}if(d)for(let c=d.V,
e=d.da;c<=e;++c)for(let f=d.T,g=d.aa;f<=g;++f)b&&b.qg(c,f)||this.Bm(c,f,!0).dE(a)}iz(a,b){let d=this.Zi(a.V);const c=this.$i(a.T),e=this.Zi(a.da);a=this.$i(a.aa);if(isFinite(e)&&isFinite(a))for(;d<=e;++d)for(let f=c;f<=a;++f){const g=this.Bm(d,f,!1);g&&g.HD(b)}}};"use strict";const PD=self.A;PD.eT=class extends PD.pa{constructor(a,b,d){super();this.ma=b;this.fa=d;this.H=PD.j(PD.wD)}m(){this.H.m();this.H=null}Pi(){return this.H.Pi()}dE(a){this.H.Fb(a)}Ke(a){this.H.Bo(a)}HD(a){PD.om(a,Xd(this.H))}};
"use strict";const QD=self.A;QD.K2=class{constructor(){this.dy=this.dx=this.y2=this.x2=this.y1=this.x1=0;this.rect=new QD.Rect;this.hd=0}dc(){}Set(a,b,d,c){this.x1=a;this.y1=b;this.x2=d;this.y2=c;this.dx=d-a;this.dy=c-b;this.rect.set(a,b,d,c);this.rect.normalize();this.hd=0;return this}};"use strict";const N=self.A,RD=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),SD=new Set(["high","low"]),TD=self.Dd.Rj;TD.create();const UD=N.j(N.wd),Ug=N.j(N.Rect);
async function Jq(a,b,d=!1){if(1>b)throw Error("invalid HTML layer count");if(a.Bf.length!==b){d={count:b,immediate:d,marginLeft:a.Ym,marginTop:a.Zm,styleWidth:a.Nc,styleHeight:a.Cc};d=a.wf()?await zl(a.g,"canvas","set-html-layer-count",d):self.c3_runtimeInterface._OnSetHTMLLayerCount(d);if(b<a.Bf.length)a.Bf.length=b;else for(const c of d.addedCanvases){c.width=a.ag;c.height=a.$f;b=VD(a)?"bitmaprenderer":"2d";d=c.getContext(b);if(!d)throw Error(`failed to acquire '${b}' canvas context`);a.Bf.push({canvas:c,
xQ:d})}a.g.ya()}}function WD(a,b,d){a.sJ=b;a.qJ=d}async function XD(a){await a.ke.cz();await a.ik();await YD(a.g);console.log("[Construct] WebGL context restored")}async function ZD(a,b){b={powerPreference:a.CG,depth:a.g.Fh,failIfMajorPerformanceCaveat:b,BR:a.g.Eq,vQ:a.g.ZP,Rx:a.g.gJ};a.Ug=N.j(N.L.xV,{dK:a.sJ,JJ:a.qJ});await a.Ug.va(a.Bf[0].canvas,b)}function cE(a,b){b&&"string"===typeof b.message&&b.message.startsWith("renderer-unavailable")||console.error(`Error creating ${a} renderer: `,b)}
async function dE(a,b){b={alpha:!0,powerPreference:a.CG,DQ:"xbox-uwp-webview2"!==a.g.dg,depth:a.g.Fh,Rx:a.g.gJ,failIfMajorPerformanceCaveat:b,dK:a.sJ,JJ:a.qJ};a.sO&&(b.VQ=1);a.ke=N.j(N.L.sV,a.Bf[0].canvas,b);await a.ke.Jo()}async function eE(a){await a.ik();await YD(a.g);console.log("[Construct] WebGPU device restored")}async function fE(a){if(a.kC){const b=[];for(const [d,c]of Object.entries(a.kC))c.src=c.t$,b.push(a.Ug.Ay(Object.assign({Sq:N.L.zz.br(),name:d},c)));await Promise.all(b)}}
async function gE(a){if(a.kC){const b=[];for(const [d,c]of Object.entries(a.kC)){let e;if(c.yY&&2<=a.ke.wc)c.src=c.yY,e=Bh();else{if(!c.xY)throw Error(`shader '${d}' does not support WebGL 1`);c.src=c.xY;e=N.L.yz.br()}b.push(a.ke.Ay(Object.assign({Sq:e,name:d},c)))}await Promise.all(b);a.ke.Bn=null;Lg(a.ke)}a.ke.zg()&&(a.MA=N.j(N.L.NM,a.ke))}function hE(a){return a.xs?a.AW:a.fu()}function iE(a,b){if(!RD.has(b))throw Error("invalid fullscreen mode");a.RN=b;a=a.g.Wa;Zq(a);$q(a)}
function jE(a,b){if(!SD.has(b))throw Error("invalid fullscreen scaling quality");a.oJ=b;Zq(a.g.Wa)}function kE(a){switch(a){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}function lE(a,b){const d=a.Cc,c=a.Nc/2,e=d/2;b.gl(a.ZF);a=Jg(b,c,e,b.He(d),c,e,d);b.ur(a)}
function VD(a){return"undefined"!==typeof OffscreenCanvas&&a.Bf[0].canvas instanceof OffscreenCanvas&&("Chromium"!==N.U.Of||124<=N.U.NK)}function*mE(a){for(const b of Yq(a.g.Wa))for(const d of b.pc){const c=a.AH.get(d);c&&(yield c)}}
function nE(a){if(isNaN(a.Wv)&&(a.Wv=Ai(a.MA,a.pn,a.Ig),!isNaN(a.Wv))){if(a.g.zb)for(var b of mE(a))if(b.VC=Ai(b.DK,a.pn,a.Ig),isNaN(b.VC))return;Bi(a.MA,a.Ig);a.nn=Math.min(a.Wv,1);if(a.g.zb){const c=new Map;for(const e of mE(a))Bi(e.DK,a.Ig),e.ZJ=Math.min(e.VC,1),c.set(e.Hq,e.ZJ);for(var d of mE(a))b=d.Hq,b=(c.get(b)||0)-b.ge.reduce((e,f)=>e+(c.get(f)||0),0),d.UQ=N.ia(b,0,1);d=a.nn-a.g.Cb().bf.reduce((e,f)=>e+(c.get(f)||0),0);self.Jh.lV(N.ia(d,0,1),a.nn,[...mE(a)])}a.pn=a.Ig;a.Ig=0}}
function oE(a){if(0!==a.Ig){for(var b=a.pn;b<a.Ig;++b){var d=a.PC.get(b);if(d&&!d.wu())return}b=a.g.Cb();d=N.WT(b.pc.length+1);var c=0;for(let f=a.pn;f<a.Ig;++f){var e=a.PC.get(f);if(!e)continue;e=e.nu();let g=BigInt(0),h=BigInt(0);const k=BigInt(0);for(let l=0,m=Math.min(d.length,e.length/2);l<m;++l){const n=e[2*l],p=e[2*l+1];n!==k&&(g===k||n<g)&&(g=n);p>h&&(h=p);d[l]+=Number(p-n)/1E9}c+=Number(h-g)/1E9}a.nn=N.ia(c,0,1);if(a.g.zb){c=b.pc;const f=new Map;for(let h=0,k=Math.min(c.length,d.length-1);h<
k;++h)f.set(c[h],d[h+1]);d=[];const g=new Map;for(const [h,k]of f)c=[...rp(h)].reduce((l,m)=>l+(f.get(m)||0),0),g.set(h,c),d.push({name:h.ka(),UQ:N.ia(k,0,1),ZJ:N.ia(c,0,1)});b=a.nn-b.bf.reduce((h,k)=>h+(g.get(k)||0),0);self.Jh.lV(N.ia(b,0,1),a.nn,d)}for(b=a.pn;b<a.Ig;++b)a.PC.delete(b);a.pn=a.Ig;a.Ig=0}}
function pE(a){if(a.oC){var b=a.Bf[0].canvas,d=a.DP,c=N.ia(Math.floor(d.V),0,b.width),e=N.ia(Math.floor(d.T),0,b.height),f=d.width();f=0===f?b.width-c:N.ia(Math.floor(f),0,b.width-c);d=d.height();d=0===d?b.height-e:N.ia(Math.floor(d),0,b.height-e);if((0!==c||0!==e||f!==b.width||d!==b.height)&&0<f&&0<d){const g=N.tg(f,d);g.getContext("2d").drawImage(b,c,e,f,d,0,0,f,d);b=g}N.AD(b,a.oC,a.EI).then(g=>{a.ix&&URL.revokeObjectURL(a.ix);a.ix=URL.createObjectURL(g);a.hx=null;a.EP(a.ix)});a.oC="";a.EI=1}}
async function qE(a){var b=(new URL("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIxNzAwLjc5MDA0cHgiIGhlaWdodD0iMTcwMC43OTAwNHB4IiB2aWV3Qm94PSIyODcgMzE3IDExMjUgMTEyNSINCgkgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTcwMC43OTAwNCAxNzAwLjc5MDA0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJsb2dvIj4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTM1NC45Nzc1NCwxMTk1LjYyMzA1DQoJCQkJYzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NjI5LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOGwtNC45MzI2Miw4LjU0MTk5DQoJCQkJYy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNjU2LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMzMiwwLDUuOTYxOTEtMC40NDMzNiw4LjcyNjU2LTEuMjY4NTVjNi4yOTQ5Mi0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTczOCw2LjUwMDk4bDQuOTMxNjQsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM4NDgsNS43MzQzOGMtOS4wMDM5MSw1LjYwMTU2LTE5LjYzMTg0LDguODM3ODktMzEuMDE2Niw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzI5Ni4xNTgyLDEyMjEuOTU3MDMsMzIyLjQ5MjE5LDExOTUuNjIzMDUsMzU0Ljk3NzU0LDExOTUuNjIzMDUNCgkJCQlMMzU0Ljk3NzU0LDExOTUuNjIzMDV6IE03MDMuMjE0ODQsMTI1OS4xNzU3OGMtMTQuNTU5NTctOS44MTczOC0yMC4yMDMxMy0yMC4wMzIyMy0yMC4yMDMxMy0zMy4wODAwOA0KCQkJCWMwLTE4LjQ4OTI2LDE1LjcxNDg0LTI5Ljc2MzY3LDM4LjI2NjYtMjkuNzYzNjdjOS42NTcyMywwLDE4LjcyMTY4LDIuNTQyOTcsMjYuNTU5NTcsNi45OTQxNA0KCQkJCWMyLjA0OTgsMS4xNjQwNiwyLjc2MTcyLDMuNzgzMiwxLjU4MzAxLDUuODI0MjJsLTMuNDE3OTcsNS45MTk5MmMtMy4yNDcwNyw1LjYyNDAyLTkuOTA4Miw4LjMzMTA1LTE2LjE1MzMyLDYuNTQ4ODMNCgkJCQljLTIuNzIzNjMtMC43NzYzNy01LjU5ODYzLTEuMTkyMzgtOC41NzEyOS0xLjE5MjM4Yy0xMC40OTAyMywwLTExLjU5ODYzLDkuNTc2MTctNC44NTc0MiwxNC4xMjMwNWwyMy42ODY1MiwxNS45NzY1Ng0KCQkJCWM5Ljk5MDIzLDYuNzM4MjgsMTUuODk1NTEsMTcuMDY2NDEsMTUuODk1NTEsMjguNzE4NzVjMCwxOC43ODYxMy0xNS4wMDY4NCwzMy4zMDc2Mi0zOC4yNjc1OCwzMy4zMDc2Mg0KCQkJCWMtOS41MjI0NiwwLTE4LjU4Nzg5LTEuOTU3MDMtMjYuODE1NDMtNS40OTAyM2MtNy43ODEyNS0zLjMzOTg0LTEwLjkzMzU5LTEyLjc4MjIzLTYuNjk3MjctMjAuMTE4MTZsMy40ODczLTYuMDQxOTkNCgkJCQljMS4yMTM4Ny0yLjA5OTYxLDMuOTMxNjQtMi43NTk3Nyw1Ljk3NDYxLTEuNDU2MDVjNi44NTkzOCw0LjM4MjgxLDE2LjQ5MDIzLDcuNTk0NzMsMjQuNzU4NzksNy41OTQ3Mw0KCQkJCWMxMC41NDU5LDAsMTEuMzI4MTMtOS45NTg5OCwzLjc2NzU4LTE1LjA1NzYyTDcwMy4yMTQ4NCwxMjU5LjE3NTc4TDcwMy4yMTQ4NCwxMjU5LjE3NTc4eiBNOTg0LjYzMDg2LDEyMDIuMDAwOTgNCgkJCQljMC0yLjM0NzY2LDEuOTAzMzItNC4yNTE5NSw0LjI1MTk1LTQuMjUxOTVoOS45MjE4OGM3LjgyNzE1LDAsMTQuMTcyODUsNi4zNDU3LDE0LjE3Mjg1LDE0LjE3MzgzdjU3LjQwMTM3DQoJCQkJYzAsOC42MTAzNSw2Ljk4MDQ3LDE1LjU5MDgyLDE1LjU5MDgyLDE1LjU5MDgyczE1LjU5MDgyLTYuOTgwNDcsMTUuNTkwODItMTUuNTkwODJ2LTU3LjQwMTM3DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoOS45MjA5YzIuMzQ4NjMsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2NjcuMzIzMjQNCgkJCQljMCwyNC4yNjU2My0xOS42NzA5LDQzLjkzNzUtNDMuOTM2NTIsNDMuOTM3NXMtNDMuOTM3NS0xOS42NzE4OC00My45Mzc1LTQzLjkzNzVWMTIwMi4wMDA5OEw5ODQuNjMwODYsMTIwMi4wMDA5OHoNCgkJCQkgTTQ2Ni44NjkxNCwxMTk1LjYyMzA1YzMyLjQ4NDM4LDAsNTguODE4MzYsMjYuMzMzOTgsNTguODE4MzYsNTguODE5MzRjMCwzMi40ODQzOC0yNi4zMzM5OCw1OC44MTkzNC01OC44MTgzNiw1OC44MTkzNA0KCQkJCWMtMzIuNDg2MzMsMC01OC44MTkzNC0yNi4zMzQ5Ni01OC44MTkzNC01OC44MTkzNEM0MDguMDQ5OCwxMjIxLjk1NzAzLDQzNC4zODI4MSwxMTk1LjYyMzA1LDQ2Ni44NjkxNCwxMTk1LjYyMzA1DQoJCQkJTDQ2Ni44NjkxNCwxMTk1LjYyMzA1eiBNNDY2Ljg2OTE0LDEyMjUuMDMzMmMtMTYuMjQzMTYsMC0yOS40MTAxNiwxMy4xNjY5OS0yOS40MTAxNiwyOS40MDkxOA0KCQkJCXMxMy4xNjY5OSwyOS40MDgyLDI5LjQxMDE2LDI5LjQwODJjMTYuMjQxMjEsMCwyOS40MDgyLTEzLjE2NjAyLDI5LjQwODItMjkuNDA4MlM0ODMuMTEwMzUsMTIyNS4wMzMyLDQ2Ni44NjkxNCwxMjI1LjAzMzINCgkJCQlMNDY2Ljg2OTE0LDEyMjUuMDMzMnogTTU1Ni43MzI0MiwxMzExLjEzNDc3Yy0yLjM0NzY2LDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtOTQuOTYxOTENCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzM4My0xNC4xNzM4M2gzLjk1ODk4YzQuNjI1LDAsOC45NTg5OCwyLjI1Njg0LDExLjYxMTMzLDYuMDQ1OWw0MS4xMjIwNyw1OC43NDcwN3YtNTAuNjE5MTQNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2g5LjkyMTg4YzIuMzQ3NjYsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2OTQuOTYwOTQNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3MzgzLDE0LjE3Mjg1aC0zLjk1ODk4Yy00LjYyNSwwLTguOTU4OTgtMi4yNTU4Ni0xMS42MTEzMy02LjA0NDkybC00MS4xMjIwNy01OC43NDYwOXY1MC42MTgxNg0KCQkJCWMwLDcuODI5MS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVINTU2LjczMjQyTDU1Ni43MzI0MiwxMzExLjEzNDc3eiBNMTIxNS4wMjA1MSwxMjExLjkyMjg1DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoNTAuMzE1NDNjMi4zNDg2MywwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyDQoJCQkJYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVoLTYuMDI0NDF2NzUuMTE4MTZjMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMTg4DQoJCQkJYy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtODUuMDQxMDJoLTE1Ljk0NDM0Yy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMzMyLTQuMjUxOTUtNC4yNTE5NVYxMjExLjkyMjg1DQoJCQkJTDEyMTUuMDIwNTEsMTIxMS45MjI4NXogTTc3Ni40NDkyMiwxMjExLjkyMjg1YzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTczODMtMTQuMTczODNoNTAuMzE0NDUNCgkJCQljMi4zNDk2MSwwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcxODgsMTQuMTcyODVoLTYuMDI1Mzl2NzUuMTE4MTYNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMDljLTIuMzQ5NjEsMC00LjI1MTk1LTEuOTAyMzQtNC4yNTE5NS00LjI1di04NS4wNDEwMmgtMTUuOTQ1MzENCgkJCQljLTIuMzQ3NjYsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMTEuOTIyODVMNzc2LjQ0OTIyLDEyMTEuOTIyODV6IE05MjkuNjA0NDksMTI3Mi4wMjI0NmwyNi45NTgwMSwzMi4xMjc5Mw0KCQkJCWMyLjMxNDQ1LDIuNzU3ODEsMC4zNDM3NSw2Ljk4NDM4LTMuMjU2ODQsNi45ODQzOGgtMTkuNzA1MDhjLTQuMTg5NDUsMC04LjE2NTA0LTEuODUxNTYtMTAuODU3NDItNS4wNjA1NWwtMjIuNjgxNjQtMjcuMDMxMjUNCgkJCQl2MjcuODQxOGMwLDIuMzQ3NjYtMS45MDMzMiw0LjI1LTQuMjUxOTUsNC4yNWgtOS45MjA5Yy03LjgyNzE1LDAtMTQuMTcyODUtNi4zNDM3NS0xNC4xNzI4NS0xNC4xNzI4NXYtODUuMDM5MDYNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2gyOS43NjM2N2MyMi43MDAyLDAsNDEuMTAyNTQsMTcuMTMzNzksNDEuMTAyNTQsMzguMjY4NTUNCgkJCQlDOTU2Ljc1NDg4LDEyNTIuNTkwODIsOTQ1LjQzNjUyLDEyNjYuNzAyMTUsOTI5LjYwNDQ5LDEyNzIuMDIyNDZMOTI5LjYwNDQ5LDEyNzIuMDIyNDZ6IE05MDAuMDYxNTIsMTIyMS44NDM3NXYzMi41OTg2M2g4LjUwMzkxDQoJCQkJYzEwLjk1ODk4LDAsMTkuODQyNzctNy4yOTc4NSwxOS44NDI3Ny0xNi4yOTg4M2MwLTkuMDAxOTUtOC44ODM3OS0xNi4yOTk4LTE5Ljg0Mjc3LTE2LjI5OThIOTAwLjA2MTUyTDkwMC4wNjE1MiwxMjIxLjg0Mzc1eg0KCQkJCSBNMTE1OC4zNTkzOCwxMTk1LjYyMzA1YzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NzI3LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOA0KCQkJCWwtNC45MzI2Miw4LjU0MTk5Yy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNTU5LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMyMjMsMCw1Ljk2MDk0LTAuNDQzMzYsOC43MjU1OS0xLjI2ODU1YzYuMjk1OS0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTgzNiw2LjUwMDk4bDQuOTMwNjYsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM3NSw1LjczNDM4Yy05LjAwNDg4LDUuNjAxNTYtMTkuNjMyODEsOC44Mzc4OS0zMS4wMTc1OCw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzEwOTkuNTQwMDQsMTIyMS45NTcwMywxMTI1Ljg3NDAyLDExOTUuNjIzMDUsMTE1OC4zNTkzOCwxMTk1LjYyMzA1eiIvPg0KCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMEZGREEiIGQ9Ik0xMzE4LjE5NzI3LDEyMDYuMDMyMjMNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2MyMC42NTYyNSwwLDQxLjMxMjUsMCw2MS45Njg3NSwwYzMuNDI5NjksMCw1LjQ1MDIsMy44ODA4NiwzLjQ4MzQsNi42OTA0Mw0KCQkJCWwtMTkuMjk2ODgsMjcuNTY3MzhjMTUuNTQyOTcsOC4zNzU5OCwyNi4xMDY0NSwyNC44MDA3OCwyNi4xMDY0NSw0My42OTUzMWMwLDI3LjM5NzQ2LTIyLjIwODk4LDQ5LjYwNjQ1LTQ5LjYwNjQ1LDQ5LjYwNjQ1DQoJCQkJYy0xNi42ODg0OCwwLTMxLjQ1MTE3LTguMjQwMjMtNDAuNDQzMzYtMjAuODc1OThjLTEuNDUwMi0yLjAzOTA2LTAuODMxMDUtNC44OTk0MSwxLjMzNTk0LTYuMTUyMzRsMTAuOTc3NTQtNi4zMzc4OQ0KCQkJCWM0Ljg4MTg0LTIuODE4MzYsMTAuOTc5NDktMi40NzU1OSwxNS41MTQ2NSwwLjg3MzA1YzMuNTI4MzIsMi42MDU0Nyw3Ljg5MTYsNC4xNDY0OCwxMi42MTUyMyw0LjE0NjQ4DQoJCQkJYzExLjc0MjE5LDAsMjEuMjU5NzctOS41MTg1NSwyMS4yNTk3Ny0yMS4yNTk3N3MtOS41MTc1OC0yMS4yNTk3Ny0yMS4yNTk3Ny0yMS4yNTk3N2gtMTUuMjE3NzcNCgkJCQljLTMuNDI5NjksMC01LjQ1MDItMy44ODA4Ni0zLjQ4NDM4LTYuNjkwNDNsMTguMTM1NzQtMjUuOTA4MmgtMzIuMDA5NzdjLTIuMzQ4NjMsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMDYuMDMyMjN6DQoJCQkJIi8+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0RBRThGNyIgZD0iTTg1MC4zOTU1MSw4NTcuNTkxOA0KCQkJCQljLTUwLjM1NjQ1LDAtOTQuMzI1Mi0yNy4zNTY0NS0xMTcuODUyNTQtNjguMDIwNTFsLTgwLjAzMDI3LDQ2LjIwNDFjLTQuNjU1MjcsMi42ODk0NS02LjEzMTg0LDguNzE4NzUtMy4yNDkwMiwxMy4yNTU4Ng0KCQkJCQljNDIuMjM3Myw2Ni40ODYzMywxMTYuNTMzMiwxMTAuNjA3NDIsMjAxLjEzMTg0LDExMC42MDc0MmM4OC4xMjU5OCwwLDE2NS4wNzEyOS00Ny44NzUsMjA2LjI0MzE2LTExOS4wMzYxM2wtODAuNDg3My00Ni40Njk3Mw0KCQkJCQljLTQuMzEzNDgtMi40OTAyMy05LjgwMTc2LTEuMjA1MDgtMTIuNTcwMzEsMi45MzU1NUM5MzkuMTc1NzgsODMzLjU2MjUsODk3LjU5MTgsODU3LjU5MTgsODUwLjM5NTUxLDg1Ny41OTE4DQoJCQkJCUw4NTAuMzk1NTEsODU3LjU5MTh6IE0xMTM2LjcyMTY4LDU1Ni4yMTc3N2M0LjYxNDI2LTIuNjYzMDksNi4xMTAzNS04LjYxOTE0LDMuMzEyNS0xMy4xNTEzNw0KCQkJCQljLTU5LjkxNTA0LTk3LjAzMDI3LTE2Ny4yMjQ2MS0xNjEuNjk0MzQtMjg5LjYzODY3LTE2MS42OTQzNGMtMTI1Ljg5MzU1LDAtMjM1LjgxMzQ4LDY4LjM5MjU4LTI5NC42MzM3OSwxNzAuMDQ5OA0KCQkJCQlsODAuMzc2OTUsNDYuNDA2MjVjNC4zOTc0NiwyLjUzOTA2LDEwLjAwMTk1LDEuMTQ5NDEsMTIuNzEwOTQtMy4xNDU1MQ0KCQkJCQljNDIuMTY0MDYtNjYuODUxNTYsMTE2LjY2ODk1LTExMS4yNjM2NywyMDEuNTQ1OS0xMTEuMjYzNjdjODguMTI1OTgsMCwxNjUuMDcxMjksNDcuODc1OTgsMjA2LjI0MzE2LDExOS4wMzYxMw0KCQkJCQlMMTEzNi43MjE2OCw1NTYuMjE3Nzd6Ii8+DQoJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNBNUJBQzgiIGQ9Ik04NTAuMzk1NTEsOTU5LjYzODY3DQoJCQkJCWMtODQuNTk4NjMsMC0xNTguODk0NTMtNDQuMTIxMDktMjAxLjEzMTg0LTExMC42MDc0MmMtMi44NzY5NS00LjUzMDI3LTEuMzk5NDEtMTAuNTcwMzEsMy4yNDkwMi0xMy4yNTU4Nmw4MC4wMzAyNy00Ni4yMDQxDQoJCQkJCWMtMTEuNTgxMDUtMjAuMDE2Ni0xOC4yMDk5Ni00My4yNTQ4OC0xOC4yMDk5Ni02OC4wNDE5OWMwLTc0Ljc4NTE2LDYwLjU1NzYyLTEzNi4wNjI1LDEzNi4wNjI1LTEzNi4wNjI1DQoJCQkJCWM0Ny4xOTYyOSwwLDg4Ljc4MDI3LDI0LjAyOTMsMTEzLjE4NTU1LDYwLjUyMjQ2YzIuNzY0NjUsNC4xMzM3OSw4LjI2MzY3LDUuNDIxODgsMTIuNTcwMzEsMi45MzU1NWw4MC40ODczLTQ2LjQ2OTczDQoJCQkJCWMtNDEuMTcxODgtNzEuMTYwMTYtMTE4LjExNzE5LTExOS4wMzYxMy0yMDYuMjQzMTYtMTE5LjAzNjEzYy04NC44NzY5NSwwLTE1OS4zODE4NCw0NC40MTIxMS0yMDEuNTQ1OSwxMTEuMjYzNjcNCgkJCQkJYy0yLjcwNjA1LDQuMjkxMDItOC4zMTgzNiw1LjY4MTY0LTEyLjcxMDk0LDMuMTQ1NTFsLTgwLjM3Njk1LTQ2LjQwNjI1DQoJCQkJCWMtMjguOTUyMTUsNTAuMDQwMDQtNDUuNTIzNDQsMTA4LjEzOTY1LTQ1LjUyMzQ0LDE3MC4xMDc0MmMwLDE4Ni45NjM4NywxNTEuMzk0NTMsMzQwLjE1NzIzLDM0MC4xNTcyMywzNDAuMTU3MjMNCgkJCQkJYzEyMi40MTQwNiwwLDIyOS43MjM2My02NC42NjQwNiwyODkuNjM4NjctMTYxLjY5NTMxYzIuNzk0OTItNC41MjYzNywxLjI5NDkyLTEwLjQ5MDIzLTMuMzEyNS0xMy4xNTEzN2wtODAuMDgzMDEtNDYuMjM3Mw0KCQkJCQlDMTAxNS40NjY4LDkxMS43NjM2Nyw5MzguNTIxNDgsOTU5LjYzODY3LDg1MC4zOTU1MSw5NTkuNjM4Njd6Ii8+DQoJCQk8L2c+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzAwRkZEQSIgZD0iTTExMzcuMTg1NTUsNzU4LjExMzI4di03My4xNjc5N2wtNjMuMzY1MjMsMzYuNTgzOTgNCgkJCQlMMTEzNy4xODU1NSw3NTguMTEzMjhMMTEzNy4xODU1NSw3NTguMTEzMjh6IE0xMDI2LjU3NjE3LDcwNS4xNjQwNmwxMjAuMDU4NTktNjkuMzE2NDENCgkJCQljMTIuNTY4MzYtNy4yNTU4NiwyOC4zNDQ3MywxLjg1MjU0LDI4LjM0NTcsMTYuMzY2MjF2MTM4LjYzMDg2Yy0wLjAwMDk4LDE0LjUxMjctMTUuNzc3MzQsMjMuNjIyMDctMjguMzQ1NywxNi4zNjYyMQ0KCQkJCWwtMTIwLjA1ODU5LTY5LjMxNjQxQzEwMTQuMDI4MzIsNzMwLjY0OTQxLDEwMTQuMDI4MzIsNzEyLjQwOTE4LDEwMjYuNTc2MTcsNzA1LjE2NDA2eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=",
a.g.yP)).toString();b=await N.Rk(b);b=await rE(a.g,b);return await a.wa().Tt(b,{by:"high"})}async function sE(a,b){b=(new URL(b,a.g.yP)).toString();b=await N.Rk(b);return await a.wa().Tt(b,{by:"high"})}
function tE(a,b){const d=a.wa();2===b?(a.Pg=N.j(N.L.BE,a.wa()),ii(a.Pg),ji(a.Pg),li(a.Pg),mi(a.Pg,"center"),a.Pg.Vd(300,200)):0===b?(b=a.g.Yp)&&b.oE(d).catch(c=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",c)):4===b&&(qE(a).then(c=>{"done"===a.Hj?d.Zg(c):a.og.ay=c}).catch(c=>console.warn("Failed to load splash image: ",c)),sE(a,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAmd137hFVqjO7zCKIRGZ881JRAAAFY0lEQVR42u2aPW/bVhSGn1iiPizZ8D+QgSJBNglFmiboQA0NUKAD1XotYA0BOspAkZnqx24vnTrIQNCpg4QkQMcYKDoW9j9w5y6qLNqWFDlvh3tJUa6ddHBhAuS7SKBIQffhuee851CQKVOmTJkyZcqUKXmqa8O+uyNlABKsFRmdP0o5AOle2gHoWdoBzFrpBHACwPeetJNmAFSlt6kGwGH0LqUAVqRuqgHkpEaqAVRkfvOWr+Dh9Rc4j6VvwnrhPNAbgK2ezj+yx7Z6GjUuASi4Ch4lHQAGwBeRK1rROQAdUx5K0hE4NUkaAdS02ZEuoms2wkCSgvYSgFJfkn6CobkSPG0mEcAOrHnGFOxAToHNjk/MygLgO/PxL0BN9yRdQKlufMQAoCdJGi8BOJYknXTJ269cu9HtdqNb4Ni6oimUbFb0dAZQ1DmULJ+TFtT0qQHwg73mLlCMfFUMQPR5VWrbmttNHICC1KDiSZ+w3pMOwFPDhP4IYFtv4ZX0nIorbUBNmjWAiqdZg5fmNFd6jvPhJQDjAV9LI0r28IpmycsBZalNWfoRWJcuoKY9c7cCkwpOwdcIqNT1BmrSgQkNbQAvpAGOF+aHOIBpCxhKR/TVBNjVOHkAOgrg2N6aoU7sklmVidtD7bNm/fIrjaBmk+Sxea142iBnTyguAfjZZscNXLOdXFM8EgVgXRpDz/6yonTEts6AXdV1APTVoKigFSXEmj3XN0kSV01WFQwAHC8O4Mhagye8NgHS137SALzsS3dxwhtXkQ4oaw64eqomOFKXbc2xJbFLTX8DOHYnsKsJu2Gdu8IIuTqjrMB8eyM5ACIFXQo2S5t7lNMM6AdFTaCgADqahHW8EQIohBk9rzEdE+JXAtjVmHWpDTmplUAA96Ea/bJDnVKSWjgaFTSHqubgmjVDXQchgFy4wBXNcXV6LYC8RjbEypomcCAyBopRShxqAn21yenM8WawqjOoKVbmLYBFndeImsnyVwJY1RR8NW1FTRiA6UNTCsP6fKwLONQBZTXx1WVbT0KbtwygvAxg81oAZU0xe2QYxkmyrDDx2DzWBXTUZFs7dNQwHUEMwN4VAKb47wOQ1wj8Gx0+/Y8A8powVJtt7XOoxn8A8N4IqCrA8cJUmzgAl3JAUWN8tSjqDX0NwI/XbwugGLe178oBK7bBaBesm0gggOUqwLrOHe8c1jV2NAMOw/XFAFRth2dr/burANS1cSc0C8kDsB7zAZvgKCjoLTiaFqwpmvwLQC7e2b3PB4CrZj48KXkAKktOEPr6VqeAr680udzEWACluK0LreJ1ThBe6+w4HkfJAhD1AtbAu3qgPcDVX2oCK9bqxwFQ1+fRsVW7va/uBZpAWaND652TCGBoM1rHHN6VmQlsq6cdE+4mC75oLAC49prKB1zTDd6NukHIKahbIkkEsGrmAQWZbZqXNLClrg04dTP4KnjnCwBfmgkZT7WD45k94C8BmA3MPGBgeqcbfQBxwwDsRMi3N7Iqc3dzsuVhV5ofkevpJOoGKUn6Ax5L92F49USoayZCls08uQDiM0ETCWPb8k7DMmH02SICGC7ayVhnsABwEpsZQkfxUpI4ALGpsFn4xCbHcVjnwgnvAkBh0U6CbzqrXgzA1E6FB9YOJGcacgUAfl36t0Ro/SIDUDEL/D1WBcJr5q0oRoJ2LQZgZJ4LPIu2RCPJAJafDLm2Yr2OHmQ4H0vzBksA2PKl38L3fY0aLAFYejK0ZpJhelVKzkj8dlRNzkj8dpRP0DTkVjTUXroB9PVnqtefS9I05BZU8NOdAyUl5q8RtwUg6KYcwP1Up8CanpMpU6ZMmTLdgP4BRYsi23xEdOAAAAAASUVORK5CYII=").then(c=>
{"done"===a.Hj?d.Zg(c):a.og.hy=c}).catch(c=>console.warn("Failed to load splash image: ",c)),sE(a,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAdxHdu4hmVZnuRMwzqiLYE4y2AAAFw0lEQVR42u2Yy+9LQRTHp6Xq0VIkXkFvwkYslAWJiGJj2a6sJJe/oF3YWGElEQmxkYi4ErFWNpatWFmIx9Lm1sJCLKgqraqv82h726l6hOuRzDf53TtnOr+ZOZ+ZOffca5ycnJycnJycnJycnJycnJz+pi7g2G9osxjvzX8qB8ABcAAcgH8XwDa85dspNOiaRDuAR4U0PnHtDuyy7IJRJS6gvVmL6TywVkp4ZxIhulUxFvlaXQTrgEHbnMDH5XRjlXCdb+uAnc2ojWgFFTYBZ8e9tzcaswAk6v/3K4sPfPNRFj87IXj+KXQUS9m2jXoH1lMuLq2DtEcAtNMBT9PjanFq7ySAhbABVEAaeDaAwkk2D7GRqctAMQJIq2sBauLnB/VxCfqKpWrbRhSC1W5SMQ9RTgBUwKpF1ccmAIQ2gCxE+20Au9nSESvDgeIDkJSBMpA9vgyXdsj0H0GORL3n2fbwPOKoSQS4Q2cBOGzSJbQYAHDbZEI+rEuBcyZRlF71fIP/x0wBuIBOw6xH3xu2GQFAP2cegmvSwHkeqBZjECzB46UXD3bg8UKJCT6QYzgDY9uiU7hC11doERq6MAZ2CPJ7ipEulOrteDcB4KOZBpBG7zrV1JGzATzmIdnrl/go3bRiBJBHlZc+6ItjuQQ+yFLz8Gka2LZFRVTFGdoQJQ0LPodHnXkS8AjlRWkBLwKQswAs0PDzGpcsAAMNuG+5WgdqxwjgEcp8qcBjN5oZdPhEvOfhU/hsbJuVloWV6WWgp2IBLxXQNEwLDfKqoMXrEQBjATiFA3qePlgAZJRl+EStdaAQjfgALOC1zfeX8ALV+7S69JdALWjxHGqztmxyMnTD6OOBWvAdGDkn60c6vrI5H4CPnOJsWQDe8G0hIU0MB8ojFx+AFAeqeitLy5FkL3w0yNNcSOx3oDxjjxaH9XxldZluY5NBfwrAQvQbRjQXAO8UqVq5dh6A7HCgWzgdFwBdgOX4lMZbTndkWWkDN07Bk+zItllLdHm1+FkLwBSADNDf8B0AnGOp5gFYgJEexwcgGQx4iyeD9ybFkWsbDZbv0+2Y8XvGtqMpWsUimpMAzA1AUrj5ALjm2wCoONKB+ACYsEeDlU04MMs4imeJQqljslSuD4xl/zgAsx6ku/8DgDwaO9AwFU56qhzOPiXpKCzCpSSdb8v+CQDmXshb99cARAPFCOA1chWaFXlP55yn2FqEgiFvOSzYtmiJzisKB7MxQPS8iO63YsD3AHDv8QPgjR92eKuf9vts1wdZjvZhN4XajD35FNDiR7ln0LYBaILY+OZT4DsA+BkTP4AUrgXkxSJcDFps+72X7EGlx6mBbU/lAbdQjvKA7hSAlSuHxdw0gORsHrAUnXkAUuj+AQAZdHGRp9bShX2ECz1JRSk4zNhRJqj5SZQJfpgCUNS2eRsAP/usTDAxPxFKA834AZgAOM1z6qGgxxpdmUDQNjP25LtAsojxu0AehSkAF6RLXWR/EkAdVYEevQtswVtpMwuAB1JGh2jbxQcgBKrig/qSxTD6o2Nm7fttSY6uUnErV+jb4CJyaArAI5luJkCDOy5HAPISSB5A3wYbhJERahvtPALAAw2EI9Vzsh2TTuk23qEceN9d4vVVv227hNroe0CRi/o9IKTZTQFIAc/M8jwGEiouG2/042u8u25uAuPvAavRH7XhzqcBpICdRpssRa+aNLFoh2JeyBzU08fih/ht20WZXghW34s+/ZQnAKhzojsSH4CC/sjARPKamLXacOfTAIwfNSkCbROLluG9Tm2gdl3PY178tu2SBIpFQ6fHH//2GAvAogCkjtGDEAFQYPsu6DdBqw11bgFIF8dNHsQGIEFRSDOe0RS9YYJk23JMrw+/Cr9bFX0VXmNsACbhA088qXhBrMYAlq8Gjhh//FX4YNSGO7cASO9n9B99AuHk5OTk5OTk5OTk5OTk5OTk5OT0VX0B7+fX+9cwWYYAAAAASUVORK5CYII=").then(c=>
{"done"===a.Hj?d.Zg(c):a.og.ny=c}).catch(c=>console.warn("Failed to load splash image: ",c)))}function uE(a){le(a.g,"runtime","hide-cordova-splash")}function vE(a){if(-1!==a.Be){var b=a.wa();b.xr();a.Be=-1;var d=a.g.rd.GG,c=a.g.Ms;3!==c&&(lE(a,b),b.Yg(0,0,0,0),Ti(b),Lg(b),b.te(null));if(0===c)wE(a,d);else if(1===c)xE(a,d,120,0);else if(2===c)yE(a,d);else if(3!==c)if(4===c)zE(a,d);else throw Error("invalid loader style");b.Am();a.Be=requestAnimationFrame(()=>vE(a))}}
function AE(a){a.zw=Date.now();a.g.lb().addEventListener("loadingprogress",a.FH);a.Be=requestAnimationFrame(()=>vE(a));3!==a.g.Ms&&uE(a)}
async function BE(a){const b=a.wa();a.Dn=1;const d=a.g.Ms;4===d&&await a.GP;a.JI=null;a.GP=null;-1!==a.Be&&(cancelAnimationFrame(a.Be),a.Be=-1);a.g.lb().removeEventListener("loadingprogress",a.FH);a.FH=null;a.Pg&&(a.Pg.m(),a.Pg=null);var c=a.g;c.Yp&&(c.Yp.Km(),c.Yp.m(),c.Yp=null);b.xr();a.og.ay&&(b.Zg(a.og.ay),a.og.ay=null);a.og.hy&&(b.Zg(a.og.hy),a.og.hy=null);a.og.ny&&(b.Zg(a.og.ny),a.og.ny=null);b.Yg(0,0,0,0);b.Am();a.Hj="done";a.pn=b.Ue;3===d&&uE(a)}
function wE(a,b){const d=a.wa();var c=a.g.Yp;if(c)if(c=c.Rc()){var e=c.S(),f=c.R(),g=a.Nc/2,h=a.Cc/2,k=e/2;f/=2;var l=g-k,m=h-f;g+=k;h+=f;UD.set(l,m,g,m,g,h,l,h);d.te(c);d.wd(UD);xE(a,b,e,f+16)}else xE(a,b,120,0);else xE(a,b,120,0)}function xE(a,b,d,c){const e=a.wa();e.hk(e.kx);b?e.Me(1,0,0,1):e.Me(.118,.565,1,1);b=a.Nc/2;const f=a.Cc/2,g=d/2;Bd(Ug,b-g,f-4+c,Math.floor(d*a.Dn),8);e.Rect(Ug);Bd(Ug,b-g,f-4+c,d,8);Ug.offset(-.5,-.5);Ed(Ug,.5,.5);e.Me(0,0,0,1);Tg(e);Ed(Ug,1,1);e.Me(1,1,1,1);Tg(e)}
function yE(a,b){b?(b=a.Pg,nd(Wh,1,0,0),b.el(Wh)):(b=a.Pg,nd(Wh,.6,.6,.6),b.el(Wh));a.Pg.wr(Math.round(100*a.Dn)+"%");var d=a.Nc/2,c=a.Cc/2;b=d-150;var e=c-100;d+=150;c+=100;UD.set(b,e,d,e,d,c,b,c);b=a.wa();b.te(a.Pg.Rc());b.Jm(UD,a.Pg.Aj)}
function zE(a,b){const d=a.wa(),c=a.og.ay,e=a.og.hy,f=a.og.ny,g=Date.now();0===a.LI&&(a.zw=g);const h=a.g.zu()||a.g.ZW&&!CE(a.g),k=h?0:200,l=h?0:3E3;let m=1;"fade-in"===a.Hj?m=Math.min((g-a.zw)/300,1):"fade-out"===a.Hj&&(m=Math.max(1-(g-a.KI)/300,0));d.hk(d.kx);d.Me(.231*m,.251*m,.271*m,m);Ug.set(0,0,a.Nc,a.Cc);d.Rect(Ug);const n=Math.ceil(a.Nc),p=Math.ceil(a.Cc);let q;256<a.Cc?(d.Me(.302*m,.334*m,.365*m,m),q=Math.max(.005*p,2),Bd(Ug,0,.8*p-q/2,n,q),d.Rect(Ug),b?d.Me(m,0,0,m):d.Me(.161*m,.953*m,.816*
m,m),b=n*a.Dn,Bd(Ug,.5*n-b/2,.8*p-q/2,b,q),d.Rect(Ug),d.Me(m,m,m,m),Lg(d),e&&(b=1.5*N.ia(.22*p,105,.6*n),q=b/8,Bd(Ug,.5*n-b/2,.2*p-q/2,b,q),d.te(e),d.Rect(Ug)),c&&(q=b=Math.min(.395*p,.95*n),Bd(Ug,.5*n-b/2,.485*p-q/2,b,q),d.te(c),d.Rect(Ug)),f&&(b=1.5*N.ia(.22*p,105,.6*n),q=b/8,Bd(Ug,.5*n-b/2,.868*p-q/2,b,q),d.te(f),d.Rect(Ug))):(d.Me(.302*m,.334*m,.365*m,m),q=Math.max(.005*p,2),Bd(Ug,0,.85*p-q/2,n,q),d.Rect(Ug),b?d.Me(m,0,0,m):d.Me(.161*m,.953*m,.816*m,m),b=n*a.Dn,Bd(Ug,.5*n-b/2,.85*p-q/2,b,q),d.Rect(Ug),
d.Me(m,m,m,m),Lg(d),c&&(q=b=.55*p,Bd(Ug,.5*n-b/2,.45*p-q/2,b,q),d.te(c),d.Rect(Ug)));a.LI++;"fade-in"===a.Hj&&300<=g-a.zw&&2<=a.LI&&(a.Hj="wait",a.HP=g);"wait"===a.Hj&&g-a.HP>=l&&1<=a.Dn&&(a.Hj="fade-out",a.KI=g);("fade-out"===a.Hj&&g-a.KI>=300+k||h&&1<=a.Dn&&500>g-a.zw)&&a.JI()}
N.gS=class extends N.pa{constructor(a){super();this.g=a;this.Bf=[];this.vO=!1;this.Ug=this.ke=null;this.CG="high-performance";this.sO=!1;this.Zm=this.Ym=this.$f=this.ag=this.Cc=this.Nc=this.Jk=this.Kk=0;this.Fq="normalized";this.kO=0;this.sJ=1;this.qJ=1E4;this.Dp=!0;this.bd=this.td=this.OP=0;this.AW=this.RN="letterbox-scale";this.ZF=TD.create();this.ph=this.oJ="high";this.xs=!1;this.Ir=[];this.Gx=new Set;this.kC=self.C3_Shaders;this.Lv=N.j(N.L.sS,{FQ:()=>[this.Zj(),this.Yj()],GQ:()=>{const b={Lc:this.g.uc};
"low"===this.ph&&(b.width=this.Zj(),b.height=this.Yj());return this.Zt(b)},fR:b=>{this.Vo(b)},getTime:()=>Jp(this.F()),eR:()=>this.F().ya()});this.Ig=this.pn=0;this.nn=NaN;this.MA=null;this.AH=new Map;this.Wv=NaN;this.PC=new Map;this.oC="";this.EI=1;this.DP=N.j(N.Rect);this.ix="";this.EP=this.hx=null;this.zw=0;this.Be=-1;this.Dn=0;this.FH=b=>this.Dn=b.progress;this.Pg=null;this.og={ay:null,hy:null,ny:null};this.KI=this.HP=this.LI=0;this.Hj="fade-in";this.JI=null;this.GP=new Promise(b=>this.JI=b)}async tg(a){var b=
a.canvas;this.Bf.push({canvas:b,xQ:null});mn(this.g,"runtime","window-resize",c=>{const e=this.g;if(null===e.cd){var f=c.devicePixelRatio;this.wf()&&(self.devicePixelRatio=f);null===e.cd&&(e.rk=f);this.xs=!!c.isFullscreen;this.Vd(c.innerWidth,c.innerHeight);e.ya();f=new N.Event("window-resize");f.data=c;we(e.lb(),f);c=new N.Event("resize");c.D6=this.Nc;c.C6=this.Cc;c.P6=this.ag;c.O6=this.$f;e.Pf(c);e.zb&&(wv(e)||self.Jh.y0())&&e.Xo()}});mn(this.g,"runtime","fullscreenchange",c=>{this.xs=!!c.isFullscreen;
this.Vd(c.innerWidth,c.innerHeight,!0);this.g.ya()});mn(this.g,"runtime","fullscreenerror",c=>{this.xs=!!c.isFullscreen;this.Vd(c.innerWidth,c.innerHeight,!0);this.g.ya()});b.addEventListener("webglcontextlost",c=>{console.log("[Construct] WebGL context lost");c.preventDefault();this.Ir=[];this.Gx.clear();this.Lv.pd();this.ke.pd();this.g.Iz()});b.addEventListener("webglcontextrestored",()=>XD(this));this.xs=!!a.isFullscreen;var d=navigator.gpu&&this.vO;b=!1;if(d)try{await ZD(this,!0)}catch(c){cE("WebGPU",
c),this.Ug=null}if(!this.wa())try{await dE(this,!0)}catch(c){cE("WebGL",c),this.ke=null}this.wa()||(b=!0);if(!this.wa()&&d)try{await ZD(this,!1)}catch(c){cE("WebGPU",c),this.Ug=null}if(!this.wa())try{await dE(this,!1)}catch(c){cE("WebGL",c),this.ke=null}d=this.wa();if(!d)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");d.HG=!!b;this.Ug&&(this.Ug.gK=()=>{console.log("[Construct] WebGPU device lost");this.Ir=[];this.Gx.clear();this.Lv.pd();this.g.Iz()},this.Ug.hK=()=>
eE(this));"normalized"===this.Fq?d.Fq=!1:(d.Fq=!0,d.HE(this.kO));this.Vd(a.windowInnerWidth,a.windowInnerHeight,!0);await this.ik()}async ik(){this.Ug?await fE(this):this.ke&&await gE(this);const a=this.wa();a.IE(this.Dp);a.zg()&&(this.nn=0);for(const b of this.g.tF){for(const d of b.ah())d.ik(a);b.ik(a);b.Ag()}new self.oT(this.g,a)}m(){this.ke=this.g=null;this.Bf.length=0}wf(){return this.g.wf()}Vd(a,b,d=!1){a=Math.floor(a);b=Math.floor(b);if(0>=a||0>=b)throw Error("invalid size");if(this.Kk!==a||
this.Jk!==b||d){this.Kk=a;this.Jk=b;d=hE(this);if("letterbox-scale"===d){var c=this.g.Sk(),e=this.g.wh,f=this.g.vh,g=e/f;a/b>g?(this.Nc=Math.round(b*g),this.Cc=b,this.Ym=Math.floor((a-this.Nc)/2),this.Zm=0):(this.Nc=a,this.Cc=Math.round(a/g),this.Ym=0,this.Zm=Math.floor((b-this.Cc)/2));this.ag=Math.round(this.Nc*c);this.$f=Math.round(this.Cc*c);DE(this.g,e,f)}else"letterbox-integer-scale"===d?(c=this.g.Sk(),1!==c&&(a+=1,b+=1),e=this.g.wh,f=this.g.vh,g=e/f,g=a/b>g?b*g*c/e:a/g*c/f,1<g?g=Math.floor(g):
1>g&&(g=1/Math.ceil(1/g)),this.ag=Math.round(e*g),this.$f=Math.round(f*g),this.Nc=this.ag/c,this.Cc=this.$f/c,this.Ym=Math.max(Math.floor((a-this.Nc)/2),0),this.Zm=Math.max(Math.floor((b-this.Cc)/2),0),DE(this.g,e,f)):"off"===d?(c=this.g.Sk(),this.Nc=this.g.Jf,this.Cc=this.g.Ge,this.ag=Math.round(this.Nc*c),this.$f=Math.round(this.Cc*c),this.xs?(this.Ym=Math.floor((a-this.Nc)/2),this.Zm=Math.floor((b-this.Cc)/2)):this.Zm=this.Ym=0,DE(this.g,this.g.Jf,this.g.Ge)):(c=this.g.Sk(),this.Nc=a,this.Cc=b,
this.ag=Math.round(this.Nc*c),this.$f=Math.round(this.Cc*c),this.Zm=this.Ym=0,a=this.Lh(),DE(this.g,this.Nc/a,this.Cc/a));"high"===this.oJ?(this.td=this.ag,this.bd=this.$f,this.ph="high"):("off"===hE(this)?(a=this.g.Jf,b=this.g.Ge):(a=this.g.wh,b=this.g.vh),this.ag<a||this.$f<b?(this.td=this.ag,this.bd=this.$f,this.ph="high"):(this.td=a,this.bd=b,this.ph="low","scale-inner"===d?(d=a/b,a=this.Kk/this.Jk,a<d?this.td=this.bd*a:a>d&&(this.bd=this.td/a)):"scale-outer"===d&&(d=a/b,a=this.Kk/this.Jk,a>d?
this.td=this.bd*a:a<d&&(this.bd=this.td/a))));for(var {canvas:h}of this.Bf)h.width=this.ag,h.height=this.$f;le(this.g,"canvas","update-size",{marginLeft:this.Ym,marginTop:this.Zm,styleWidth:this.Nc,styleHeight:this.Cc,displayScale:this.Lh()});h=this.wa();h.Vd(this.ag,this.$f,!0);for(var k of this.Ir)h.VK(k);N.D(this.Ir);Hg(this.wa(),this.ZF,this.Zj()/this.Yj());k=this.g.Wa;Zq(k);$q(k)}}F(){return this.g}fu(){return this.RN}Zj(){return this.td}Yj(){return this.bd}IE(a){this.Dp=!!a}tu(){return this.ke}Io(){return this.Ug}wa(){return this.Ug||
this.ke}lu(){return"low"===this.ph?1/this.g.Sk():this.Lh()}Lh(){const a=hE(this);if("off"===a||"crop"===a)return 1;const b=this.g.wh,d=this.g.vh,c=b/d,e=this.ag/this.$f;return"scale-inner"!==a&&e>c||"scale-inner"===a&&e<c?this.Cc/d:this.Nc/b}du(){return"low"===this.ph?1:this.Lh()}cu(){return"low"===this.ph?1:this.g.Sk()}gu(){return this.Bf.length}Zt(a){a.depth=this.g.Fh;const b=this.Ir,d=b.findIndex(e=>e.GL(a));let c;-1!==d?(c=b[d],b.splice(d,1)):c=this.wa().TK(a);this.Gx.add(c);return c}Vo(a){if(!this.Gx.has(a))throw Error("render target not in use");
this.Gx.delete(a);this.Ir.push(a)}Oy(){return this.nn}DM(a,b,d,c,e,f){this.oC=a;this.EI=b;Bd(this.DP,d,c,e,f);return this.hx?this.hx:this.hx=new Promise(g=>{this.EP=g})}};"use strict";const X=self.A,EE=self.Jh,FE={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""};let GE=!0;function le(a,b,d,c){a.Bw.postMessage({type:"event",component:b,handler:d,data:c,responseId:null},void 0)}function yl(a,b){return b&&-1!==b.hf?a.Cp*b.hf:a.Kv}
function zl(a,b,d,c){const e=a.pX++,f=new Promise((g,h)=>{a.Ow.set(e,{resolve:g,reject:h})});a.Bw.postMessage({type:"event",component:b,handler:d,data:c,responseId:e},void 0);return f}function Ll(a,b,d,c,e,f,g){if(g&&a.Ah){if(b instanceof X.Cu&&b.La)return b=b.tk,Ll(a,b[Math.floor(a.oq()*b.length)],d,c,e,f,g);const h=su(a.Ah,b,g);if(h)return d=Tp(a,h,d,!1,c,e,!1,f,void 0,f),tu(a.Ah,d,g),d}return Tp(a,b,d,!1,c,e,!1,f,void 0,f)}
function Pl(a){if(a.OA){for(const b of a.tn){const d=b.G();d.ih(b);for(const c of d.nh)c.ih(b),c.Np=!0}X.D(a.tn);a.yb.qr(!0);for(const [b,d]of a.aB.entries())HE(a,b,d),d.clear();a.aB.clear();a.yb.qr(!1);a.OA=!1;a.ya()}}function mn(a,b,d,c){let e=a.eG.get(b);e||(e=new Map,a.eG.set(b,e));if(e.has(d))throw Error(`[Runtime] Component '${b}' already has handler '${d}'`);e.set(d,c)}function Jn(a,b){b?a.YF--:a.YF++;a.we=a.zb&&a.jW&&0===a.YF}
function Uo(a,b){b=Math.floor(b);if(0>b||b>=a.Mc.length)throw new RangeError("invalid index");return a.Mc[b]}
function Pp(a,b){if(!a.Tp.has(b)){var d=b.G(),c=a.aB.get(d);if(c){if(c.has(b))return;c.add(b)}else c=new Set,c.add(b),a.aB.set(d,c);a.zb&&EE.q0(b);b.bF();a.OA=!0;if(b.cc())for(const e of b.Ic)Pp(a,e);for(const e of b.children())e.bu()&&Pp(a,e);0<a.Wa.ys||a.rh||(d=a.ja(),Ml(d,!0),b.g.$a(Pv(b.Ka()).P.fU,b,null),Ml(d,!1));a=0<a.Wa.ys;b.dd&&(d=new nm.Event("destroy"),d.EY=a,b.Pf(d));if(iC(b,"instancedestroy")){d=b.G();c=new nm.Event("instancedestroy");c.instance=Kl(b);c.EY=a;d.Pf(c);for(const e of d.nh)e.Pf(c);
b.g.Pf(c)}}}
function Tp(a,b,d,c,e,f,g,h,k,l){var m=null;let n=null;b instanceof X.Cu?(n=b,n.La&&(m=n.tk,n=m[Math.floor(a.oq()*m.length)]),m=n.Ap):(m=b,n=Uo(a,m[1]));b=n.Ka().Md;if(a.sj&&b&&!n.eX)return null;const p=d;b||(d=null);var q=c&&!g&&m&&!a.Sp.has(m[2])?m[2]:a.Gw++;const t=m?m[0]:null,r=X.j(X.Instance,{jd:a,fK:n,Hq:d,DR:t,LQ:m?m[3]:null,uid:q,rR:m?m[6]:null});a.Sp.set(q,r);q=null;b&&(q=r.C(),"undefined"!==typeof e&&"undefined"!==typeof f&&(q.Wi(e),q.Xi(f)),n.dv=!0);d&&(l||d.ih(r,!0),tq(d.Sb(),n));a.cI++;
var u=!0;k&&(k=k.G(),k.cc()&&n.cc()&&n.Hg===k.Hg&&(u=!1));if(n.cc()&&!c&&!g&&u){k=new Set;for(var v of n.Hg.zk)v!==n&&((u=IE(a,v,q,k))?(u=Tp(a,u,p,!1,q?q.Da():e,q?q.Ea():f,!0,!1,void 0,l),r.Ic.push(u)):(u=Tp(a,v,p,!1,q?q.Da():e,q?q.Ea():f,!0,!1,void 0,l),r.Ic.push(u)));for(var w of r.Ic){w.Ic.push(r);for(const y of r.Ic)w!==y&&w.Ic.push(y)}}b&&!c&&h&&JE(a,r,t,q,d,e,f,l);if(n.cc()&&!c&&!g&&h)for(const y of r.Ic)if(c=y.C())v=y.Ka(),w=y.G().Ap[0],v.Md?JE(a,y,w,c,d,c.Da(),c.Ea(),l):JE(a,y,w,c,d,void 0,
void 0,l);!g&&h&&("undefined"===typeof e&&(e=t[0]),"undefined"===typeof f&&(f=t[1]),d=q.Em(),e=e-q.Da()+d.Da(),f=f-q.Ea()+d.Ea(),Bm(d,e,f));n.Np=!0;f=m?X.BJ(m[5]):null;m=m?m[4].map(y=>X.BJ(y)):null;b&&t&&t[13]&&(r.B|=2);r.Az(f,m);a.tn.push(r);a.OA=!0;a.zb&&EE.p0(r);return r}function P(a){return a.zl.length?a.zl.at(-1):a.Cb()}function Dp(a){return a.zb&&a.wa().zg()&&Dp(EE)}function Aq(a,b){return a.bI.get(b)||null}
function Bq(a){a.Sp.clear();for(const b of a.Mc)if(!b.La)for(const d of b.na())a.Sp.set(d.Rb,d)}function KE(a,b){return"low"===a.$.ph||b.Qh()&&(a.Eq||a.Fh)}function $r(a,b){if(a.rh)throw Error("cannot call while loading state - wait until afterload event");return a.Sp.get(b)||null}function qv(a){if(!a.zl.length)throw Error("layout stack empty");a.zl.pop()}function sv(a,b){return a.we?sv(EE,b):Promise.resolve()}function wv(a){return a.zb?wv(EE):!1}function iw(a){return a.zb&&iw(EE)}
function xw(a){return a.we?EE.TZ():!1}function Vw(a,b){b=Math.floor(b);a=a.PB;if(0>b||b>=a.length)throw Error("invalid object reference");return a[b]}function*Hz(a,b){for(const d of a.tn)b.La?oA(d.G(),b)&&(yield d):d.G()===b&&(yield d)}function FA(a){a.gw=new WeakMap;X.D(a.fw)}function GA(a,b="full",d=null){a.fw.sort(a.VU);for(const c of a.fw)c.Bg(a.gw.get(c),b,d);for(const c of a.fw)c.cF(a.gw.get(c),b,d);FA(a)}function Jp(a){return a.LA.W()}
function rC(a,b,d){d?a.ws.has(b)||(d=X.j(X.$y),d.FD(a.LA),a.ws.set(b,d)):a.ws.delete(b)}function DE(a,b,d){if(a.Jf!==b||a.Ge!==d)a.Jf=b,a.Ge=d,a=a.Wa,Zq(a),$q(a)}async function YD(a){await rq(a.Cb(),null,a.wa());a.yb.dispatchEvent(X.j(X.Event,"renderercontextrestored"));LE(a,!1);a.ya()}
async function rE(a,b){var d=d||2048;var c=c||2048;return a.wf()?(await zl(a,"runtime","raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:d,surfaceHeight:c,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,d,c)}function CE(a){return"cordova"===a.dg}
async function ME(a){const b=X.j(X.hz);var d=[];const c=new Map;for(const e of a.cj)for(const f of e.El){const g=f.Dm().qh;c.has(g)||(c.set(g,null),d.push(b.Fb(async()=>{const h=await lo(g);c.set(g,h)})))}await Promise.all(d);d=[];for(const e of a.cj)for(const f of e.El)d.push(b.Fb(async()=>{var g=f.Dm();const h=c.get(g.qh);g=await CB(g,h);return{R6:await createImageBitmap(g)}}));a=await Promise.all(d);for(const e of c.values())e instanceof ImageBitmap&&e.close&&e.close();return{JQ:a}}
async function NE(a,b){return await a.tD("OpusDecode",{arrayBuffer:b},[b])}
function OE(a,b){if(a.uO){var d=b.component,c=b.handler,e=b.data,f=b.dispatchOpts,g=!(!f||!f.dispatchRuntimeEvent);f=!(!f||!f.dispatchUserScriptEvent);var h=b.responseId;if("runtime"===d&&(g&&(b=new X.Event(c),b.data=e,we(a.yb,b)),f)){b=new X.Event(c,!0);for(const [k,l]of Object.entries(e))b[k]=l;a.Pf(b)}if(b=a.eG.get(d))if(b=b.get(c)){g=null;try{g=b(e)}catch(k){console.error(`Exception in '${d}' handler '${c}':`,k);null!==h&&PE(a,h,!1,""+k);return}null!==h&&(g&&g.then?g.then(k=>PE(a,h,!0,k)).catch(k=>
{console.error(`Rejection from '${d}' handler '${c}':`,k);PE(a,h,!1,""+k)}):PE(a,h,!0,g))}else g||f||console.warn(`[Runtime] No DOM handler '${c}' for component '${d}'`);else g||f||console.warn(`[Runtime] No DOM event handlers for component '${d}'`)}else a.mJ.push(b)}function PE(a,b,d,c){a.Bw.postMessage({type:"result",responseId:b,isOk:d,result:c})}
async function QE(a){const b=a.rd;if(!b.GX["audio/webm; codecs=opus"]){var d=null,c=b.BX,e=c+"opus.wasm.js";c+="opus.wasm.wasm";try{d=a.wO&&b.vn?await Xn(b,c,"buffer"):await b.Wt(c)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}a.tB.dw.postMessage({type:"_send_buffer",buffer:d,id:"opus-decoder-wasm"},[d]);await RE(a,[e])}}
async function SE(a,b){b=b.project;a.$B=b[0];a.oP=b[16];a.nI=b[31];var d=b[39]||"loading-logo.png";a.lw=!!b[9];a.wh=a.Jf=b[10];a.vh=a.Ge=b[11];ND(a.wl,a.wh,a.vh);a.TB=a.wh/2;a.UB=a.vh/2;a.os=b[37];a.Fh=!!b[40];a.uc=b[14];a.Eq=b[15];a.ZP=b[42];a.gJ=b[17];a.iJ=!!b[18];a.Ms=b[19];a.Gw=b[21];a.lP=b[22];const c=a.rd;c.hn=b[45];co(c,b[7]);c.hO=b[28];Sn.Yc(c.pJ,b[29]);c.pJ.length&&c.EB.push(ao(c));if(0===a.Ms){let k="";if(k="flat"===c.hn?c.hO+d:d)a.Yp=c.nE({url:k})}a.$&&(iE(a.$,kE(b[12])),jE(a.$,b[23]?"high":
"low"),a.$.IE(0!==b[24]),a.$.CG=b[34],a.$.OP=b[41],a.$.vO=!!b[13],a.$.Fq=b[30],WD(a.$,b[46],b[47]),a.$.kO=b[26],a.$.sO=!!b[48]);(d=b[43])&&await TE(a,d);UE(a);wB(a.Vm);a.PB=self.OK();d=b[2];for(var e of d[1])xB(a.Vm,e);for(const k of d[0])vB(a.Vm,k);a.PB=self.OK();VE(a);yB(a.Vm);for(var f of b[3])e=X.Cu.va(a,a.Mc.length,f),a.Mc.push(e),a.Hw.set(e.ka().toLowerCase(),e),a.bI.set(e.fb,e);for(const k of b[4])OB(a.Mc[k[0]],k);for(var g of b[27])f=g.map(k=>a.Mc[k]),a.ZV.push(X.j(X.lS,a,f));WE(a);for(const k of a.Mc)PB(k);
for(const k of b[5])a.Wa.va(k);if(g=b[1])if(g=Xq(a.Wa,g))a.Wa.BA=g;for(var h of b[35])a.YI.va(h);for(const k of b[33])a.Ab.va(k);for(const k of b[44])a.Ah.va(k);ru(a.Ah)||(a.Ah.m(),a.Ah=null);for(const k of b[49])a.Vc.va(k);a.Vc.ZD()||(a.Vc.m(),a.Vc=null);for(const k of b[6])a.Fa.va(k);a.Fa.Lb();XE(a);X.D(a.PB);Pl(a);h="any";b=b[20];1===b?h="portrait":2===b&&(h="landscape");le(a,"runtime","set-target-orientation",{targetOrientation:h})}async function YE(a,b){a.$&&(await a.$.tg(b),tE(a.$,a.Ms))}
async function ZE(a,b){try{await b(a.fg)}catch(d){console.error("[C3 runtime] Error in runOnStartup function: ",d)}}async function TE(a,b){const d=b.format;"image-sequence"===d?a.cd=new self.VZ(a,b):"image-sequence-gif"===d?a.cd=new self.UZ(a,b):"webm"===d?a.cd=new self.XZ(a,b):"mp4"===d&&(a.cd=new self.WZ(a,b));a.os="unlimited-frame";iE(a.$,"off");a.rk=1;self.devicePixelRatio=1;await zl(a,"runtime","set-exporting-to-video",{message:a.cd.$_(0),duration:a.cd.fG})}
function UE(a){a.fg=new self.pT(a);a.XP={tick:$E(a,"tick")}}function VE(a){for(const b of self.eS){const d=X.first(Object.keys(b));a.yO.push(d)}}function WE(a){const b={};for(const d of a.Mc)b[d.Ki()]={value:d.er(),enumerable:!0,writable:!1};Object.defineProperties(a.fg.UY,b)}function XE(a){const b={};for(const d of a.ja().uF)b[d.Ki()]=nv(d);Object.defineProperties(a.fg.wY,b)}
async function RE(a,b){b=await Promise.all(b.map(async d=>CE(a)&&a.rd.vn||"playable-ad-single-file"===a.dg?(d=await a.rd.Rk(d),URL.createObjectURL(d)):(new URL(d,location.href)).toString()));a.tB.dw.postMessage({type:"_import_scripts",scripts:b})}function aF(a){a.$a(X.O.Ob.P.lU,null,null);le(a,"runtime","register-sw")}function*bF(a){for(const b of a.Mc)b.La||(yield*b.MQ())}function cF(a){-1!==a.Be&&(self.cancelAnimationFrame(a.Be),a.Be=-1);-1!==a.Dk&&(X.fS(a.Dk),a.Dk=-1)}
function dF(a){const b=a.KX;"vsync"===a.os?-1===a.Be&&(a.Be=self.requestAnimationFrame(b.ZQ)):"unlimited-tick"===a.os?(-1===a.Dk&&(a.Dk=X.CE(b.kZ)),-1===a.Be&&(a.Be=self.requestAnimationFrame(b.cZ))):-1===a.Dk&&(a.Dk=X.CE(b.ZQ))}function IE(a,b,d,c){d=d?.VD()??[];for(const e of d){d=a.Vu(e);const f=!!e[4],g=Uo(a,d[1]);if(!c.has(d)&&b===g&&f)return c.add(d),d}}
function JE(a,b,d,c,e,f,g,h){var k=(k=VC.get(c))?k.HK:NaN;var l=c.VD();c=b.C();WC.set(c,k);if(l){"undefined"===typeof f&&(f=d[0]);"undefined"===typeof g&&(g=d[1]);k=new Set;c=d[0];d=d[1];for(const r of l){var m=r[0],n=r[1],p=r[2];l=r[3];var q=!!r[4];const u=r[5];var t=r[6];n=t?t:Wo((a.Wa.Hs.get(m)||null).Z(n),p);m=Uo(a,n[1]);p=!!oC(b,m);t=k.has(m);p&&!t&&q?(q=oC(b,m),q.C().Fm(n[0]),p=f+n[0][0]-c,n=g+n[0][1]-d,Bm(q.C(),p,n),n=q.C(),WC.set(n,u),b.Gi(q,{Pq:!!(l>>0&1),Qq:!!(l>>1&1),uo:!!(l>>2&1),to:!!(l>>
3&1),Mq:!!(l>>4&1),It:!!(l>>5&1),Rq:!!(l>>6&1),Nq:!!(l>>7&1),Oq:!!(l>>8&1)}),k.add(m)):(m=Tp(a,n,e,!1,f+n[0][0]-c,g+n[0][1]-d,!1,!0,b,h),q=m.C(),WC.set(q,u),b.Gi(m,{Pq:!!(l>>0&1),Qq:!!(l>>1&1),uo:!!(l>>2&1),to:!!(l>>3&1),Mq:!!(l>>4&1),It:!!(l>>5&1),Rq:!!(l>>6&1),Nq:!!(l>>7&1),Oq:!!(l>>8&1)}))}}}
function HE(a,b,d){for(const e of d){var c=a.Ep.instancedestroy;c.instance=e;a.yb.dispatchEvent(c);a.Sp.delete(e.Rb);a.ws.delete(e);if(c=e.C())uD(c),Qp(c),c.bF();a.Tp.add(e);a.cI--}X.Vg(b.na(),d);b.Np=!0;a.bB.add(b);for(const e of b.nh)X.Vg(e.na(),d),e.Np=!0,a.bB.add(e);if(b.Ka().Md){a=new Set([...d].map(e=>e.C().Z()));for(const e of a)0!==d.size&&0<M.Vg(e.H,d)&&(0===e.H.length&&(e.nl=!1),Xo(e))}}
function LE(a,b){if(null===a.cd){var d=a.Oo();a.mt+=b?1:-1;0>a.mt&&(a.mt=0);b=a.Oo();!d&&b?(console.log("[Construct] Suspending"),cF(a),a.yb.dispatchEvent(X.j(X.Event,"suspend")),a.$a(X.O.Ob.P.rU,null,null)):d&&!b&&(console.log("[Construct] Resuming"),d=performance.now(),a.BB=d,a.Ip=d,a.EA=0,a.ls=0,a.CC=0,a.XI=0,a.IB=0,a.Pl=0,a.yb.dispatchEvent(X.j(X.Event,"resume")),a.$a(X.O.Ob.P.nU,null,null),wv(a)||a.hh(d))}}
function*eF(a){const b=globalThis.bE;Ye(a.mk,!0);for(const d of a.mk){let c;c=d instanceof b?d.vx():d.hh();X.bl(c)&&(yield*c)}Ye(a.mk,!1)}function*fF(a){Ye(a.tl,!0);for(const b of a.tl)X.bl()&&(yield*void 0);Ye(a.tl,!1)}function*gF(a){Ye(a.ul,!0);for(const b of a.ul)X.bl()&&(yield*void 0);Ye(a.ul,!1)}
function hF(a){if(0!==a.Tp.size){var b=a.yb;b.qr(!0);for(var d of a.bB)d.Fj.Wo(a.Tp);a.bB.clear();d=a.Fa;var c=a.Tp;for(var e of d.ng)e.Wo(c);for(const f of c)if(e=d.ew.get(f),d.ew.delete(f),e)for(const {resolve:g}of e.nD.values())g(!0);for(const f of a.Tp)f.m();a.Tp.clear();b.qr(!1)}}
async function iF(a){const b=a.Fa,d=a.zb;Pl(a);Ml(b,!0);a.zl.push(a.Cb());d&&EE.yr();if(a.we)await Gv(b);else if(b.ng.length){var c=b.Sf(),e=!1;b.am++;for(let g=0,h=b.ng.length;g<h;++g){const k=b.ng[g];if(Hv(k)){RA(k,c);var f=k.jj;f.aj(c,c.ue)&&dw(f);k.vl&&k.vl.dh()&&Ow(k.vl,k.jv);yv(k.fe);k.gx=!0}k.gx&&(e=!0)}e&&(Fv(b),c.dc(null));b.am--}d&&EE.MR();qv(a);Ml(b,!1);Pl(a);Ml(b,!0)}
async function jF(a){const b=a.zb,d=a.we,c=a.yb,e=a.Ep,f=a.XP;b&&EE.yr();if(d)await kF(a,eF(a));else{const g=globalThis.bE;Ye(a.mk,!0);for(const h of a.mk)h instanceof g?h.vx():h.hh();Ye(a.mk,!1)}if(d)await kF(a,fF(a));else{Ye(a.tl,!0);for(const g of a.tl);Ye(a.tl,!1)}b&&EE.JR();b&&EE.yr();d?await kF(a,xe(a.yb,e.tick)):c.dispatchEvent(e.tick);b&&EE.NR();Ml(a.Fa,!1);a.Pf(f.tick)}
async function lF(a){a.Zw&&(Pl(a),await mF(a,a.Zw),nF(a));a.xw&&(await oF(a,a.xw),nF(a),a.zb&&EE.k5());if(null!==a.xk){Pl(a);try{await pF(a,a.xk),a.Xp=a.xk,await a.qd(X.O.Ob.P.WL,null),a.Xp=""}catch(b){console.error("[Construct] Failed to load state from JSON string: ",b),await a.qd(X.O.Ob.P.XL,null)}nF(a)}}async function qF(a){const b=a.Wa;let d=0;for(;b.xh&&10>d++;)await rF(a,b.xh)}
async function sF(a){const b=a.Fa,d=a.yb,c=a.Ep,e=a.zb,f=a.we;e&&EE.yr();if(f)await rv(b,a.Wa);else{var g=a.Wa;for(const h of b.Gr)h.rs=!1;b.am++;for(const h of Yq(g))if(g=h.Oc)b.g.zl.push(h),g.ra(),qv(b.g);b.am--}e&&EE.MR();BD.D(a.wl.Vw);hF(a);a.kH=!1;Ml(b,!0);e&&EE.yr();if(f)await kF(a,gF(a));else{Ye(a.ul,!0);for(const h of a.ul);Ye(a.ul,!1)}e&&EE.JR();e&&EE.yr();f?await kF(a,xe(a.yb,c.tick2)):d.dispatchEvent(c.tick2);e&&EE.NR();Ml(b,!1);f&&await xv(b)}
async function kF(a,b){if(b)for(const d of b)await sv(a,d)}async function rF(a,b){const d=a.yb,c=a.Wa.Cb();await Qq(c);if(b!==c&&a.wa())for(const e of c.Bh)e.Ie()||b.Pp.has(e)||(e.Hu(),c.Bh.delete(e));c===b&&Sq(a.Fa);BD.D(a.wl.Vw);hF(a);d.dispatchEvent(a.Ep.beforelayoutchange);X.Rt.xM(!0);await rq(b,c,a.wa());X.Rt.xM(!1);await Hq(b,!1);d.dispatchEvent(a.Ep.layoutchange);a.ya();a.kH=!0;Pl(a);a.cd&&ks(a.cd.Jb.Li())}
async function mF(a,b){const d=await tF(a);try{await uF(a).setItem(b,d),console.log("[Construct] Saved state to storage ("+d.length+" chars)"),a.Xp=d,await a.qd(X.O.Ob.P.oU,null),a.Xp=""}catch(c){console.error("[Construct] Failed to save state to storage: ",c),await a.qd(X.O.Ob.P.pU,null)}}function nF(a){a.Zw="";a.xw="";a.xk=null}
async function oF(a,b){try{const d=await uF(a).getItem(b);if(!d)throw Error("empty slot");console.log("[Construct] Loaded state from storage ("+d.length+" chars)");await pF(a,d);a.Xp=d;await a.qd(X.O.Ob.P.WL,null);a.Xp=""}catch(d){console.error("[Construct] Failed to load state from storage: ",d),await a.qd(X.O.Ob.P.XL,null)}}
async function pF(a,b){var d=a.Wa;b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");FA(a);a.yb.dispatchEvent(X.j(X.Event,"beforeload"));for(var c of bF(a))LB(c.G(),Rx.Qa.pE)||c.Er();c=b.rt;a.LA.Set(c.time);c.hasOwnProperty("timeRaw")&&a.BG.Set(c.timeRaw);a.nJ.Set(c.walltime);a.hf=c.timescale;a.Ch=c.tickcount;a.vC=Date.now()-c.start_time_offset;var e=
c.running_layout;a.rh=!0;let f=!1;if(e!==a.Cb().fb)if(e=d.Hs.get(e)||null)await rF(a,e),f=!0;else return;for(const [l,m]of Object.entries(b.layouts))(e=d.Hs.get(parseInt(l,10))||null)&&e.oa(m);e=new Set;for(const [l,m]of Object.entries(b.types)){const n=Aq(a,parseInt(l,10));!n||n.La||LB(n,Rx.Qa.pE)||n.oa(m,e)}for(var g of a.Wa.Wh)for(const l of g.Ft())Yo(l,!1),Xo(l),Oo(l),l.oB=!0,l.pw=!0,l.qw=!0;Pl(a);Bq(a);a.rh=!1;if(f){for(const l of bF(a))Kq(l);for(var [h]of Object.entries(b.types))g=Aq(a,parseInt(h,
10)),!g||g.La||LB(g,Rx.Qa.pE)||g.av()}a.Gw=c.next_uid;a.Fa.oa(b.events);for(const l of a.Mc)if(!l.La&&l.cc())for(const m of l.na()){h=Dq(m);for(const n of l.Hg.zk)if(n!==l){g=n.na();if(0>h||h>=g.length)throw Error("missing sibling instance");m.Ic.push(g[h])}}a.Ab.oa(b.timelines);Zq(d);$q(d);for(const l of e)hC(l);GA(a);a.yb.dispatchEvent(X.j(X.Event,"afterload"));a.Pf($E(a,"afterload"));for(var [k]of Object.entries(b.types))if(d=Aq(a,parseInt(k,10)))d.DB=null;k=$E(a,"load");k.saveData=b.user_script_data;
await a.Vj(k);a.ya()}function uF(a){a.yI||(a.yI=localforage.DJ({name:"c3-savegames-"+a.nI,description:a.$B}));return a.yI}
async function tF(a){const b={c3save:!0,version:1,rt:{time:Jp(a),timeRaw:a.BG.W(),walltime:a.nJ.W(),timescale:a.hf,tickcount:a.Ch,next_uid:a.Gw,running_layout:a.Cb().fb,start_time_offset:Date.now()-a.vC},types:{},layouts:{},events:a.Fa.la(),timelines:a.Ab.la(),user_script_data:null};for(var d of a.Mc)d.La||LB(d,Rx.Qa.pE)||(b.types[d.fb.toString()]=d.la());for(const c of a.Wa.Wh)b.layouts[c.fb.toString()]=c.la();d=$E(a,"save");d.saveData=null;await a.Vj(d);b.user_script_data=d.saveData;return JSON.stringify(b)}
function $E(a,b){b=X.j(X.Event,b,!1);b.jd=a.fg;return b}
X.pM=class extends X.pa{constructor(a){a=Object.assign({},FE,a);super();this.Bw=a.messagePort;this.yP=a.runtimeBaseUrl;this.cX=!!a.isInWorker;GE=a.ife;this.dg=a.exportType;this.wO=!!a.isiOSCordova;this.ZW=!!a.isFBInstantAvailable;this.we=this.jW=this.zb=!("preview"!==this.dg||!a.isDebug);this.YF=0;this.qF=[];this.XV=[];this.nI=this.oP=this.$B="";this.vh=this.wh=0;this.rk=self.devicePixelRatio;this.Ms=this.Ge=this.Jf=this.UB=this.TB=0;this.iJ=!1;this.sj=!0;this.gJ=this.ZP=this.Eq=!1;this.Yp=null;this.rd=
X.j(X.VR,this,a);this.Wa=X.j(X.QT,this);this.Fa=X.j(X.xS,this);this.Vm=X.j(X.nb,this,a.wrapperComponentIds);this.wl=X.j(X.hS,this);this.Ab=X.j(X.hV,this);this.YI=X.j(X.iV,this);this.Ah=X.j(X.$U,this);this.Vc=X.j(X.ES,this);this.yC=X.j(X.bV,{v7:d=>{const c=[];for(const e of d.cj)for(const f of e.El)d=f.Dm(),c.push({source:f,width:d.S(),height:d.R(),tag:f.Rg});return{JQ:c}},u7:d=>ME(d)});this.Mc=[];this.Hw=new Map;this.bI=new Map;this.IN=0;this.ZV=[];this.tF=new Set;this.zl=[];this.tn=[];this.aB=new Map;
this.OA=!1;this.Gw=this.cI=0;this.Sp=new Map;this.Tp=new Set;this.bB=new Set;this.PB=[];this.yO=[];this.$=null;this.Fh=!1;this.os="vsync";this.uc="trilinear";this.lw=!1;this.XH=!0;this.nH=this.lP=!1;this.cd=null;this.KX={ZQ:d=>{this.Dk=this.Be=-1;this.hh(d)},kZ:d=>{this.Dk=-1;this.hh(d,!1,"skip-render")},cZ:()=>{this.Be=-1;this.Xo()}};this.Dk=this.Be=-1;this.Ch=0;this.dO=this.mB=this.PA=!1;this.XW=this.kH=!0;this.mt=0;this.oq=()=>Math.random();this.Kv=this.Cp=this.BB=this.vC=0;this.hf=1;this.MH=1/
30;this.QH=0;this.LA=X.j(X.$y);this.BG=X.j(X.$y);this.nJ=X.j(X.$y);this.ws=new Map;this.EA=-1;this.ls=this.Ip=0;this.CC=-1;this.IB=this.Pl=this.XI=0;this.rh=!1;this.xw=this.Zw="";this.xk=null;this.Xp="";this.yI=this.mI=null;this.yb=X.j(X.Event.lb);this.eG=new Map;this.Ow=new Map;this.pX=0;this.uO=!1;this.mJ=[];this.Ep={pretick:X.j(X.Event,"pretick",!1),tick:X.j(X.Event,"tick",!1),tick2:X.j(X.Event,"tick2",!1),instancedestroy:X.j(X.Event,"instancedestroy",!1),beforelayoutchange:X.j(X.Event,"beforelayoutchange",
!1),layoutchange:X.j(X.Event,"layoutchange",!1)};this.Ep.instancedestroy.instance=null;this.Ee=X.j(X.Event.lb);this.XP=null;const b=(d,c)=>{{var e=globalThis.bE;d=d instanceof e?this.oj.get(d):d.pv;c=c instanceof e?this.oj.get(c):c.pv;var f=d.Ja;e=c.Ja;const g=f.G().Aa(),h=e.G().Aa();g!==h?d=g-h:(f=f.pP,e=e.pP,d=f!==e?f-e:d.Af()-c.Af())}return d};this.mk=X.j(X.Uo,b);this.tl=X.j(X.Uo,b);this.ul=X.j(X.Uo,b);this.tB=X.j(X.KT,this,a.jobScheduler);a.canvas&&(this.$=X.j(X.gS,this));this.Bw.onmessage=d=>
this._OnMessageFromDOM(d.data);mn(this,"runtime","visibilitychange",d=>{this.XW&&(d=d.hidden,LE(this,d),d||this.ya())});mn(this,"runtime","wrapper-extension-message",d=>{if(-1!==d.asyncId){const c=d.asyncId;this.Ow.get(c).resolve(d.params);this.Ow.delete(c)}else OE(this,{component:"wrapper-extension:"+d.componentId,handler:d.messageId,data:d.params,responseId:null})});mn(this,"runtime","opus-decode",d=>NE(this,d.arrayBuffer));mn(this,"runtime","get-remote-preview-status-info",()=>{const d=this.wa();
return{fps:this.ls,tps:this.XI,cpu:this.IB,gpu:this.Oy(),layout:this.Cb()?this.Cb().ka():"",renderer:d.Qh()?d.Ex:Pj(d)}});mn(this,"runtime","js-invoke-function",d=>this.Gz(d));mn(this,"runtime","go-to-last-error-script",self.goToLastErrorScript);mn(this,"runtime","offline-audio-render-completed",d=>{this.cd.L1(d)});this.yb.addEventListener("window-blur",d=>{this.zu()&&this.lP&&!X.U.No&&!d.data.parentHasFocus&&(LE(this,!0),this.nH=!0)});this.yb.addEventListener("window-focus",()=>{this.nH&&(LE(this,
!1),this.nH=!1)});this.Ab.uD();this.Ah.uD();this.fg=null;this.oj=new WeakMap;this.yv={keyboard:null,XQ:null,uR:null,sR:null,$Q:null};this.gw=new WeakMap;this.fw=[]}static va(a){return X.j(X.pM,a)}m(){X.D(this.Mc);this.Hw.clear();this.bI.clear();this.Wa.m();this.Wa=null;this.Fa.m();this.Fa=null;this.Vm.m();this.Vm=null;this.rd.m();this.rd=null;this.wl.m();this.wl=null;this.Ab.m();this.Ab=null;this.YI.m();this.YI=null;this.Ah.m();this.Ah=null;this.Vc.m();this.Vc=null;this.yC.m();this.yC=null;this.$&&
(this.$.m(),this.$=null);this.yb.m();this.yb=null}_OnMessageFromDOM(a){var b=a.type;if("event"===b)OE(this,a);else if("result"===b){b=a.responseId;const d=a.isOk;a=a.result;const c=this.Ow.get(b);d?c.resolve(a):c.reject(a);this.Ow.delete(b)}else throw Error(`unknown message '${b}'`);}async Fm(a){X.jS(this);this.zb?await EE.Fm(this):self.Jh&&self.Jh.o0(this);var [b]=await Promise.all([this.rd.bL("data.json"),QE(this),this.tB.Fm()]);await SE(this,b);await YE(this,a);this.zu()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net",
"font-weight: bold");this.tu()?(b=this.tu(),console.info(`[C3 runtime] Hosted in ${this.wf()?"worker":"DOM"}, rendering with WebGL ${b.wc} [${b.Ex}]`)):this.Io()&&console.info(`[C3 runtime] Hosted in ${this.wf()?"worker":"DOM"}, rendering with WebGPU [${Pj(this.Io())}]`);this.wa().HG&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.uO=!0;for(const d of this.mJ)OE(this,d);X.D(this.mJ);
this.$&&AE(this.$);for(const d of a.runOnStartupFunctions)this.qF.push(ZE(this,d));await Promise.all([$n(this.rd),...this.qF]);X.D(this.qF);if(this.rd.GG)this.$&&uE(this.$);else return this.$&&await BE(this.$),await ve(this.yb,new X.Event("beforeruntimestart")),await this.xr(),this.Bw.postMessage({type:"runtime-ready"}),this}async xr(){this.PA=!0;this.vC=Date.now();let a=null;const b=new Promise(c=>a=c);if(this.iJ){for(var d of this.Mc);(async()=>{await $n(this.rd);await b;this.sj=!1;aF(this)})()}else this.sj=
!1;this.rd.$N=!0;this.zb&&EE.Q3(GE);for(const c of this.Wa.Wh)Oq(c);null!==this.cd&&await this.cd.Fm({width:this.$.ag,height:this.$.$f});d=Wq(this.Wa);await rq(d,null,this.wa());await Hq(d,!0);this.Ip=performance.now();a();this.iJ||aF(this);(await zl(this,"runtime","before-start-ticking")).isSuspended&&null===this.cd?this.mt++:this.hh()}Ki(a){a=Math.floor(a);const b=this.yO;if(0>a||a>=b.length)throw Error("invalid prop reference");return b[a]}wf(){return this.cX}ja(){return this.Fa}Qc(){return this.Fa.Qc()}Sf(){return this.Fa.Sf()}Kb(){return this.Fa.Kb()}Rf(){return this.Fa.Rf()}Ky(){return this.Fa.Ky()}pu(){return this.Vm.pu()}lb(){return this.yb}Pf(a){a.jd=
this.fg;const b=this.zb&&!Ol(this.Fa);b&&EE.NE();this.Ee.dispatchEvent(a);b&&EE.vD()}Vj(a){a.jd=this.fg;return ve(this.Ee,a)}Sk(){return this.rk}Zj(){return this.$?this.$.Zj():this.Jf}Yj(){return this.$?this.$.Yj():this.Ge}lu(){return this.$?this.$.lu():1}Lh(){return this.$?this.$.Lh():1}du(){return this.$?this.$.du():1}cu(){return this.$?this.$.cu():1}fu(){return this.$?this.$.fu():"off"}Zt(a){return this.$?this.$.Zt(a):null}Vo(a){this.$&&this.$.Vo(a)}Oy(){return this.$?this.$.Oy():NaN}Mo(){return"nearest"!==
this.uc}Cb(){return this.Wa.Cb()}nE(a){return this.rd.nE(a)}Vu(a){const b=a[1],d=a[2],c=a[6];return c?c:Wo((this.Wa.Hs.get(a[0])||null).Z(b),d)}Iz(){this.yb.dispatchEvent(X.j(X.Event,"renderercontextlost"));LE(this,!0);for(var a of this.Mc)!a.La&&0<a.tt&&a.Hu();(a=this.Cb())&&a.Iz();X.cE.ez();X.CL.ez()}Oo(){return 0<this.mt}async hh(a,b,d){this.dO=!0;const c="background-wake"===d;d="background-wake"!==d&&"skip-render"!==d;var e=this.Wa,f=this.$;if(this.PA&&(!this.Oo()||b||c)){b=performance.now();
this.mB=!0;a=a||0;var g=0;null!==this.cd?this.Cp=g=1/this.cd.VS():0!==this.BB&&(g=Math.max(a-this.BB,0)/1E3,.5<g&&(g=0),this.Cp=X.ia(g,this.QH,this.MH));this.BB=a;this.Kv=this.Cp*this.hf;this.LA.Fb(this.Kv);this.BG.Fb(g*this.hf);this.nJ.Fb(this.Cp);for(const [k,l]of this.ws)l.Fb(this.Cp*k.hf);this.$&&(g=this.$,g.ke&&g.ke.zg()&&nE(g),g.Ug&&g.Ug.zg()&&oE(g));if(1E3<=a-this.Ip){this.Ip+=1E3;1E3<=a-this.Ip&&(this.Ip=a);this.ls=this.EA;this.EA=0;this.XI=this.CC;this.CC=0;this.IB=Math.min(this.Pl/1E3,1);
this.Pl=0;if(this.$&&(a=this.$,g=a.wa(),g.zg()&&0===a.Ig)){a.Ig=g.Ue;a.Wv=NaN;for(var h of mE(a))h.VC=NaN}this.zb&&EE.N5()}this.CC++;hF(this);h=iF(this);this.we&&await h;h=this.Ep.pretick;h=(a=ue(this.yb,h.type,!1))?pe(a,h):!0;h instanceof Promise&&await h;h=jF(this);this.we&&await h;(this.Zw||this.xw||null!==this.xk)&&await lF(this);e.xh&&await qF(this);h=sF(this);this.we&&await h;h=e.Cb();a=h.jI;e=!1;-1!==a&&(h.jI=-1,f.gu()!==a&&(f=Jq(this.$,a),this.wf()&&(e=!0,await f)));d&&this.Xo();e&&le(this,
"canvas","cleanup-html-layers");if(null!==this.cd&&(d=this.Ch/this.cd.VS(),await this.cd.AZ(this.$.Bf[0].canvas,d),Jp(this)>=this.cd.fG)){this.cd.Am();return}this.Oo()||c||dF(this);this.Ch++;this.mB=!1;this.Pl+=performance.now()-b}}ya(){this.XH=!0}tu(){return this.$?this.$.tu():null}Io(){return this.$?this.$.Io():null}wa(){return this.$?this.$.wa():null}Xo(){const a=this.$;if(a&&!a.wa().Oi()){var b=this.wa(),d=b.zg(),c=d&&b.Qh();d=d&&b.nd();if(c)for(var e of b.Nz){var f=e,g=b.Ue;for(var h of f.Hd){if(h.Ue>=
g)break;if(h.wn)break;h.BD()}}if(this.XH||null!==this.cd){h=this.Wa.Cb();this.EA++;b.xr();(e=this.zb)&&EE.yr();this.XH=!1;f=null;c&&(c=f=zi(a.MA),b.zg()&&(g=Si(b),g.ea=18,g.ff=c,b.Nb=0));c=null;if(d){c=2*(1+h.pc.length);if(!b.zg())throw Error("GPU profiling not supported");if(b.mj)throw Error("already started frame timing");b.yx=!1;b.WI.clear();b.mj=K.j(K.L.yV,b,c);c=b.mj;zj(b,0,1)}this.Fh&&"low"===a.ph?b.wM(a.Zj(),a.Yj()):b.uM();g=this.wa();Lg(g);g.Ku();g.Me(1,1,1,1);g.xd(null);g.te(null);g.re(this.Fh);
KE(this,g)&&Uq(h,g);var k=h.gu();for(var l=1;l<k;++l){var m=h,n=g,p=l,q=null;KE(m.g,n)&&(q=m.ve);n.xd(q);n.Yg(0,0,0,0);m.g.Fh&&n.CD();var t=wp(m,p);Xp(n,q,t,!0);q=m;t=n;KE(q.g,t)&&(t.re(!1),t.xd(null),Lg(t),t.zy(q.ve));n.Fd();m=m.g.$;p>=m.Bf.length||(n=m.Bf[0].canvas,p=m.Bf[p].xQ,VD(m)?p.transferFromImageBitmap(n.transferToImageBitmap()):(p.globalCompositeOperation="copy",p.drawImage(n,0,0)));g.nd()&&uj(g)}KE(this,g)||Uq(h,g);g.xd(h.ve);g.Ed(qq(h));h.g.Fh&&g.CD();k=wp(h,0);Xp(g,h.ve,k,!0);g.nd()&&
zj(g,0,1);h.zr()&&(g.re(!1),k=h.ve,l=h.g,0===h.Ga.Cg.length?(g.xd(null),Lg(g),g.zy(k),g.Ko(k),l.Vo(k)):($p.set(0,0,l.Jf,l.Ge),h.Tf().Xo(g,null,{CJ:h,Ok:3,devicePixelRatio:h.g.cu(),Zx:h.g.du()*h.Ce,Yx:h.hb(),Iq:$p,ZC:null,QJ:!0})));h.ve=null;f&&Xi(b,f);d&&(b.yx&&(yj(b),b.yx=!1),d=this.$,d.PC.set(d.Ug.Ue,c));b.Am();e&&(EE.zZ(),EE.O5());a&&pE(a)}else b.Ue++}}$a(a,b,d){if(!this.PA)return!1;var c=!this.mB&&!(0<this.Fa.Yd);let e=0;c&&(e=performance.now());const f=this.zb;f&&Jn(this,!1);a=this.Fa.bv(this.Wa,
a,b,d);c&&(c=performance.now()-e,this.Pl+=c,f&&EE.DZ(c));f&&Jn(this,!0);return a}async qd(a,b,d){if(!this.we)return this.$a(a,b,d);if(!this.PA)return!1;if(wv(this))return uv(this.Fa,a,b,d);if(!this.Cb())return tv(this.Fa,a,b,d);const c=performance.now();a=this.Fa.Uu(this.Wa,a,b,d);for(b=a.next();!b.done;)await sv(this,b.value),b=a.next();this.Oo()||0<this.Fa.Yd||(await xv(this.Fa),this.dO&&!this.mB&&dF(this));this.Pl+=performance.now()-c;return b.value}JE(a){if(isNaN(a)||0>a)a=0;this.hf=a}zu(){return"preview"===
this.dg}He(a){return this.wa().He(a||this.Ge)}mE(a){this.xk=a}VU(a,b){return a.C().zx-b.C().zx}tD(a,b,d,c){return this.tB.tD(a,b,d,null,null,c)}Gz(a){return this.Fa.Gz(a.name,a.params)}};self.C3_CreateRuntime=X.pM.va;self.C3_InitRuntime=(a,b)=>a.Fm(b);"use strict";const vF=self.A;
function wF(a,b){var d=b.data,c=d.type;b=d.jobId;switch(c){case "result":d=d.result;c=a.zn.get(b);if(!c)throw Error("invalid job ID");c.TC||c.resolve(d);a.zn.delete(b);break;case "progress":d=d.progress;a=a.zn.get(b);if(!a)throw Error("invalid job ID");!a.TC&&a.progress&&a.progress(d);break;case "error":d=d.error;c=a.zn.get(b);if(!c)throw Error("invalid job ID");c.TC||c.reject(d);a.zn.delete(b);break;case "ready":a.iw&&(a.iw=!1,a.rw++,a.rw<a.PO?xF(a):a.dw.postMessage({type:"_no_more_workers"}));break;
default:throw Error(`unknown message from worker '${c}'`);}}async function xF(a){if(!(a.rw>=a.PO||a.iw||a.YN||yF(a)<=a.rw))try{a.iw=!0,(await zl(a.g,"runtime","create-job-worker")).outputPort.onmessage=b=>wF(a,b)}catch(b){a.YN=!0,a.iw=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${a.rw} so far)`,b)}}function yF(a){let b=0;a=[...a.zn.values()].sort((d,c)=>(d.$J||Infinity)-(c.$J||Infinity));for(const d of a)b<(d.$J||Infinity)&&b++;return b}
vF.KT=class extends vF.pa{constructor(a,b){super();this.g=a;this.zn=new Map;this.rX=0;this.dw=b.inputPort;b.outputPort.onmessage=d=>wF(this,d);this.PO=b.maxNumWorkers;this.rw=1;this.YN=this.iw=!1}async Fm(){}tD(a,b,d,c,e,f){d||(d=[]);if("number"===typeof f&&(f=Math.floor(f),0>=f))throw Error("invalid maxWorkerNum");const g=this.rX++;a={type:a,isBroadcast:!1,maxWorkerNum:f,jobId:g,params:b,transferables:d};b=new Promise((h,k)=>{this.zn.set(g,{resolve:h,progress:c,reject:k,TC:!1,$J:f})});e&&Pe(e,()=>
{const h=this.zn.get(g);h&&(h.TC=!0,h.resolve=null,h.progress=null,h.reject=null,this.dw.postMessage({type:"_cancel",jobId:g}))});this.dw.postMessage(a,d);xF(this);return b}};self.C3_Shaders={};"use strict";const zF=self.A;let AF=null,BF="",CF="",DF=[],EF="",FF="",GF="";const HF=zF.j(zF.SR);function IF(a,b){a=a[1];b=b[1];if("number"===typeof a&&"number"===typeof b)return a-b;a=""+a;b=""+b;return a<b?-1:a>b?1:0}
function JF(a,b){AF&&a===BF&&b===CF||(AF=new RegExp(a,b),BF=a,CF=b);AF.lastIndex=0;return AF}function KF(a,b,d){if(a===EF&&b===FF&&d===GF)return DF;const c=JF(b,d);DF=a.match(c);EF=a;FF=b;GF=d;return DF}async function LF(a,b,d){if(d.length){a.Op+=d.length;var c=[];for(const e of d)c.push(tq(b,e));await zF.CU(c,()=>{a.bw++});a.bw++;a.bw===a.Op&&(a.bw=0,a.Op=0,a.g.$a(zF.O.Ob.P.hU,null,null))}}
function*MF(a,b){var d=a.g.ja();a=d.Qc();const c=In(a),e=c.Kb();var f=e.$c(),g=bv(c);const h=a.Pa(e);d=d.Xe;const k=d.Pa();if(g)for(g=0;g<b&&!k.Fc;++g)Av(f),k.ga=g,yield*Fw(e,c,h),Bv(f);else for(f=0;f<b&&!k.Fc;++f)k.ga=f,yield*Fw(e,c,h);a.Ma();d.Ma();return!1}
function*NF(a){var b=a.g.ja();a=b.Qc();const d=In(a),c=d.Kb();var e=c.$c(),f=bv(d);const g=a.Pa(c);b=b.Xe;const h=b.Pa();if(f)for(f=0;!h.Fc;++f)Av(e),h.ga=f,(yield*Fw(c,d,g))||h.Oe(),Bv(e);else for(e=0;!h.Fc;++e)h.ga=e,(yield*Fw(c,d,g))||h.Oe();a.Ma();b.Ma();return!1}
function*OF(a,b,d,c){var e=a.g.ja();a=e.Qc();const f=In(a),g=f.Kb();var h=g.$c();const k=bv(f),l=a.Pa(g);e=e.Xe;const m=e.Pa();m.Mu(b);if(c<d)if(k)for(b=d;b>=c&&!m.Fc;--b)Av(h),m.ga=b,yield*Fw(g,f,l),Bv(h);else for(h=d;h>=c&&!m.Fc;--h)m.ga=h,yield*Fw(g,f,l);else if(k)for(b=d;b<=c&&!m.Fc;++b)Av(h),m.ga=b,yield*Fw(g,f,l),Bv(h);else for(h=d;h<=c&&!m.Fc;++h)m.ga=h,yield*Fw(g,f,l);a.Ma();e.Ma();return!1}
function*PF(a,b){var d=b.X();const c=d.na();if(0===c.length)return!1;var e=a.g.ja();a=e.Qc();const f=In(a),g=f.Kb(),h=g.$c(),k=bv(f),l=a.Pa(g);e=e.Xe;const m=e.Pa(),n=b.cc(),p=HF.Pa();zF.Yc(p,c);if(k)for(let q=0,t=p.length;q<t&&!m.Fc;++q)Av(h),d=p[q],Uu(b.X(),d),n&&bw(d),m.ga=q,yield*Fw(g,f,l),Bv(h);else{d.ab=!1;b=d.H;zF.D(b);b.push(null);for(let q=0,t=p.length;q<t&&!m.Fc;++q)d=p[q],b[0]=d,n&&bw(d),m.ga=q,yield*Fw(g,f,l)}a.Ma();e.Ma();zF.D(p);HF.Ma();return!1}
function*QF(a,b,d){const c=b.X(),e=c.na();if(0===e.length)return!1;var f=a.g.ja();a=f.Qc();const g=f.Rf(),h=In(a),k=h.Kb(),l=k.$c(),m=bv(h),n=a.Pa(k);f=f.Xe;const p=f.Pa(),q=b.cc(),t=HF.Pa();zF.D(t);for(let r=0,u=e.length;r<u;++r)t.push([e[r],g.ta[1].W(r)]);t.sort(IF);1===d&&t.reverse();if(m)for(let r=0,u=t.length;r<u&&!p.Fc;++r)Av(l),d=t[r][0],Uu(b.X(),d),q&&bw(d),p.ga=r,yield*Fw(k,h,n),Bv(l);else{c.ab=!1;b=c.H;zF.D(b);b.push(null);for(let r=0,u=t.length;r<u&&!p.Fc;++r)d=t[r][0],b[0]=d,q&&bw(d),
p.ga=r,yield*Fw(k,h,n)}a.Ma();f.Ma();zF.D(t);HF.Ma();return!1}function RF(a,b,d){let c=a.TN.get(b);if(c)return c;if(!d)return null;c={qo:null,qD:new Map};a.TN.set(b,c);return c}function*SF(a,b,d,c){yield*Pw(a.Sd(),b,a.hg);d&&Bv(c)}zF.O.Ob=class extends zF.nz{constructor(a){super(a);this.Xe=this.g.ja().Xe;this.yd=this.g.ja().Qc();this.bw=this.Op=0;this.TN=new Map}m(){super.m()}ya(){this.g.ya()}$a(a){this.g.$a(a,null,null)}};const TF=self.A;
TF.O.Ob.bp=class extends TF.pa{constructor(a){super();this.I=a;this.g=a.F();this.yh=a.Ka()}m(){this.yh=this.g=this.I=null}};const UF=self.A;UF.O.Ob.Instance=class extends UF.pa{constructor(a){super();this.Ja=a;this.I=this.Ja.G();this.vc=this.I.vc;this.g=this.Ja.F()}m(){this.g=this.vc=this.I=this.Ja=null}};const Z=self.A,VF=[];
Z.O.Ob.P={I_(){return!0},kU(){return!0},jU(){return!0},rU(){return!0},nU(){return!0},Oo(){return this.g.Oo()},uS(){const a=this.g.Sf();return a.en?!1:!a.Mg},I5(){const a=this.g.Rf().Yk();let b=a.get("TriggerOnce_lastTick");"undefined"===typeof b&&(b=-1,a.set("TriggerOnce_lastTick",-1));const d=this.g.Ch;a.set("TriggerOnce_lastTick",d);return this.g.kH||b!==d-1},H_(a){const b=this.g.Rf().Yk(),d=b.get("Every_lastTime")||0,c=Jp(this.g);b.has("Every_seconds")||b.set("Every_seconds",a);const e=b.get("Every_seconds");
if(c>=d+e)return b.set("Every_lastTime",d+e),c>=b.get("Every_lastTime")+.04&&b.set("Every_lastTime",c),b.set("Every_seconds",a),!0;c<d-.1&&b.set("Every_lastTime",c);return!1},yu(a){return(a=this.g.ja().DG.get(a.toLowerCase())||null)&&a.yu()},zu(){return this.g.zu()},No(){return Z.U.No},lU(){return!0},dU(){return!0},C_(){return!0},oU(){return!0},pU(){return!0},WL(){return!0},XL(){return!0},z1(a){return!!$r(this.g,a)},H0(a){switch(a){case 0:return"browser"===Z.U.Qk;case 1:return"iOS"===Z.U.od;case 2:return"Android"===
Z.U.od;case 8:return"cordova"===Z.U.Qk;case 9:return"scirra-arcade"===this.g.dg;case 10:return"nwjs"===Z.U.Qk;case 13:return"windows-uwp"===this.g.dg;default:return!1}},L2(a,b,d){return JF(b,d).test(a)},e_(a,b,d){return Z.compare(a,b,d)},f_(a,b,d){return a>=b&&a<=d},m_(a,b,d){return Z.compare(a.Sc(),b,d)},g_(a){return!!a.Sc()},l_(a,b){const d=Jp(this.g);return 0===a?(a=this.g.Rf().Yk(),!a.get("CompareTime_executed")&&d>=b?(a.set("CompareTime_executed",!0),!0):!1):Z.compare(d,a,b)},E0(a){return isNaN(a)},
PR(a,b,d){return Z.Gq(Z.Bb(a),Z.Bb(d))<=Z.Bb(b)},DT(a,b){return Z.Lf(Z.Bb(a),Z.Bb(b))},BT(a,b,d){a=Z.Bb(a);b=Z.Bb(b);d=Z.Bb(d);return Z.Lf(d,b)?Z.Lf(a,b)&&!Z.Lf(a,d):!(!Z.Lf(a,b)&&Z.Lf(a,d))},O0(a,b){return"number"===typeof a?0===b:1===b},G_(a){return!!a},qU(a){a=a.toLowerCase();var b=this.g.ja();if(0===b.nC.length)throw Error("not in a signal");b=b.nC.at(-1);return a===b},c2(a,b,d,c){if(!a)return!1;const e=HF.Pa(),f=a.X();Z.Yc(e,f.na());f.ab&&Z.D(f.sb);const g=this.g.Rf();let h=0;for(let k=0,l=e.length;k<
l;++k){const m=e[k];e[h]=m;b=g.ta[1].W(k);c=g.ta[3].W(k);Z.compare(b,d,c)?++h:f.sb.push(m)}Z.lf(e,h);Vu(f,e);b=!!e.length;Z.D(e);HF.Ma();Mw(a);return b},d2(a,b){if(!a)return!1;const d=HF.Pa(),c=a.X();Z.Yc(d,c.na());c.ab&&Z.D(c.sb);const e=this.g.Rf();let f=0;for(let g=0,h=d.length;g<h;++g){const k=d[g];d[f]=k;(b=e.ta[1].W(g))?++f:c.sb.push(k)}Z.lf(d,f);Vu(c,d);b=!!d.length;Z.D(d);HF.Ma();Mw(a);return b},e2(a,b,d){if(!a)return!1;const c=a.X(),e=c.na();if(0===e.length)return!1;const f=this.g.Rf();let g=
null,h=0;for(let k=0,l=e.length;k<l;++k){const m=e[k];d=f.ta[2].W(k);if(null===g||0===b&&d<h||1===b&&d>h)h=d,g=m}Zu(c,g);Mw(a);return!0},l2(a,b){if(!a)return!1;const d=a.X(),c=d.na();b=Math.floor(b);if(b>=c.length)return!1;Zu(d,c[b]);Mw(a);return!0},q2(a){if(!a)return!1;const b=a.X(),d=b.na(),c=Math.floor(this.g.oq()*d.length);if(c>=d.length)return!1;Zu(b,d[c]);Mw(a);return!0},b2(a){if(!a||!a.H.length)return!1;a.X().ab=!0;Mw(a);return!0},n2(a,b,d){if(!a)return!1;const c=a.X();var e=c.na();const f=
this.g.Kb().xe,g=this.g.Rf().rj;c.ab?(Z.Yc(VF,e),Tu(c),c.ab=!1):f?(Z.Yc(VF,c.sb),Z.D(c.sb)):(Z.Yc(VF,c.H),Z.D(c.H));for(let h=0,k=VF.length;h<k;++h)e=VF[h],Z.xor(Em(e.C(),b,d),g)?c.H.push(e):c.sb.push(e);Mw(a);return Z.xor(!!c.H.length,g)},j2(a){if(!a)return!1;var b=a.La;let d=null;const c=this.g.tn;for(let e=c.length-1;0<=e;--e){const f=c[e];if(b){if(oA(f.G(),a)){d=f;break}}else if(f.G()===a){d=f;break}}d||(b=a.na(),b.length&&(d=b.at(-1)));if(!d)return!1;Zu(a.X(),d);Mw(a);return!0},IU(a){if(this.g.we)a=
MF(this,a);else{var b=this.g.ja();const e=b.Qc(),f=In(e),g=f.Kb();var d=g.$c(),c=bv(f);const h=e.Pa(g);b=b.Xe;const k=b.Pa();if(c)for(c=0;c<a&&!k.Fc;++c)Av(d),k.ga=c,Ew(g,f,h),Bv(d);else for(d=0;d<a&&!k.Fc;++d)k.ga=d,Ew(g,f,h);e.Ma();b.Ma();a=!1}return a},W5(){if(this.g.we)var a=NF(this);else{var b=this.g.ja();a=b.Qc();const e=In(a),f=e.Kb();var d=f.$c(),c=bv(e);const g=a.Pa(f);b=b.Xe;const h=b.Pa();if(c)for(c=0;!h.Fc;++c)Av(d),h.ga=c,Ew(f,e,g)||h.Oe(),Bv(d);else for(d=0;!h.Fc;++d)h.ga=d,Ew(f,e,g)||
h.Oe();a.Ma();b.Ma();a=!1}return a},P_(a,b,d){if(this.g.we)d=OF(this,a,b,d);else{var c=this.g.ja();const f=c.Qc(),g=In(f),h=g.Kb();var e=h.$c();const k=bv(g),l=f.Pa(h);c=c.Xe;const m=c.Pa();m.Mu(a);if(d<b)if(k)for(a=b;a>=d&&!m.Fc;--a)Av(e),m.ga=a,Ew(h,g,l),Bv(e);else for(e=b;e>=d&&!m.Fc;--e)m.ga=e,Ew(h,g,l);else if(k)for(a=b;a<=d&&!m.Fc;++a)Av(e),m.ga=a,Ew(h,g,l),Bv(e);else for(e=b;e<=d&&!m.Fc;++e)m.ga=e,Ew(h,g,l);f.Ma();c.Ma();d=!1}return d},Q_(a){if(this.g.we)var b=PF(this,a);else{{const n=a.X(),
p=n.na();if(0!==p.length){var d=this.g.ja();b=d.Qc();var c=In(b),e=c.Kb(),f=e.$c(),g=bv(c),h=b.Pa(e);d=d.Xe;var k=d.Pa(),l=a.cc(),m=HF.Pa();zF.Yc(m,p);if(g)for(let q=0,t=m.length;q<t&&!k.Fc;++q)Av(f),g=m[q],Uu(a.X(),g),l&&bw(g),k.ga=q,Ew(e,c,h),Bv(f);else{n.ab=!1;a=n.H;zF.D(a);a.push(null);for(let q=0,t=m.length;q<t&&!k.Fc;++q)f=m[q],a[0]=f,l&&bw(f),k.ga=q,Ew(e,c,h)}b.Ma();d.Ma();zF.D(m);HF.Ma()}b=!1}}return b},R_(a,b,d){if(this.g.we)b=QF(this,a,d);else{{const q=a.X(),t=q.na();if(0!==t.length){var c=
this.g.ja();b=c.Qc();var e=c.Rf(),f=In(b),g=f.Kb(),h=g.$c(),k=bv(f),l=b.Pa(g);c=c.Xe;var m=c.Pa(),n=a.cc(),p=HF.Pa();zF.D(p);for(let r=0,u=t.length;r<u;++r)p.push([t[r],e.ta[1].W(r)]);p.sort(IF);1===d&&p.reverse();if(k)for(let r=0,u=p.length;r<u&&!m.Fc;++r)Av(h),d=p[r][0],Uu(a.X(),d),n&&bw(d),m.ga=r,Ew(g,f,l),Bv(h);else{q.ab=!1;a=q.H;zF.D(a);a.push(null);for(let r=0,u=p.length;r<u&&!m.Fc;++r)d=p[r][0],a[0]=d,n&&bw(d),m.ga=r,Ew(g,f,l)}b.Ma();c.Ma();zF.D(p);HF.Ma()}b=!1}}return b},Y0(a){return a?a.mc():
!1},T0(a){if(a)a:{for(const b of Zo(a))if(!b.zs){a=!1;break a}a=!0}else a=!1;return a},U0(a){return a?a.Vp:!1},S0(a){return a?!a.H.length:!1},R0(a,b,d){return a?Z.compare(100*a.kc(),b,d):!1},W0(a){const b=this.g.Cb();return b?!!Rp(b,a):!1},hU(){return!0},D0(){return 0<this.Op},z5(a,b){const d=this.g.Ah;return d&&b?!!su(d,a,b):!1}};const WF=self.A;function XF(a,b){const d=a[0]-b[0];return 0!==d?d:a[1]-b[1]}function YF(a,b){return a[1]-b[1]}const ZF=[],$F=[],aG=WF.j(WF.Rect),bG=WF.j(WF.bb),cG=[];
WF.O.Ob.Fi={e5(a,b){a.Ne(b)},EZ(a,b){a.Hm()&&"number"!==typeof b&&(b=parseFloat(b));a.Ne(a.Sc()+b)},v5(a,b){a.Hm()&&a.Ne(a.Sc()-b)},b4(a,b){a.Ne(!!b)},E5(a){a.Ne(!a.Sc())},G3(a){a.Ne(a.Il)},H3(a){var b=this.g.ja();for(const d of b.uF)d.jc=d.Il;if(a)for(const d of b.gN)d.ck()&&(d.jc=d.Il)},nS(a,b,d,c,e,f){if(a&&b&&(d=Ll(this.g,a,b,d,c,e,f))){e&&Ko(b,d);b=this.g.ja();Ml(b,!0);Nl(d);Ml(b,!1);b=new Map;lC(d,b,a,e);for(const [g,h]of b)Wu(g.X(),h)}},x_(a,b,d,c,e,f){a&&b&&(a=this.g.Hw.get(a.toLowerCase())||
null)&&WF.O.Ob.Fi.nS.call(this,a,b,d,c,e,f)},Fu(a,b,d,c,e,f,g,h,k,l,m){if(a){var n=P(this.g),p=n;if(f&&(p=Xq(this.g.Wa,f),!p))return;f=null;if("number"!==typeof g||0<=g)if(f=p.Z(g),!f)return;g=null;if("number"!==typeof h||0<=h)if(g=n.Z(h),!g)return;aG.set(b,d,c,e);b=p.Fu(a,aG,f,g,k,l,m);Vu(a.X(),b);Mw(a)}},l5(){const a=this.Xe;0<=a.ga&&a.ar().Oe()},tr(a,b){(a=this.g.ja().DG.get(a.toLowerCase())||null)&&(0===b?a.tr(!1):1===b?a.tr(!0):a.tr(!a.yu()))},c5(a){this.g.JE(a)},U4(a,b){0>b&&(b=0);if(a){a=a.X().na();
for(const d of a)d.JE(b)}},L3(a){if(a){a=a.X().na();for(const b of a)b.hf=-1,TB(b.G())&&rC(b.g,b,!1)}},MM(a){if(!(0>a)){var b=Ev(this.g.ja());b.ea="timer";b.Br();b.fd=Jp(b.Fa.F())+a;return!0}},R5(a){var b=Ev(this.g.ja());b.ea="signal";b.Br();b.qq=a.toLowerCase();return!0},Q5(){const a=this.g.ja();var b=Ev(a);const d=Promise.all(a.ql);a.ql=[];SA(b,d);return!0},LE(a){this.g.ja().LE(a)},async DM(a,b,d,c,e,f){const g=this.g.$;g&&(this.ya(),await g.DM(0===a?"image/png":"image/jpeg",b/100,d,c,e,f),await this.g.qd(WF.O.Ob.P.dU,
null))},d4(a,b){if(!(0>=a||0>=b)){DE(this.g,a,b);No(P(this.g));var d=this.g.$;if(d){if("off"!==hE(d)){var c=this.g;if(c.wh!==a||c.vh!==b)c.wh=a,c.vh=b,a=c.Wa,Zq(a),$q(a)}d.Vd(d.Kk,d.Jk,!0);this.g.ya()}}},t4(a){const b=this.g.$;b&&"off"!==hE(b)&&(jE(b,0!==a?"high":"low"),b.Vd(b.Kk,b.Jk,!0))},Yo(a){this.g.Zw=a},b1(a){this.g.xw=a},c1(a){this.g.mE(a)},u4(){},I3(){for(const a of this.g.Wa.Wh)a.Nn={},a.Up=!0},V4(a){var b=this.g;a=0!==a;b.lw!==a&&(b.lw=a,$q(b.Wa),b.ya())},q4(a,b){this.g.MH=Math.max(1/a,
0);this.g.QH=Math.max(1/b,0)},g4(a,b){this.g.QH=Math.max(a,0);this.g.MH=Math.max(b,0)},r4(a){var b=this.g;a=["vsync","unlimited-tick","unlimited-frame"][a];b.os!==a&&(b.os=a,-1!==b.Be||-1!==b.Dk)&&(cF(b),dF(b))},i5(a,b){if(a){var d=a.X().na(),c=P(this.g),e=a.La;a=a.ci;for(let h=0,k=d.length;h<k;++h){var f=d[h];const l=f.C();if(l){var g=void 0;e?(g=f.G().fs[a],g=ht(f,b+g)):g=ht(f,b);ZF.push([l.Z().Aa(),Dm(l)]);$F.push([f,g])}}if(ZF.length){ZF.sort(XF);$F.sort(YF);b=!1;for(let h=0,k=ZF.length;h<k;++h)d=
$F[h][0],e=Sp(c,ZF[h][0]),a=ZF[h][1],f=e.H,f[a]!==d&&(f[a]=d,wq(d.C(),e,!0),Xo(e,d),b=!0);b&&this.g.ya();WF.D(ZF);WF.D($F)}}},vM(a,b){a=Math.floor(a);b=Math.floor(b);0>=a||0>=b||!Number.isFinite(a)||!Number.isFinite(b)||this.g.wl.vM(a,b)},c0(a){if(!this.g.sj){var b=this.g.Wa;b.xh||(b.xh=a)}},d0(a){if(!this.g.sj){var b=this.g.Wa;!b.xh&&(a=Xq(b,a))&&(b.xh=a)}},t1(a){if(!this.g.sj){var b=this.g.Wa;if(!b.xh){var d=b.Wh,c=d.indexOf(b.Cb());if(!a||0!==c)if(a||c!==d.length-1)b.xh=d[c+(a?-1:1)]}}},J3(){if(!this.g.sj){var a=
this.g.Wa;if(!a.xh){a.xh=a.Cb();a=this.g.ja();for(const b of a.vF)b.tr(b.jH)}}},K4(a,b){a&&a.eh(b)},D4(a,b){a&&(a.zs=!!b)},C4(a,b){a&&am(a,b)},E4(a,b){a&&a.yg(b/100)},G4(a,b){a&&bm(a,b)},H4(a,b){a&&cm(a,b)},w4(a,b){a&&a.qe(WF.Bb(+b))},I4(a,b,d){a&&(fm(a,!0),a.Ui(b),a.Vi(d))},K3(a){a&&fm(a,!1)},F4(a,b,d){a&&(b/=100,d/=100,a.hi!==b||a.ii!==d)&&(a.hi=b,a.ii=d,Oo(a),a.g.ya())},L4(a,b){a&&a.Xf(+b)},x4(a,b){a&&(ud(bG,b),bG.ia(),a=a.sl,rd(a,bG)||(pd(a,bG),this.ya()))},J4(a,b){a&&dm(a,b)},y4(a,b){a&&a.Le(b)},
z4(a,b,d){a&&(d=ds(a.Ga,d))&&(b=1===b,d.ub!==b&&(d.ub=!!b,a.Ag(),this.g.ya()))},A4(a,b,d,c){if(a&&(a=a.Ga,b=ds(a,b))){d=Math.floor(d);var e=b.Td().ku(d);e&&("color"===e?(ud(bG,c),c=bG):"percent"===e&&(c/=100),a.qz(b.Aa(),d,c)&&b.ub&&this.g.ya())}},B4(a,b){a&&em(a,b)},Q4(a){Sl(P(this.g),+a)},M4(a){P(this.g).qe(WF.Bb(+a))},N4(a,b){const d=P(this.g);if(b=ds(d.Ga,b))a=1===a,b.ub!==a&&(b.ub=!!a,d.Ag(),this.g.ya())},O4(a,b,d){const c=P(this.g).Ga;if(a=ds(c,a)){b=Math.floor(b);var e=a.Td().ku(b);e&&("color"===
e?(ud(bG,d),d=bG):"percent"===e&&(d/=100),c.qz(a.Aa(),b,d)&&a.ub&&this.g.ya())}},R4(a,b){var d=P(this.g);a/=100;b/=100;if(d.JC!==a||d.KC!==b)d.JC=a,d.KC=b,d.ig||(iq(d),hq(d),d.g.ya())},P4(a){const b=P(this.g);0===a?Tl(b):Ul(b)},X3(a){P(this.g).Ui(a)},Y3(a){P(this.g).Vi(a)},U3(a,b){const d=P(this.g);d.Ui(a);d.Vi(b)},W3(a){if(a&&(a=bz(a))&&(a=a.C())){var b=P(this.g);b.Ui(a.Da());b.Vi(a.Ea())}},IK(a,b,d){const c=P(this.g);try{c.IK(a,b,d)}catch(e){console.warn("[Construct] Cannot add layer: ",e)}},QL(a,
b,d){if(a){var c=P(this.g);try{c.QL(a,b,d)}catch(e){console.warn("[Construct] Cannot move layer: ",e)}}},eM(a){a&&P(this.g).eM(a)},yE(){P(this.g).yE()},async RT(a){const b=this.g.Cb();b&&a&&!this.g.sj&&await LF(this,b,a.La?a.tk:[a])},async a1(a){await WF.O.Ob.Fi.RT.call(this,this.g.Hw.get(a.toLowerCase())||null)},kV(a){const b=this.g.Cb();if(b&&a){a=a.La?a.tk:[a];for(const d of a)0===d.H.length&&uq(b,d)}},L5(a){WF.O.Ob.Fi.kV.call(this,this.g.Hw.get(a.toLowerCase())||null)},M5(){const a=this.g.Cb();
if(a){var b=[...a.Bh];for(const d of b)0===d.H.length&&uq(a,d)}},async Z0(a){const b=this.g.Cb();a&&b&&!this.g.sj&&await LF(this,b,[...a.Pp])},async $0(a){const b=this.g.Cb();(a=Xq(this.g.Wa,a))&&b&&!this.g.sj&&await LF(this,b,[...a.Pp])},rz(a){var b=this.yd.yA;if(b=0===b.length?null:b.at(-1))switch(b.UN){case 1:"number"===typeof a&&b.rz(a);break;case 2:"string"===typeof a&&b.rz(a);break;case 3:b.rz(a)}},e1(a,b,d){var c=RF(this,a.toLowerCase(),!0);const e=c.qD,f=b.toLowerCase();e.has(f)&&console.warn(`[Construct] Function map '${a}' string '${b}' already in map; overwriting entry`);
(c=WF.first(e.values())||c.qo)&&0!==c.Ej!==(0!==d.Ej)?console.error(`[Construct] Function map '${a}' string '${b}' function return type not compatible with other functions in the map; entry ignored`):e.set(f,d)},f1(a,b){const d=RF(this,a.toLowerCase(),!0);d.qo&&console.warn(`[Construct] Function map '${a}' already has a default; overwriting entry`);const c=WF.first(d.qD.values())||d.qo;c&&0!==c.Ej!==(0!==b.Ej)?console.error(`[Construct] Function map '${a}' default: function return type not compatible with other functions in the map; entry ignored`):
d.qo=b},YZ(a,b,d){var c=this.g,e=c.we?cG:null;d=Math.floor(d);var f=RF(this,a.toLowerCase(),!1);if(!f)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; call ignored`),e;var g=f.qD.get(b.toLowerCase());if(!g)if(f.qo)g=f.qo,d=0;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; call ignored (consider setting a default)`),e;if(!g.al())return e;if(0!==g.Ej)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has a return type so cannot be called`),
e;f=c.ja().Kb();a=f.md();(b=0<a.length)&&(g.hg?Av(a):zv(a));e=[];if(f=Lv(f)){f=f.eg;for(let k=d,l=f.length;k<l;++k)e.push(f[k].Sc())}d=g.eg;for(let k=e.length,l=d.length;k<l;++k)e.push(d[k].Il);if(c.we)a=SF(g,e,b,a);else{c=g.Sd();var h=g.hg;g=c.md();d=0<g.length;f=c.yd;const k=c.g.ja(),l=1<++k.Yd;l&&k.zd.Pa();Jw(c.De,e);d&&(h?Av(g):zv(g));e=f.Pa(c);Gw(c,e)&&(e.Qe=c,Aw(c,e));f.Ma();l&&k.zd.Ma();d&&Bv(g);--k.Yd;b&&Bv(a);a=void 0}return a}};const dG=self.A;
dG.O.Ob.$g={I7:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},b7:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},wm(a){return a.toString()},$x(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.oq()*a:this.g.oq()*(b-a)+a},YX(...a){return a[Math.floor(this.g.oq()*a.length)]},w6(a,...b){"number"!==typeof a&&(a=0);a=dG.ia(Math.floor(a),0,b.length-1);return b[a]},J8(){return Math.PI},G7(){return Infinity},
sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},round(a){return Math.round(a)},q9(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(dG.Bb(a))},cos(a){return Math.cos(dG.Bb(a))},tan(a){return Math.tan(dG.Bb(a))},asin(a){return dG.Ei(Math.asin(a))},acos(a){return dG.Ei(Math.acos(a))},atan(a){return dG.Ei(Math.atan(a))},exp(a){return Math.exp(a)},
LY(a){return Math.log(a)},log10(a){return Math.log10(a)},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let d=1,c=a.length;d<c;++d){let e=a[d];"number"===typeof e&&b>e&&(b=e)}return b},ia(a,b,d){return dG.ia(a,b,d)},hd(a,b,d,c){return dG.jY(a,b,d,c)},angle(a,b,d,c){return dG.Ei(dG.wJ(a,b,d,c))},Nf(a,b,d){return dG.Nf(a,b,d)},rD(a,b,d){return dG.rD(a,b,d)},jD(a,
b,d,c){return dG.jD(a,b,d,c)},yQ(a,b,d,c,e){return dG.yQ(a,b,d,c,e)},wQ(a,b,d){return dG.wQ(a,b,d)},h6(a,b){return dG.Ei(dG.Gq(dG.Bb(a),dG.Bb(b)))},i6(a,b,d){return dG.Ei(dG.uJ(dG.Bb(a),dG.Bb(b),d))},j6(a,b,d){return dG.Ei(dG.vJ(dG.Bb(a),dG.Bb(b),dG.Bb(d)))},B9(a,b,d){b|=0;return(a|0)&~(1<<b)|(0!==d?1:0)<<b},W9(a,b){return(a|0)^1<<(b|0)},z7(a,b){return(a|0)&1<<(b|0)?1:0},v8(){return"\n"},c$(a){return"string"===typeof a?a.toUpperCase():""},m8(a){return"string"===typeof a?a.toLowerCase():""},left(a,
b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,d){return"string"!==typeof a?"":0>d?a.substr(b):a.substr(b,d)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},lZ(a,b,d){if("string"!==typeof a||"string"!==typeof d)return"";a=a.split(d);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},mZ(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?
a.search(new RegExp(dG.Ut(b),"i")):-1},a7(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(dG.Ut(b),"")):-1},replace(a,b,d){return"string"===typeof a&&"string"===typeof b&&"string"===typeof d?a.replace(new RegExp(dG.Ut(b),"gi"),d):"string"===typeof a?a:""},L9(a,...b){for(let d=0,c=b.length;d<c;++d)a=a.replaceAll(`{${d}}`,b[d].toString());return a},Z8(a,b,d){b=JF(b,d);return a?a.search(b):-1},Y8(a,b,d,c){b=JF(b,d);return a?a.replace(b,c):""},X8(a,b,d){return(a=KF(a.toString(),
b,d))?a.length:0},W8(a,b,d,c){c=Math.floor(c);a=KF(a.toString(),b,d);return!a||0>c||c>=a.length?"":a[c]},w$(a,b){let d=0>a?"-":"";0>a&&(a=-a);d+="0".repeat(Math.max(b-a.toString().length,0));return d+a.toString()},e$(a){return encodeURIComponent(a)},d$(a){return decodeURIComponent(a)},HJ(){return this.g.Kv},U9(){return this.g.hf},s$(){return(Date.now()-this.g.vC)/1E3},a$(){return Date.now()},time(){return Jp(this.g)},Q9(){return this.g.Ch},A8(){return this.g.cI},mY(){return this.g.ls},A6(){return this.g.IB},
A7(){return this.g.Oy()},v$(){return this.g.$.ag},u$(){return this.g.$.$f},F8(){return this.g.wh},E8(){return this.g.vh},D8(){return this.g.wh},C8(){return this.g.vh},s9(){return P(this.g).vg()},t9(){return P(this.g).wg()},h8(){return P(this.g).ka()},i8(){return P(this.g).Ce},f8(){return dG.Ei(P(this.g).hb())},j8(){return P(this.g).S()},g8(){return P(this.g).R()},h$(){return 100*hp(P(this.g))},i$(){return 100*ip(P(this.g))},m$(a){return(a=P(this.g).Z(a))?fp(a).V:0},q$(a){return(a=P(this.g).Z(a))?
fp(a).T:0},p$(a){return(a=P(this.g).Z(a))?fp(a).da:0},k$(a){return(a=P(this.g).Z(a))?fp(a).aa:0},r$(a){return(a=P(this.g).Z(a))?fp(a).width():0},l$(a){return(a=P(this.g).Z(a))?fp(a).height():0},n$(a){return(a=P(this.g).Z(a))?(a=fp(a),(a.V+a.da)/2):0},o$(a){return(a=P(this.g).Z(a))?(a=fp(a),(a.T+a.aa)/2):0},t6(a,b,d){return(a=P(this.g).Z(a))?dp(a,b,d)[0]:0},u6(a,b,d){return(a=P(this.g).Z(a))?dp(a,b,d)[1]:0},Y7(a,b,d){return(a=P(this.g).Z(a))?Cn(a,b,d)[0]:0},Z7(a,b,d){return(a=P(this.g).Z(a))?Cn(a,
b,d)[1]:0},a8(a,b,d,c){const e=P(this.g);a=e.Z(a);b=e.Z(b);if(!a||!b||a===b)return d;const [f,g]=Cn(a,d,c);return dp(b,f,g)[0]},b8(a,b,d,c){const e=P(this.g);a=e.Z(a);b=e.Z(b);if(!a||!b||a===b)return c;const [f,g]=Cn(a,d,c);return dp(b,f,g)[1]},U7(a){return(a=P(this.g).Z(a))?a.Ce:0},P7(a){return(a=P(this.g).Z(a))?dG.Ei(a.Eg):0},R7(a){return(a=P(this.g).Z(a))?100*a.kc():0},V7(a){return(a=P(this.g).Z(a))?a.cm:0},W7(a){return(a=P(this.g).Z(a))?a.vg():0},X7(a){return(a=P(this.g).Z(a))?a.wg():0},S7(a){return(a=
P(this.g).Z(a))?100*a.hi:0},T7(a){return(a=P(this.g).Z(a))?100*a.ii:0},c8(a){return(a=P(this.g).Z(a))?a.Xa():0},Q7(a){return(a=P(this.g).Z(a))?a.Aa():-1},s6(){const a=this.g.$;return a?a.ix:""},NY(a){var b=this.Xe;if(!(0<=b.ga))return 0;if(a){a:{const d=b.ib;for(b=b.ga;0<=b;--b){const c=d[b];if(c.ka()===a){a=c;break a}}a=null}return a?a.Aa():0}return b.ar().Aa()},r9(){return this.g.Xp},r6(a,b,...d){var c=RF(this,a.toLowerCase(),!1);if(!c)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; returning 0`),
0;let e=c.qD.get(b.toLowerCase());if(!e)if(c.qo)e=c.qo;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=e.Ej;const f=Rv(e);if(0===c)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!e.al())return f;a=this.g.ja().Kb().md();(b=0<a.length)&&(e.hg?Av(a):zv(a));var g=e.eg;for(let h=d.length,
k=g.length;h<k;++h)d.push(g[h].Il);g=e.Sd();d=g.DE(g.md(),e.hg,c,f,...d);b&&Bv(a);return d},l8(){return this.g.rd.xB},E7(){return 0===this.Op?1:this.bw/this.Op},ro(){return this.g.Io()?"webgpu":"webgl"},d9(){return this.g.Io()?Pj(this.g.Io()):this.g.tu().Ex},F7(){let a=this.g.wa().ND();return Math.round(100*a/1048576)/100},f9(a,b,d){return dG.uU(a,b,d)},i9(a,b,d){return dG.ZL(a/100,b/100,d/100)},g9(a,b,d,c){return dG.fz(a/100,b/100,d/100,c/100)},j9(a,b,d){return dG.ZL(a/255,b/255,d/255)},h9(a,b,d,
c){return dG.fz(a/255,b/255,d/255,c/255)},P8(){return this.g.$B},Q8(){return this.g.oP},G6(){return this.g.Kb().Oc.ka()},F6(){return this.g.Kb().Yr}};"use strict";const eG=self.A;eG.O.Rd=class extends eG.nz{constructor(a){super(a)}m(){super.m()}};const fG=self.A;fG.O.Rd.bp=class extends fG.oz{constructor(a){super(a)}m(){super.m()}};const gG=self.A;
async function hG(a,b,d,c){console.error(`[Construct] AJAX request to '${d}' (tag '${b}') failed: `,c);a.pk=b;await a.qd(gG.O.Rd.P.bU);a.pk=b;await a.qd(gG.O.Rd.P.VL)}async function iG(a,b){a.pk=b;await a.qd(gG.O.Rd.P.aU);a.pk=b;await a.qd(gG.O.Rd.P.UL)}async function jG(a,b,d){d.lengthComputable&&(a.lI=d.loaded/d.total,a.pk=b,await a.qd(gG.O.Rd.P.mU))}
function kG(a,b,d,c){if(a.nB){var e=a.$O,f=a.ZO+d;e.existsSync(f)?e.readFile(f,{encoding:"utf8"},(g,h)=>{g?hG(a,b,d,g):(a.An=h.replace(/\r\n/g,"\n"),iG(a,b))}):hG(a,b,d,c)}else hG(a,b,d,c)}async function lG(a,b,d){const c=a.g.rd,e=a.Fw;a.Fw=null;try{if(e){const f=await Xn(c,d,"buffer");e.QU(f);a.An=""}else a.An=(await Xn(c,d,"text")).replace(/\r\n/g,"\n");a.vw=0;iG(a,b)}catch(f){hG(a,b,d,f)}}
function mG(a,b,d,c,e){return new Promise(f=>{const g=k=>{kG(a,b,d,k);f()},h=a.Fw;a.Fw=null;try{const k=new XMLHttpRequest;k.onreadystatechange=()=>{if(4===k.readyState){a.An=h?"":(k.responseText||"").replace(/\r\n/g,"\n");a.vw=k.status;if(400<=k.status)hG(a,b,d,k.status+k.statusText);else{const l=a.An.length||h&&k.response instanceof ArrayBuffer;a.nB&&!l||!a.nB&&0===k.status&&!l||(h&&h.QU(k.response),iG(a,b))}f()}};k.onerror=g;k.ontimeout=g;k.onabort=g;k.onprogress=l=>jG(a,b,l);k.open(c,d);0<=a.bo&&
"undefined"!==typeof k.timeout&&(k.timeout=a.bo);k.responseType=h?"arraybuffer":"text";e&&!a.LB.has("Content-Type")&&("string"!==typeof e?k.setRequestHeader("Content-Type","application/octet-stream"):k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));for(const [l,m]of a.LB)try{k.setRequestHeader(l,m)}catch(n){console.error(`[Construct] AJAX: Failed to set header '${l}: ${m}': `,n)}a.LB.clear();if(a.MB){try{k.overrideMimeType(a.MB)}catch(l){console.error("[Construct] AJAX: failed to override MIME type: ",
l)}a.MB=""}a.ZH&&(k.withCredentials=!0,a.ZH=!1);e?k.send(e):k.send()}catch(k){g(k)}})}
gG.O.Rd.Instance=class extends gG.FE{constructor(a){super(a);this.An="";this.vw=0;this.pk="";this.lI=0;this.bo=-1;this.LB=new Map;this.Fw=null;this.MB="";this.ZH=!1;this.ZO=this.aP=this.$O=null;if(this.nB="nwjs"===this.g.dg)this.$O=require("fs"),this.aP=require("path"),this.ZO=this.aP.dirname((self.process||nw.process).execPath)+"\\"}m(){super.m()}Gd(){return{lastData:this.An,lastStatusCode:this.vw}}Tc(a){this.An=a.lastData;this.vw=a.hasOwnProperty("lastStatusCode")?a.lastStatusCode:0;this.pk="";
this.lI=0}};const nG=self.A;nG.O.Rd.P={UL(a){return nG.Qj(this.pk,a)},aU(){return!0},VL(a){return nG.Qj(this.pk,a)},bU(){return!0},mU(a){return nG.Qj(this.pk,a)}};const oG=self.A;
oG.O.Rd.Fi={async Request(a,b){CE(this.g)&&oG.Zy(b)&&this.g.rd.vn?await lG(this,a,b):await mG(this,a,b,"GET",null)},async Q2(a,b){CE(this.g)&&this.g.rd.vn?await lG(this,a,b):await mG(this,a,b,"GET",null)},async yU(a,b,d,c){await mG(this,a,b,c,d)},async B2(a,b,d,c){d&&(d=bz(d,this.Ja))&&(d=L(d).V_(),await mG(this,a,b,c,d))},b5(a){this.bo=1E3*a},RU(a,b){this.LB.set(a,b)},a5(a){a&&(a=bz(a,this.Ja))&&(this.Fw=L(a))},W1(a){this.MB=a},f5(a){this.ZH=!!a}};
self.A.O.Rd.$g={NT(){return this.An},OT(){return this.vw},D2(){return this.lI},Tag(){return this.pk}};"use strict";const pG=self.A;pG.O.Yi=class extends pG.rM{constructor(a){super(a,"text-input");YA(this,"click",(b,d)=>b.dF(d));YA(this,"dblclick",b=>qG(b));YA(this,"change",(b,d)=>rG(b,d))}m(){super.m()}};const sG=self.A;sG.O.Yi.bp=class extends sG.oz{constructor(a){super(a)}m(){super.m()}};const tG=self.A,uG=self.nf,vG="text password email number tel url textarea search".split(" ");
async function qG(a){a.Yq("dblclick",!0);await a.qd(tG.O.Yi.P.gU)}async function rG(a,b){a.jb=b.text;a.Yq("change",!0);await a.qd(tG.O.Yi.P.tU)}function wG(a,b){b=!!b;a.wk!==b&&(a.wk=b,gB(a))}function xG(a,b){b=Math.max(+b,-1);a.$p!==b&&(a.$p=b,gB(a))}function yG(a){Promise.resolve().then(()=>aA(a,"scroll-to-bottom"))}
tG.O.Yi.Instance=class extends tG.qM{constructor(a,b){super(a,"text-input");this.jf=this.ki=this.jb="";this.Pc=!0;this.uq=this.wk=!1;this.ea="text";this.rl=!0;this.$p=-1;this.uv=this.Yb="";b&&(this.jb=b[0],this.ki=b[1],this.jf=b[2],this.C().eh(b[3]),this.Pc=b[4],this.wk=b[5],this.uq=b[6],this.ea=vG[b[7]],this.rl=b[8],this.Yb=b[9],this.uv=b[10]);fB(this,{type:this.ea,id:this.Yb,className:this.uv})}m(){super.m()}Ly(){return{text:this.jb,placeholder:this.ki,title:this.jf,isEnabled:this.Pc,isReadOnly:this.wk,
spellCheck:this.uq,maxLength:this.$p}}async dF(){this.Yq("click",!0);await this.qd(tG.O.Yi.P.bz)}lp(a){this.jb!==a&&(this.jb=a,gB(this))}Jz(a){this.jf!==a&&(this.jf=a,gB(this))}Zu(a){a=!!a;this.Pc!==a&&(this.Pc=a,gB(this))}zm(){}Gd(){return{t:this.jb,p:this.ki,ti:this.jf,e:this.Pc,r:this.wk,sp:this.uq,ml:this.$p,type:this.ea,id:this.Yb}}Tc(a){this.jb=a.t;this.ki=a.p;this.jf=a.ti;this.Pc=a.e;this.wk=a.r;this.uq=a.sp;this.$p=a.hasOwnProperty("ml")?a.ml:-1;this.ea=a.type;this.Yb=a.id;gB(this)}Zc(a){switch(a){case 0:return this.jb;
case 1:return this.ki;case 2:return this.jf;case 4:return this.Pc;case 5:return this.wk;case 6:return this.uq;case 8:return this.rl}}Si(a,b){switch(a){case 0:if(this.jb===b)break;this.jb=b;gB(this);break;case 1:if(this.ki===b)break;this.ki=b;gB(this);break;case 2:if(this.jf===b)break;this.jf=b;gB(this);break;case 4:if(this.Pc===!!b)break;this.Pc=!!b;gB(this);break;case 5:if(this.wk===!!b)break;this.wk=!!b;gB(this);break;case 6:if(this.uq===!!b)break;this.uq=!!b;gB(this);break;case 8:this.rl=!!b}}bh(){return self.kr}};
const zG=new WeakMap;self.kr=class extends self.rL{constructor(){super();zG.set(this,L(self.vf.Ez()))}set text(a){uG.ad(a);zG.get(this).lp(a)}get text(){return zG.get(this).jb}set placeholder(a){uG.ad(a);var b=zG.get(this);b.ki!==a&&(b.ki=a,gB(b))}get placeholder(){return zG.get(this).ki}set isEnabled(a){zG.get(this).Zu(a)}get isEnabled(){return zG.get(this).Pc}set GY(a){wG(zG.get(this),a)}get GY(){return zG.get(this).wk}set maxLength(a){uG.xf(a);xG(zG.get(this),a)}get maxLength(){return zG.get(this).$p}};
const AG=self.A;AG.O.Yi.P={kS(a,b){return 0===b?AG.Qj(this.jb,a):this.jb===a},tU(){return!0},bz(){return!0},gU(){return!0}};self.A.O.Yi.Fi={wr(a){this.lp(a.toString())},HZ(a){""!==a&&this.lp(this.jb+a)},W4(a){this.ki!==a&&(this.ki=a,gB(this))},SU(a){this.Jz(a)},Z4(a){wG(this,0===a)},V3(){yG(this)},S4(a){xG(this,a)}};self.A.O.Yi.$g={Text(){return this.jb},h1(){return this.$p}};"use strict";const BG=self.A;BG.O.ym=class extends BG.rM{constructor(a){super(a,"button");YA(this,"click",(b,d)=>b.dF(d))}m(){super.m()}};
const CG=self.A;CG.O.ym.bp=class extends CG.oz{constructor(a){super(a)}m(){super.m()}};const DG=self.A,EG=self.nf;function FG(a,b){a.gB&&(b=!!b,a.di!==b&&(a.di=b,gB(a)))}
DG.O.ym.Instance=class extends DG.qM{constructor(a,b){super(a,"button");this.jb="OK";this.di=this.gB=!1;this.uv=this.Yb=this.jf="";this.rl=this.Pc=!0;b&&(this.gB=1===b[0],this.jb=b[1],this.jf=b[2],this.C().eh(b[3]),this.Pc=b[4],this.rl=b[5],this.di=b[6],this.Yb=b[7],this.uv=b[8]);fB(this,{id:this.Yb,className:this.uv})}m(){super.m()}Ly(){return{text:this.jb,isCheckbox:this.gB,isChecked:this.di,title:this.jf,isVisible:this.C().mc(),isEnabled:this.Pc}}async dF(a){this.di=a.isChecked;this.Yq("click",
!0);await this.qd(DG.O.ym.P.bz)}lp(a){this.jb!==a&&(this.jb=a,gB(this))}Jz(a){this.jf!==a&&(this.jf=a,gB(this))}Zu(a){a=!!a;this.Pc!==a&&(this.Pc=a,gB(this))}zm(){}Gd(){return{text:this.jb,checked:this.di,title:this.jf,enabled:this.Pc}}Tc(a){this.jb=a.text;this.di=a.checked;this.jf=a.title;this.Pc=a.enabled;gB(this)}Zc(a){switch(a){case 1:return this.jb;case 2:return this.jf;case 4:return this.Pc;case 5:return this.rl;case 6:return this.di}}Si(a,b){switch(a){case 1:this.lp(b);break;case 2:this.Jz(b);
break;case 4:this.Zu(!!b);break;case 5:this.rl=!!b;break;case 6:FG(this,!!b)}}bh(){return self.qL}};const GG=new WeakMap;self.qL=class extends self.rL{constructor(){super();GG.set(this,L(self.vf.Ez()))}set text(a){EG.ad(a);GG.get(this).lp(a)}get text(){return GG.get(this).jb}set isEnabled(a){GG.get(this).Zu(a)}get isEnabled(){return GG.get(this).Pc}set DY(a){FG(GG.get(this),a)}get DY(){return GG.get(this).di}};const HG=self.A;
HG.O.ym.P={bz(){return!0},w0(){return this.di},kS(a,b){return b?this.jb===a:HG.Qj(this.jb,a)}};self.A.O.ym.Fi={wr(a){this.lp(a)},SU(a){this.Jz(a)},e4(a){FG(this,0!==a)},F5(){this.gB&&(this.di=!this.di,gB(this))}};self.A.O.ym.$g={Text(){return this.jb}};function IG(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}
self.dS=[a=>{const b=Ex(a,0).Kh(),d=Ex(a,1);return()=>b(gx(d),";")},a=>{const b=Ex(a,0).Kh(),d=Ex(a,1).Kh(),c=Ex(a,2),e=Ex(a,3).Kh();return()=>b(d(gx(c),e(),";"),0,"=")},a=>{const b=Ex(a,0).Kh(),d=Ex(a,1).Kh(),c=Ex(a,2),e=Ex(a,3).Kh();return()=>b(d(gx(c),e(),";"),1,"=")},()=>"RESPONSE",a=>{const b=Ex(a,0);return()=>gx(b)},a=>{const b=Ex(a,0).Kh(),d=Ex(a,1).Kh();return()=>IG(b()," - ")+d()},a=>{const b=Ex(a,0).Kh();return()=>IG(b()," - ERROR")}];const JG=self.A;self.OK=function(){return[JG.O.Rd,JG.O.Yi,JG.O.ym,JG.O.ym.P.bz,JG.O.Ob.P.IU,JG.O.Ob.$g.mZ,JG.O.Yi.$g.Text,JG.O.Rd.Fi.RU,JG.O.Ob.$g.lZ,JG.O.Ob.$g.NY,JG.O.Rd.Fi.yU,JG.O.Rd.P.UL,JG.O.Yi.Fi.wr,JG.O.Rd.$g.OT,JG.O.Rd.$g.NT,JG.O.Rd.P.VL]};self.eS=[{Rd:0},{oS:0},{URL:0},{OU:0},{VT:0},{DU:0},{fT:0}];self.r0={Rd:class extends self.vf{},oS:class extends self.kr{},URL:class extends self.kr{},OU:class extends self.qL{},VT:class extends self.kr{},DU:class extends self.kr{},fT:class extends self.kr{}};
